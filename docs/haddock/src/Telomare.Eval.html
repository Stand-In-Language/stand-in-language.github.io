<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE LambdaCase      #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE PatternSynonyms #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Telomare.Eval</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-5"></span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/hiqnm3bjyh5axrf39myhqllx69x400nw-lens-5.1.1-doc/share/doc/lens-5.1.1/html/src/Control.Lens.Plated.html"><span class="hs-identifier">Control.Lens.Plated</span></a></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Except.html"><span class="hs-identifier">Control.Monad.Except</span></a></span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Reader.html"><span class="hs-identifier">Control.Monad.Reader</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Reader.html#Reader"><span class="hs-identifier">Reader</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Reader.html#runReader"><span class="hs-identifier">runReader</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.State.html"><span class="hs-identifier">Control.Monad.State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.State.Lazy.html#StateT"><span class="hs-identifier">StateT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.State.html"><span class="hs-identifier">Control.Monad.State</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">State</span></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Accum.html"><span class="hs-identifier">Control.Monad.Trans.Accum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Accum.html#AccumT"><span class="hs-identifier">AccumT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Accum.html"><span class="hs-identifier">Control.Monad.Trans.Accum</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Accum</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/mc71nb453ws59fbrr1c9jl3ss85ci6gw-dlist-1.0-doc/share/doc/dlist-1.0/html/src/Data.DList.html"><span class="hs-identifier">Data.DList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/mc71nb453ws59fbrr1c9jl3ss85ci6gw-dlist-1.0-doc/share/doc/dlist-1.0/html/src/Data.DList.Internal.html#DList"><span class="hs-identifier">DList</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/b9f1w28jxjnv00jzc1r5dkla3s33hmg9-recursion-schemes-5.2.2.3-doc/share/doc/recursion-schemes-5.2.2.3/html/src/Data.Functor.Foldable.html"><span class="hs-identifier">Data.Functor.Foldable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/b9f1w28jxjnv00jzc1r5dkla3s33hmg9-recursion-schemes-5.2.2.3-doc/share/doc/recursion-schemes-5.2.2.3/html/src/Data.Functor.Foldable.html#cata"><span class="hs-identifier">cata</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/b9f1w28jxjnv00jzc1r5dkla3s33hmg9-recursion-schemes-5.2.2.3-doc/share/doc/recursion-schemes-5.2.2.3/html/src/Data.Functor.Foldable.html#embed"><span class="hs-identifier">embed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/b9f1w28jxjnv00jzc1r5dkla3s33hmg9-recursion-schemes-5.2.2.3-doc/share/doc/recursion-schemes-5.2.2.3/html/src/Data.Functor.Foldable.html#project"><span class="hs-identifier">project</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Set.Internal.html#Set"><span class="hs-identifier">Set</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Void.html"><span class="hs-identifier">Data.Void</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Debug.Trace.html"><span class="hs-identifier">Debug.Trace</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/System.IO.html"><span class="hs-identifier">System.IO</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/process-1.6.13.2/src/System.Process.html"><span class="hs-identifier">System.Process</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Telomare.html"><span class="hs-identifier">Telomare</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#BreakState"><span class="hs-identifier">BreakState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#BreakState%27"><span class="hs-identifier">BreakState'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#ExprA"><span class="hs-identifier">ExprA</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#FragExpr"><span class="hs-identifier">FragExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>                 </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier">FragIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier">FragIndex</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier">IExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#PartialType"><span class="hs-identifier">PartialType</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>                 </span><span class="annot"><a href="Telomare.html#RecursionPieceFrag"><span class="hs-identifier">RecursionPieceFrag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#RecursionSimulationPieces"><span class="hs-identifier">RecursionSimulationPieces</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>                 </span><span class="annot"><a href="Telomare.html#RunTimeError"><span class="hs-identifier">RunTimeError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#TelomareLike"><span class="hs-identifier">TelomareLike</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier">Term3</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier">Term3</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>                 </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier">Term4</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier">Term4</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#UnsizedRecursionToken"><span class="hs-identifier">UnsizedRecursionToken</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#app"><span class="hs-identifier">app</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#g2s"><span class="hs-identifier">g2s</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>                 </span><span class="annot"><a href="Telomare.html#innerChurchF"><span class="hs-identifier">innerChurchF</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#insertAndGetKey"><span class="hs-identifier">insertAndGetKey</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Telomare.html#AbortAny"><span class="hs-identifier">AbortAny</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>                 </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Telomare.html#AbortRecursion"><span class="hs-identifier">AbortRecursion</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Telomare.html#AbortUser"><span class="hs-identifier">AbortUser</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#rootFrag"><span class="hs-identifier">rootFrag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#s2g"><span class="hs-identifier">s2g</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>                 </span><span class="annot"><a href="Telomare.html#unFragExprUR"><span class="hs-identifier">unFragExprUR</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Telomare.Optimizer.html"><span class="hs-identifier">Telomare.Optimizer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Optimizer.html#optimize"><span class="hs-identifier">optimize</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Telomare.Parser.html"><span class="hs-identifier">Telomare.Parser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Parser.html#UnprocessedParsedTerm"><span class="hs-identifier">UnprocessedParsedTerm</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.Parser.html#parsePrelude"><span class="hs-identifier">parsePrelude</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Telomare.Possible.html"><span class="hs-identifier">Telomare.Possible</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Possible.html#evalA"><span class="hs-identifier">evalA</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Telomare.Resolver.html"><span class="hs-identifier">Telomare.Resolver</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Resolver.html#parseMain"><span class="hs-identifier">parseMain</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Telomare.RunTime.html"><span class="hs-identifier">Telomare.RunTime</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.RunTime.html#hvmEval"><span class="hs-identifier">hvmEval</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.RunTime.html#optimizedEval"><span class="hs-identifier">optimizedEval</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.RunTime.html#pureEval"><span class="hs-identifier">pureEval</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.RunTime.html#simpleEval"><span class="hs-identifier">simpleEval</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Telomare.TypeChecker.html"><span class="hs-identifier">Telomare.TypeChecker</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.TypeChecker.html#TypeCheckError"><span class="hs-identifier">TypeCheckError</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.TypeChecker.html#typeCheck"><span class="hs-identifier">typeCheck</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">data</span><span> </span><span id="ExpP"><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-var">ExpP</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ZeroP"><span class="annot"><a href="Telomare.Eval.html#ZeroP"><span class="hs-identifier hs-var">ZeroP</span></a></span></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="PairP"><span class="annot"><a href="Telomare.Eval.html#PairP"><span class="hs-identifier hs-var">PairP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="VarP"><span class="annot"><a href="Telomare.Eval.html#VarP"><span class="hs-identifier hs-var">VarP</span></a></span></span><span>
</span><span id="line-41"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="SetEnvP"><span class="annot"><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-var">SetEnvP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="DeferP"><span class="annot"><a href="Telomare.Eval.html#DeferP"><span class="hs-identifier hs-var">DeferP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="AbortP"><span class="annot"><a href="Telomare.Eval.html#AbortP"><span class="hs-identifier hs-var">AbortP</span></a></span></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="GateP"><span class="annot"><a href="Telomare.Eval.html#GateP"><span class="hs-identifier hs-var">GateP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="LeftP"><span class="annot"><a href="Telomare.Eval.html#LeftP"><span class="hs-identifier hs-var">LeftP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="RightP"><span class="annot"><a href="Telomare.Eval.html#RightP"><span class="hs-identifier hs-var">RightP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="TraceP"><span class="annot"><a href="Telomare.Eval.html#TraceP"><span class="hs-identifier hs-var">TraceP</span></a></span></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412794"><span id="local-6989586621679412805"><span class="annot"><span class="annottext">ExpP -&gt; ExpP -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ExpP -&gt; ExpP -&gt; Bool
$c/= :: ExpP -&gt; ExpP -&gt; Bool
== :: ExpP -&gt; ExpP -&gt; Bool
$c== :: ExpP -&gt; ExpP -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412770"><span id="local-6989586621679412772"><span id="local-6989586621679412791"><span class="annot"><span class="annottext">Int -&gt; ExpP -&gt; ShowS
[ExpP] -&gt; ShowS
ExpP -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ExpP] -&gt; ShowS
$cshowList :: [ExpP] -&gt; ShowS
show :: ExpP -&gt; [Char]
$cshow :: ExpP -&gt; [Char]
showsPrec :: Int -&gt; ExpP -&gt; ShowS
$cshowsPrec :: Int -&gt; ExpP -&gt; ShowS
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412743"><span id="local-6989586621679412745"><span id="local-6989586621679412747"><span id="local-6989586621679412749"><span id="local-6989586621679412751"><span id="local-6989586621679412753"><span id="local-6989586621679412765"><span class="annot"><span class="annottext">Eq ExpP
ExpP -&gt; ExpP -&gt; Bool
ExpP -&gt; ExpP -&gt; Ordering
ExpP -&gt; ExpP -&gt; ExpP
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: ExpP -&gt; ExpP -&gt; ExpP
$cmin :: ExpP -&gt; ExpP -&gt; ExpP
max :: ExpP -&gt; ExpP -&gt; ExpP
$cmax :: ExpP -&gt; ExpP -&gt; ExpP
&gt;= :: ExpP -&gt; ExpP -&gt; Bool
$c&gt;= :: ExpP -&gt; ExpP -&gt; Bool
&gt; :: ExpP -&gt; ExpP -&gt; Bool
$c&gt; :: ExpP -&gt; ExpP -&gt; Bool
&lt;= :: ExpP -&gt; ExpP -&gt; Bool
$c&lt;= :: ExpP -&gt; ExpP -&gt; Bool
&lt; :: ExpP -&gt; ExpP -&gt; Bool
$c&lt; :: ExpP -&gt; ExpP -&gt; Bool
compare :: ExpP -&gt; ExpP -&gt; Ordering
$ccompare :: ExpP -&gt; ExpP -&gt; Ordering
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="file:///nix/store/hiqnm3bjyh5axrf39myhqllx69x400nw-lens-5.1.1-doc/share/doc/lens-5.1.1/html/src/Control.Lens.Plated.html#Plated"><span class="hs-identifier hs-type">Plated</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-51"></span><span>  </span><span id="local-6989586621679412724"><span class="annot"><span class="annottext">plate :: Traversal' ExpP ExpP
</span><a href="file:///nix/store/hiqnm3bjyh5axrf39myhqllx69x400nw-lens-5.1.1-doc/share/doc/lens-5.1.1/html/src/Control.Lens.Plated.html#plate"><span class="hs-identifier hs-var hs-var hs-var hs-var">plate</span></a></span></span><span> </span><span id="local-6989586621679412722"><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679412722"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#PairP"><span class="hs-identifier hs-type">PairP</span></a></span><span> </span><span id="local-6989586621679412721"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412721"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679412720"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412720"><span class="hs-identifier hs-var">b</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#PairP"><span class="hs-identifier hs-var">PairP</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679412722"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412721"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679412722"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412720"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-type">SetEnvP</span></a></span><span> </span><span id="local-6989586621679412718"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412718"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679412717"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412717"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; Bool -&gt; ExpP
</span><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-var">SetEnvP</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679412722"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412718"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412717"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#DeferP"><span class="hs-identifier hs-type">DeferP</span></a></span><span> </span><span id="local-6989586621679412716"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412716"><span class="hs-identifier hs-var">x</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#DeferP"><span class="hs-identifier hs-var">DeferP</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679412722"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412716"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#GateP"><span class="hs-identifier hs-type">GateP</span></a></span><span> </span><span id="local-6989586621679412715"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412715"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679412714"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412714"><span class="hs-identifier hs-var">r</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#GateP"><span class="hs-identifier hs-var">GateP</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679412722"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412715"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679412722"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412714"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#LeftP"><span class="hs-identifier hs-type">LeftP</span></a></span><span> </span><span id="local-6989586621679412713"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412713"><span class="hs-identifier hs-var">x</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#LeftP"><span class="hs-identifier hs-var">LeftP</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679412722"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412713"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#RightP"><span class="hs-identifier hs-type">RightP</span></a></span><span> </span><span id="local-6989586621679412712"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412712"><span class="hs-identifier hs-var">x</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#RightP"><span class="hs-identifier hs-var">RightP</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679412722"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412712"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-58"></span><span>    </span><span id="local-6989586621679412711"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412711"><span class="hs-identifier hs-var">x</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412711"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">data</span><span> </span><span id="EvalError"><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-var">EvalError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RTE"><span class="annot"><a href="Telomare.Eval.html#RTE"><span class="hs-identifier hs-var">RTE</span></a></span></span><span> </span><span class="annot"><a href="Telomare.html#RunTimeError"><span class="hs-identifier hs-type">RunTimeError</span></a></span><span>
</span><span id="line-61"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="TCE"><span class="annot"><a href="Telomare.Eval.html#TCE"><span class="hs-identifier hs-var">TCE</span></a></span></span><span> </span><span class="annot"><a href="Telomare.TypeChecker.html#TypeCheckError"><span class="hs-identifier hs-type">TypeCheckError</span></a></span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="StaticCheckError"><span class="annot"><a href="Telomare.Eval.html#StaticCheckError"><span class="hs-identifier hs-var">StaticCheckError</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="CompileConversionError"><span class="annot"><a href="Telomare.Eval.html#CompileConversionError"><span class="hs-identifier hs-var">CompileConversionError</span></a></span></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="RecursionLimitError"><span class="annot"><a href="Telomare.Eval.html#RecursionLimitError"><span class="hs-identifier hs-var">RecursionLimitError</span></a></span></span><span> </span><span class="annot"><a href="Telomare.html#UnsizedRecursionToken"><span class="hs-identifier hs-type">UnsizedRecursionToken</span></a></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412693"><span id="local-6989586621679412704"><span class="annot"><span class="annottext">EvalError -&gt; EvalError -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: EvalError -&gt; EvalError -&gt; Bool
$c/= :: EvalError -&gt; EvalError -&gt; Bool
== :: EvalError -&gt; EvalError -&gt; Bool
$c== :: EvalError -&gt; EvalError -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412667"><span id="local-6989586621679412669"><span id="local-6989586621679412671"><span id="local-6989586621679412673"><span id="local-6989586621679412675"><span id="local-6989586621679412677"><span id="local-6989586621679412688"><span class="annot"><span class="annottext">Eq EvalError
EvalError -&gt; EvalError -&gt; Bool
EvalError -&gt; EvalError -&gt; Ordering
EvalError -&gt; EvalError -&gt; EvalError
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: EvalError -&gt; EvalError -&gt; EvalError
$cmin :: EvalError -&gt; EvalError -&gt; EvalError
max :: EvalError -&gt; EvalError -&gt; EvalError
$cmax :: EvalError -&gt; EvalError -&gt; EvalError
&gt;= :: EvalError -&gt; EvalError -&gt; Bool
$c&gt;= :: EvalError -&gt; EvalError -&gt; Bool
&gt; :: EvalError -&gt; EvalError -&gt; Bool
$c&gt; :: EvalError -&gt; EvalError -&gt; Bool
&lt;= :: EvalError -&gt; EvalError -&gt; Bool
$c&lt;= :: EvalError -&gt; EvalError -&gt; Bool
&lt; :: EvalError -&gt; EvalError -&gt; Bool
$c&lt; :: EvalError -&gt; EvalError -&gt; Bool
compare :: EvalError -&gt; EvalError -&gt; Ordering
$ccompare :: EvalError -&gt; EvalError -&gt; Ordering
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412647"><span id="local-6989586621679412649"><span id="local-6989586621679412664"><span class="annot"><span class="annottext">Int -&gt; EvalError -&gt; ShowS
[EvalError] -&gt; ShowS
EvalError -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [EvalError] -&gt; ShowS
$cshowList :: [EvalError] -&gt; ShowS
show :: EvalError -&gt; [Char]
$cshow :: EvalError -&gt; [Char]
showsPrec :: Int -&gt; EvalError -&gt; ShowS
$cshowsPrec :: Int -&gt; EvalError -&gt; ShowS
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-keyword">type</span><span> </span><span id="ExpFullEnv"><span class="annot"><a href="Telomare.Eval.html#ExpFullEnv"><span class="hs-identifier hs-var">ExpFullEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Telomare.html#ExprA"><span class="hs-identifier hs-type">ExprA</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-keyword">newtype</span><span> </span><span id="BetterMap"><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-var">BetterMap</span></a></span></span><span> </span><span id="local-6989586621679413047"><span class="annot"><a href="#local-6989586621679413047"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679413046"><span class="annot"><a href="#local-6989586621679413046"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BetterMap"><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-var">BetterMap</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unBetterMap"><span class="annot"><span class="annottext">forall k v. BetterMap k v -&gt; Map k v
</span><a href="Telomare.Eval.html#unBetterMap"><span class="hs-identifier hs-var hs-var">unBetterMap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413047"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413046"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679412640"><span id="local-6989586621679413038"><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#Functor"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-type">BetterMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413038"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-72"></span><span>  </span><span id="local-6989586621679412637"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; BetterMap k a -&gt; BetterMap k b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span id="local-6989586621679412636"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679412636"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-type">BetterMap</span></a></span><span> </span><span id="local-6989586621679412635"><span class="annot"><span class="annottext">Map k a
</span><a href="#local-6989586621679412635"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k v. Map k v -&gt; BetterMap k v
</span><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-var">BetterMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679412636"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Map k a
</span><a href="#local-6989586621679412635"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679412630"><span id="local-6989586621679412632"><span id="local-6989586621679413029"><span id="local-6989586621679413030"><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413030"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413029"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#Semigroup"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-type">BetterMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413030"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413029"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-75"></span><span>  </span><span id="local-6989586621679412626"><span class="annot"><span class="annottext">&lt;&gt; :: BetterMap k m -&gt; BetterMap k m -&gt; BetterMap k m
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;&gt;)</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-type">BetterMap</span></a></span><span> </span><span id="local-6989586621679412625"><span class="annot"><span class="annottext">Map k m
</span><a href="#local-6989586621679412625"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-type">BetterMap</span></a></span><span> </span><span id="local-6989586621679412624"><span class="annot"><span class="annottext">Map k m
</span><a href="#local-6989586621679412624"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k v. Map k v -&gt; BetterMap k v
</span><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-var">BetterMap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; Map k a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#unionWith"><span class="hs-identifier hs-var">Map.unionWith</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">Map k m
</span><a href="#local-6989586621679412625"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Map k m
</span><a href="#local-6989586621679412624"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-type">annotateEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span id="annotateEnv"><span class="annot"><span class="annottext">annotateEnv :: IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var hs-var">annotateEnv</span></a></span></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#ZeroP"><span class="hs-identifier hs-var">ZeroP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Pair"><span class="hs-identifier hs-type">Pair</span></a></span><span> </span><span id="local-6989586621679412619"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412619"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679412618"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412618"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412617"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412617"><span class="hs-identifier hs-var">at</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412616"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412616"><span class="hs-identifier hs-var">na</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412619"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-81"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679412615"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412615"><span class="hs-identifier hs-var">bt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412614"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412614"><span class="hs-identifier hs-var">nb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412618"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412617"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412615"><span class="hs-identifier hs-var">bt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#PairP"><span class="hs-identifier hs-var">PairP</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412616"><span class="hs-identifier hs-var">na</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412614"><span class="hs-identifier hs-var">nb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Env"><span class="hs-identifier hs-var">Env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#VarP"><span class="hs-identifier hs-var">VarP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#SetEnv"><span class="hs-identifier hs-type">SetEnv</span></a></span><span> </span><span id="local-6989586621679412610"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412610"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412609"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412609"><span class="hs-identifier hs-var">xt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412608"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412608"><span class="hs-identifier hs-var">nx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412610"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412609"><span class="hs-identifier hs-var">xt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; Bool -&gt; ExpP
</span><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-var">SetEnvP</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412608"><span class="hs-identifier hs-var">nx</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412609"><span class="hs-identifier hs-var">xt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Defer"><span class="hs-identifier hs-type">Defer</span></a></span><span> </span><span id="local-6989586621679412606"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412606"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412605"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412605"><span class="hs-identifier hs-var">nx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412606"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#DeferP"><span class="hs-identifier hs-var">DeferP</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412605"><span class="hs-identifier hs-var">nx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Gate"><span class="hs-identifier hs-type">Gate</span></a></span><span> </span><span id="local-6989586621679412603"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412603"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679412602"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412602"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412601"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412601"><span class="hs-identifier hs-var">at</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412600"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412600"><span class="hs-identifier hs-var">na</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412603"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-88"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679412599"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412599"><span class="hs-identifier hs-var">bt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412598"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412598"><span class="hs-identifier hs-var">nb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412602"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412601"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#%26%26"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679412599"><span class="hs-identifier hs-var">bt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#GateP"><span class="hs-identifier hs-var">GateP</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412600"><span class="hs-identifier hs-var">na</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412598"><span class="hs-identifier hs-var">nb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span id="local-6989586621679412596"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412596"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#LeftP"><span class="hs-identifier hs-var">LeftP</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412596"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-91"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679412594"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412594"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#RightP"><span class="hs-identifier hs-var">RightP</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412594"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-92"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Trace"><span class="hs-identifier hs-var">Trace</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#TraceP"><span class="hs-identifier hs-var">TraceP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span id="local-6989586621679413026"><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-type">fromFullEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#Applicative"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679413026"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679413026"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679413026"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span></span><span>
</span><span id="line-95"></span><span id="fromFullEnv"><span class="annot"><span class="annottext">fromFullEnv :: forall (a :: * -&gt; *).
Applicative a =&gt;
(ExpP -&gt; a IExpr) -&gt; ExpP -&gt; a IExpr
</span><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var hs-var">fromFullEnv</span></a></span></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#ZeroP"><span class="hs-identifier hs-var">ZeroP</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span>
</span><span id="line-96"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679412578"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412578"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#PairP"><span class="hs-identifier hs-type">PairP</span></a></span><span> </span><span id="local-6989586621679412577"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412577"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679412576"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412576"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#Pair"><span class="hs-identifier hs-var">Pair</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412578"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412577"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412578"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412576"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-97"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#VarP"><span class="hs-identifier hs-var">VarP</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Env"><span class="hs-identifier hs-var">Env</span></a></span><span>
</span><span id="line-98"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679412575"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412575"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-type">SetEnvP</span></a></span><span> </span><span id="local-6989586621679412574"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412574"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#SetEnv"><span class="hs-identifier hs-var">SetEnv</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412575"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412574"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-99"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679412573"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412573"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#DeferP"><span class="hs-identifier hs-type">DeferP</span></a></span><span> </span><span id="local-6989586621679412572"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412572"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#Defer"><span class="hs-identifier hs-var">Defer</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412573"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412572"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-100"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679412571"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412571"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#GateP"><span class="hs-identifier hs-type">GateP</span></a></span><span> </span><span id="local-6989586621679412570"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412570"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679412569"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412569"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#Gate"><span class="hs-identifier hs-var">Gate</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412571"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412570"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412571"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412569"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-101"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679412568"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412568"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#LeftP"><span class="hs-identifier hs-type">LeftP</span></a></span><span> </span><span id="local-6989586621679412567"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412567"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412568"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412567"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-102"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679412566"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412566"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#RightP"><span class="hs-identifier hs-type">RightP</span></a></span><span> </span><span id="local-6989586621679412565"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412565"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679412566"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412565"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-103"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#TraceP"><span class="hs-identifier hs-var">TraceP</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Trace"><span class="hs-identifier hs-var">Trace</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Telomare.html#TelomareLike"><span class="hs-identifier hs-type">TelomareLike</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-106"></span><span>  </span><span id="local-6989586621679412560"><span class="annot"><span class="annottext">fromTelomare :: IExpr -&gt; ExpP
</span><a href="Telomare.html#fromTelomare"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromTelomare</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Tuple.html#snd"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span>
</span><span id="line-107"></span><span>  </span><span id="local-6989586621679412555"><span class="annot"><span class="annottext">toTelomare :: ExpP -&gt; Maybe IExpr
</span><a href="Telomare.html#toTelomare"><span class="hs-identifier hs-var hs-var hs-var hs-var">toTelomare</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; a) -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Function.html#fix"><span class="hs-identifier hs-var">fix</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: * -&gt; *).
Applicative a =&gt;
(ExpP -&gt; a IExpr) -&gt; ExpP -&gt; a IExpr
</span><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="annot"><a href="Telomare.Eval.html#partiallyEvaluate"><span class="hs-identifier hs-type">partiallyEvaluate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.html#RunTimeError"><span class="hs-identifier hs-type">RunTimeError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span>
</span><span id="line-110"></span><span id="partiallyEvaluate"><span class="annot"><span class="annottext">partiallyEvaluate :: ExpP -&gt; Either RunTimeError IExpr
</span><a href="Telomare.Eval.html#partiallyEvaluate"><span class="hs-identifier hs-var hs-var">partiallyEvaluate</span></a></span></span><span> </span><span id="local-6989586621679412551"><span class="annot"><span class="annottext">se :: ExpP
</span><a href="#local-6989586621679412551"><span class="hs-identifier hs-var">se</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-type">SetEnvP</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#Defer"><span class="hs-identifier hs-var">Defer</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. (a -&gt; a) -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Function.html#fix"><span class="hs-identifier hs-var">fix</span></a></span><span> </span><span class="annot"><span class="annottext">forall (a :: * -&gt; *).
Applicative a =&gt;
(ExpP -&gt; a IExpr) -&gt; ExpP -&gt; a IExpr
</span><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412551"><span class="hs-identifier hs-var">se</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; Either RunTimeError IExpr
</span><a href="Telomare.RunTime.html#pureEval"><span class="hs-identifier hs-var">pureEval</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.Optimizer.html#optimize"><span class="hs-identifier hs-var">optimize</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span class="annot"><a href="Telomare.Eval.html#partiallyEvaluate"><span class="hs-identifier hs-var">partiallyEvaluate</span></a></span><span> </span><span id="local-6989586621679412550"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412550"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (a :: * -&gt; *).
Applicative a =&gt;
(ExpP -&gt; a IExpr) -&gt; ExpP -&gt; a IExpr
</span><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; Either RunTimeError IExpr
</span><a href="Telomare.Eval.html#partiallyEvaluate"><span class="hs-identifier hs-var">partiallyEvaluate</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679412550"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="annot"><a href="Telomare.Eval.html#convertPT"><span class="hs-identifier hs-type">convertPT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#UnsizedRecursionToken"><span class="hs-identifier hs-type">UnsizedRecursionToken</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span>
</span><span id="line-114"></span><span id="convertPT"><span class="annot"><span class="annottext">convertPT :: (UnsizedRecursionToken -&gt; Int) -&gt; Term3 -&gt; Term4
</span><a href="Telomare.Eval.html#convertPT"><span class="hs-identifier hs-var hs-var">convertPT</span></a></span></span><span> </span><span id="local-6989586621679412548"><span class="annot"><span class="annottext">UnsizedRecursionToken -&gt; Int
</span><a href="#local-6989586621679412548"><span class="hs-identifier hs-var">ll</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span id="local-6989586621679412547"><span class="annot"><span class="annottext">Map FragIndex FragExprUR
</span><a href="#local-6989586621679412547"><span class="hs-identifier hs-var">termMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679412546"><span class="annot"><span class="annottext">unURedMap :: Map FragIndex (FragExpr RecursionPieceFrag)
</span><a href="#local-6989586621679412546"><span class="hs-identifier hs-var hs-var">unURedMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#map"><span class="hs-identifier hs-var">Map.map</span></a></span><span> </span><span class="annot"><span class="annottext">FragExprUR -&gt; FragExpr RecursionPieceFrag
</span><a href="Telomare.html#unFragExprUR"><span class="hs-identifier hs-var">unFragExprUR</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex FragExprUR
</span><a href="#local-6989586621679412547"><span class="hs-identifier hs-var">termMap</span></a></span><span>
</span><span id="line-115"></span><span>                                   </span><span id="local-6989586621679412542"><span class="annot"><span class="annottext">startKey :: FragIndex
</span><a href="#local-6989586621679412542"><span class="hs-identifier hs-var hs-var">startKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Enum a =&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Enum.html#succ"><span class="hs-identifier hs-var">succ</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Tuple.html#fst"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a -&gt; (k, a)
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#findMax"><span class="hs-identifier hs-var">Map.findMax</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex FragExprUR
</span><a href="#local-6989586621679412547"><span class="hs-identifier hs-var">termMap</span></a></span><span>
</span><span id="line-116"></span><span>                                   </span><span id="local-6989586621679412531"><span class="annot"><span class="annottext">changeFrag :: FragExpr RecursionPieceFrag
-&gt; StateT
     (b, FragIndex, Map FragIndex (FragExpr RecursionPieceFrag))
     Identity
     (FragExpr RecursionPieceFrag)
</span><a href="#local-6989586621679412531"><span class="hs-identifier hs-var hs-var">changeFrag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-117"></span><span>                                     </span><span class="annot"><a href="Telomare.html#AuxFrag"><span class="hs-identifier hs-type">AuxFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#NestedSetEnvs"><span class="hs-identifier hs-type">NestedSetEnvs</span></a></span><span> </span><span id="local-6989586621679412528"><span class="annot"><span class="annottext">UnsizedRecursionToken
</span><a href="#local-6989586621679412528"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. Int -&gt; BreakState' a b
</span><a href="Telomare.html#innerChurchF"><span class="hs-identifier hs-var">innerChurchF</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">UnsizedRecursionToken -&gt; Int
</span><a href="#local-6989586621679412548"><span class="hs-identifier hs-var">ll</span></a></span><span> </span><span class="annot"><span class="annottext">UnsizedRecursionToken
</span><a href="#local-6989586621679412528"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-118"></span><span>                                     </span><span class="annot"><a href="Telomare.html#AuxFrag"><span class="hs-identifier hs-type">AuxFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#RecursionTest"><span class="hs-identifier hs-type">RecursionTest</span></a></span><span> </span><span id="local-6989586621679412526"><span class="annot"><span class="annottext">FragExprUR
</span><a href="#local-6989586621679412526"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Monad m, Plated a) =&gt;
(a -&gt; m a) -&gt; a -&gt; m a
</span><a href="file:///nix/store/hiqnm3bjyh5axrf39myhqllx69x400nw-lens-5.1.1-doc/share/doc/lens-5.1.1/html/src/Control.Lens.Plated.html#transformM"><span class="hs-identifier hs-var">transformM</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
-&gt; StateT
     (b, FragIndex, Map FragIndex (FragExpr RecursionPieceFrag))
     Identity
     (FragExpr RecursionPieceFrag)
</span><a href="#local-6989586621679412531"><span class="hs-identifier hs-var">changeFrag</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FragExprUR -&gt; FragExpr RecursionPieceFrag
</span><a href="Telomare.html#unFragExprUR"><span class="hs-identifier hs-var">unFragExprUR</span></a></span><span> </span><span class="annot"><span class="annottext">FragExprUR
</span><a href="#local-6989586621679412526"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-119"></span><span>                                     </span><span id="local-6989586621679412524"><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412524"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412524"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-120"></span><span>                                   </span><span class="annot"><a href="#local-6989586621679412523"><span class="hs-identifier hs-type">insertChanged</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#FragExpr"><span class="hs-identifier hs-type">FragExpr</span></a></span><span> </span><span class="annot"><a href="Telomare.html#RecursionPieceFrag"><span class="hs-identifier hs-type">RecursionPieceFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#BreakState"><span class="hs-identifier hs-type">BreakState</span></a></span><span> </span><span class="annot"><a href="Telomare.html#RecursionPieceFrag"><span class="hs-identifier hs-type">RecursionPieceFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>                                   </span><span id="local-6989586621679412523"><span class="annot"><span class="annottext">insertChanged :: FragIndex
-&gt; FragExpr RecursionPieceFrag
-&gt; BreakState RecursionPieceFrag () ()
</span><a href="#local-6989586621679412523"><span class="hs-identifier hs-var hs-var">insertChanged</span></a></span></span><span> </span><span id="local-6989586621679412522"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412522"><span class="hs-identifier hs-var">nk</span></a></span></span><span> </span><span id="local-6989586621679412521"><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412521"><span class="hs-identifier hs-var">nv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.State.Class.html#modify"><span class="hs-identifier hs-var">State.modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412519"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412519"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412518"><span class="annot"><span class="annottext">Map FragIndex (FragExpr RecursionPieceFrag)
</span><a href="#local-6989586621679412518"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412519"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">Map.insert</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412522"><span class="hs-identifier hs-var">nk</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412521"><span class="hs-identifier hs-var">nv</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr RecursionPieceFrag)
</span><a href="#local-6989586621679412518"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>                                   </span><span id="local-6989586621679412509"><span class="annot"><span class="annottext">builder :: StateT
  ((), FragIndex, Map FragIndex (FragExpr RecursionPieceFrag))
  Identity
  (Map FragIndex ())
</span><a href="#local-6989586621679412509"><span class="hs-identifier hs-var hs-var">builder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a.
(Traversable t, Monad m) =&gt;
t (m a) -&gt; m (t a)
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Traversable.html#sequence"><span class="hs-identifier hs-var">sequence</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall k a b. (k -&gt; a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#mapWithKey"><span class="hs-identifier hs-var">Map.mapWithKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679412506"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412506"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621679412505"><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412505"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a.
(Monad m, Plated a) =&gt;
(a -&gt; m a) -&gt; a -&gt; m a
</span><a href="file:///nix/store/hiqnm3bjyh5axrf39myhqllx69x400nw-lens-5.1.1-doc/share/doc/lens-5.1.1/html/src/Control.Lens.Plated.html#transformM"><span class="hs-identifier hs-var">transformM</span></a></span><span> </span><span class="annot"><span class="annottext">forall {b}.
FragExpr RecursionPieceFrag
-&gt; StateT
     (b, FragIndex, Map FragIndex (FragExpr RecursionPieceFrag))
     Identity
     (FragExpr RecursionPieceFrag)
</span><a href="#local-6989586621679412531"><span class="hs-identifier hs-var">changeFrag</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412505"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
-&gt; FragExpr RecursionPieceFrag
-&gt; BreakState RecursionPieceFrag () ()
</span><a href="#local-6989586621679412523"><span class="hs-identifier hs-var">insertChanged</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412506"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr RecursionPieceFrag)
</span><a href="#local-6989586621679412546"><span class="hs-identifier hs-var">unURedMap</span></a></span><span>
</span><span id="line-123"></span><span>                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">FragIndex
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679412504"><span class="annot"><span class="annottext">Map FragIndex (FragExpr RecursionPieceFrag)
</span><a href="#local-6989586621679412504"><span class="hs-identifier hs-var">newMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a. State s a -&gt; s -&gt; s
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.State.Lazy.html#execState"><span class="hs-identifier hs-var">State.execState</span></a></span><span> </span><span class="annot"><span class="annottext">StateT
  ((), FragIndex, Map FragIndex (FragExpr RecursionPieceFrag))
  Identity
  (Map FragIndex ())
</span><a href="#local-6989586621679412509"><span class="hs-identifier hs-var">builder</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412542"><span class="hs-identifier hs-var">startKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr RecursionPieceFrag)
</span><a href="#local-6989586621679412546"><span class="hs-identifier hs-var">unURedMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>                                   </span><span class="annot"><a href="#local-6989586621679412502"><span class="hs-identifier hs-type">changeType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#FragExpr"><span class="hs-identifier hs-type">FragExpr</span></a></span><span> </span><span class="annot"><a href="Telomare.html#RecursionPieceFrag"><span class="hs-identifier hs-type">RecursionPieceFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#FragExpr"><span class="hs-identifier hs-type">FragExpr</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Void.html#Void"><span class="hs-identifier hs-type">Void</span></a></span><span>
</span><span id="line-125"></span><span>                                   </span><span id="local-6989586621679412502"><span class="annot"><span class="annottext">changeType :: FragExpr RecursionPieceFrag -&gt; FragExpr Void
</span><a href="#local-6989586621679412502"><span class="hs-identifier hs-var hs-var">changeType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-126"></span><span>                                     </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="Telomare.html#ZeroFrag"><span class="hs-identifier hs-var">ZeroFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. FragExpr a
</span><a href="Telomare.html#ZeroFrag"><span class="hs-identifier hs-var">ZeroFrag</span></a></span><span>
</span><span id="line-127"></span><span>                                     </span><span class="annot"><a href="Telomare.html#PairFrag"><span class="hs-identifier hs-type">PairFrag</span></a></span><span> </span><span id="local-6989586621679412499"><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412499"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679412498"><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412498"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. FragExpr a -&gt; FragExpr a -&gt; FragExpr a
</span><a href="Telomare.html#PairFrag"><span class="hs-identifier hs-var">PairFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag -&gt; FragExpr Void
</span><a href="#local-6989586621679412502"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412499"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag -&gt; FragExpr Void
</span><a href="#local-6989586621679412502"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412498"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>                                     </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="Telomare.html#EnvFrag"><span class="hs-identifier hs-var">EnvFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. FragExpr a
</span><a href="Telomare.html#EnvFrag"><span class="hs-identifier hs-var">EnvFrag</span></a></span><span>
</span><span id="line-129"></span><span>                                     </span><span class="annot"><a href="Telomare.html#SetEnvFrag"><span class="hs-identifier hs-type">SetEnvFrag</span></a></span><span> </span><span id="local-6989586621679412495"><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412495"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. FragExpr a -&gt; FragExpr a
</span><a href="Telomare.html#SetEnvFrag"><span class="hs-identifier hs-var">SetEnvFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag -&gt; FragExpr Void
</span><a href="#local-6989586621679412502"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412495"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>                                     </span><span class="annot"><a href="Telomare.html#DeferFrag"><span class="hs-identifier hs-type">DeferFrag</span></a></span><span> </span><span id="local-6989586621679412493"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412493"><span class="hs-identifier hs-var">ind</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. FragIndex -&gt; FragExpr a
</span><a href="Telomare.html#DeferFrag"><span class="hs-identifier hs-var">DeferFrag</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412493"><span class="hs-identifier hs-var">ind</span></a></span><span>
</span><span id="line-131"></span><span>                                     </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="Telomare.html#AbortFrag"><span class="hs-identifier hs-var">AbortFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. FragExpr a
</span><a href="Telomare.html#AbortFrag"><span class="hs-identifier hs-var">AbortFrag</span></a></span><span>
</span><span id="line-132"></span><span>                                     </span><span class="annot"><a href="Telomare.html#GateFrag"><span class="hs-identifier hs-type">GateFrag</span></a></span><span> </span><span id="local-6989586621679412490"><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412490"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679412489"><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412489"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. FragExpr a -&gt; FragExpr a -&gt; FragExpr a
</span><a href="Telomare.html#GateFrag"><span class="hs-identifier hs-var">GateFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag -&gt; FragExpr Void
</span><a href="#local-6989586621679412502"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412490"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag -&gt; FragExpr Void
</span><a href="#local-6989586621679412502"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412489"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>                                     </span><span class="annot"><a href="Telomare.html#LeftFrag"><span class="hs-identifier hs-type">LeftFrag</span></a></span><span> </span><span id="local-6989586621679412487"><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412487"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. FragExpr a -&gt; FragExpr a
</span><a href="Telomare.html#LeftFrag"><span class="hs-identifier hs-var">LeftFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag -&gt; FragExpr Void
</span><a href="#local-6989586621679412502"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412487"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>                                     </span><span class="annot"><a href="Telomare.html#RightFrag"><span class="hs-identifier hs-type">RightFrag</span></a></span><span> </span><span id="local-6989586621679412485"><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412485"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. FragExpr a -&gt; FragExpr a
</span><a href="Telomare.html#RightFrag"><span class="hs-identifier hs-var">RightFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag -&gt; FragExpr Void
</span><a href="#local-6989586621679412502"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="#local-6989586621679412485"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>                                     </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag
</span><a href="Telomare.html#TraceFrag"><span class="hs-identifier hs-var">TraceFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. FragExpr a
</span><a href="Telomare.html#TraceFrag"><span class="hs-identifier hs-var">TraceFrag</span></a></span><span>
</span><span id="line-136"></span><span>                                     </span><span class="annot"><a href="Telomare.html#AuxFrag"><span class="hs-identifier hs-type">AuxFrag</span></a></span><span> </span><span id="local-6989586621679412483"><span class="annot"><span class="annottext">RecursionPieceFrag
</span><a href="#local-6989586621679412483"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;convertPT should be no AuxFrags here &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">RecursionPieceFrag
</span><a href="#local-6989586621679412483"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-137"></span><span>                               </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void) -&gt; Term4
</span><a href="Telomare.html#Term4"><span class="hs-identifier hs-var">Term4</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr RecursionPieceFrag -&gt; FragExpr Void
</span><a href="#local-6989586621679412502"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr RecursionPieceFrag)
</span><a href="#local-6989586621679412504"><span class="hs-identifier hs-var">newMap</span></a></span><span>
</span><span id="line-138"></span><span>
</span><span id="line-139"></span><span class="annot"><a href="Telomare.Eval.html#findChurchSize"><span class="hs-identifier hs-type">findChurchSize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span>
</span><span id="line-140"></span><span id="findChurchSize"><span class="annot"><span class="annottext">findChurchSize :: Term3 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#findChurchSize"><span class="hs-identifier hs-var hs-var">findChurchSize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsizedRecursionToken -&gt; Int) -&gt; Term3 -&gt; Term4
</span><a href="Telomare.Eval.html#convertPT"><span class="hs-identifier hs-var">convertPT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">255</span></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span class="hs-comment">--findChurchSize = calculateRecursionLimits</span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-comment">-- we should probably redo the types so that this is also a type conversion</span><span>
</span><span id="line-144"></span><span class="annot"><a href="Telomare.Eval.html#removeChecks"><span class="hs-identifier hs-type">removeChecks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span>
</span><span id="line-145"></span><span id="removeChecks"><span class="annot"><span class="annottext">removeChecks :: Term4 -&gt; Term4
</span><a href="Telomare.Eval.html#removeChecks"><span class="hs-identifier hs-var hs-var">removeChecks</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span> </span><span id="local-6989586621679412477"><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void)
</span><a href="#local-6989586621679412477"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679412476"><span class="annot"><span class="annottext">f :: FragExpr a -&gt; FragExpr a
</span><a href="#local-6989586621679412476"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-147"></span><span>        </span><span class="annot"><span class="annottext">FragExpr a
</span><a href="Telomare.html#AbortFrag"><span class="hs-identifier hs-var">AbortFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. FragIndex -&gt; FragExpr a
</span><a href="Telomare.html#DeferFrag"><span class="hs-identifier hs-var">DeferFrag</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412475"><span class="hs-identifier hs-var">ind</span></a></span><span>
</span><span id="line-148"></span><span>        </span><span id="local-6989586621679412474"><span class="annot"><span class="annottext">FragExpr a
</span><a href="#local-6989586621679412474"><span class="hs-identifier hs-var">x</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr a
</span><a href="#local-6989586621679412474"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-149"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679412475"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412475"><span class="hs-identifier hs-var">ind</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412473"><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void)
</span><a href="#local-6989586621679412473"><span class="hs-identifier hs-var">newM</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a. State s a -&gt; s -&gt; (a, s)
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.State.Lazy.html#runState"><span class="hs-identifier hs-var">State.runState</span></a></span><span> </span><span class="annot"><span class="annottext">forall {a}. StateT (Map FragIndex (FragExpr a)) Identity FragIndex
</span><a href="#local-6989586621679412471"><span class="hs-identifier hs-var">builder</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void)
</span><a href="#local-6989586621679412477"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-150"></span><span>      </span><span id="local-6989586621679412471"><span class="annot"><span class="annottext">builder :: StateT (Map FragIndex (FragExpr a)) Identity FragIndex
</span><a href="#local-6989586621679412471"><span class="hs-identifier hs-var hs-var">builder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-151"></span><span>        </span><span id="local-6989586621679412464"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412464"><span class="hs-identifier hs-var">envDefer</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall e a. (Ord e, Enum e) =&gt; a -&gt; State (Map e a) e
</span><a href="Telomare.html#insertAndGetKey"><span class="hs-identifier hs-var">insertAndGetKey</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FragExpr a
</span><a href="Telomare.html#EnvFrag"><span class="hs-identifier hs-var">EnvFrag</span></a></span><span>
</span><span id="line-152"></span><span>        </span><span class="annot"><span class="annottext">forall e a. (Ord e, Enum e) =&gt; a -&gt; State (Map e a) e
</span><a href="Telomare.html#insertAndGetKey"><span class="hs-identifier hs-var">insertAndGetKey</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FragIndex -&gt; FragExpr a
</span><a href="Telomare.html#DeferFrag"><span class="hs-identifier hs-var">DeferFrag</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679412464"><span class="hs-identifier hs-var">envDefer</span></a></span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void) -&gt; Term4
</span><a href="Telomare.html#Term4"><span class="hs-identifier hs-var">Term4</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#map"><span class="hs-identifier hs-var">Map.map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Plated a =&gt; (a -&gt; a) -&gt; a -&gt; a
</span><a href="file:///nix/store/hiqnm3bjyh5axrf39myhqllx69x400nw-lens-5.1.1-doc/share/doc/lens-5.1.1/html/src/Control.Lens.Plated.html#transform"><span class="hs-identifier hs-var">transform</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. FragExpr a -&gt; FragExpr a
</span><a href="#local-6989586621679412476"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void)
</span><a href="#local-6989586621679412473"><span class="hs-identifier hs-var">newM</span></a></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="annot"><a href="Telomare.Eval.html#convertAbortMessage"><span class="hs-identifier hs-type">convertAbortMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-156"></span><span id="convertAbortMessage"><span class="annot"><span class="annottext">convertAbortMessage :: IExpr -&gt; [Char]
</span><a href="Telomare.Eval.html#convertAbortMessage"><span class="hs-identifier hs-var hs-var">convertAbortMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-157"></span><span>  </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortRecursion"><span class="hs-identifier hs-var">AbortRecursion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;recursion overflow (should be caught by other means)&quot;</span></span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><a href="Telomare.html#AbortUser"><span class="hs-identifier hs-type">AbortUser</span></a></span><span> </span><span id="local-6989586621679412461"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412461"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;user abort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; [Char]
</span><a href="Telomare.html#g2s"><span class="hs-identifier hs-var">g2s</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412461"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortAny"><span class="hs-identifier hs-var">AbortAny</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;user abort of all possible abort reasons (non-deterministic input)&quot;</span></span><span>
</span><span id="line-160"></span><span>  </span><span id="local-6989586621679412460"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412460"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;unexpected abort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412460"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="annot"><a href="Telomare.Eval.html#runStaticChecks"><span class="hs-identifier hs-type">runStaticChecks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span>
</span><span id="line-163"></span><span id="runStaticChecks"><span class="annot"><span class="annottext">runStaticChecks :: Term4 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#runStaticChecks"><span class="hs-identifier hs-var hs-var">runStaticChecks</span></a></span></span><span> </span><span id="local-6989586621679412458"><span class="annot"><span class="annottext">t :: Term4
</span><a href="#local-6989586621679412458"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span> </span><span id="local-6989586621679412457"><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void)
</span><a href="#local-6989586621679412457"><span class="hs-identifier hs-var">termMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679412456"><span class="annot"><span class="annottext">result :: Maybe IExpr
</span><a href="#local-6989586621679412456"><span class="hs-identifier hs-var hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe IExpr -&gt; Maybe IExpr -&gt; Maybe IExpr)
-&gt; Maybe IExpr -&gt; Term4 -&gt; Maybe IExpr
</span><a href="Telomare.Possible.html#evalA"><span class="hs-identifier hs-var">evalA</span></a></span><span> </span><span class="annot"><span class="annottext">forall {a} {a}. Maybe a -&gt; Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679412455"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term4
</span><a href="#local-6989586621679412458"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-165"></span><span>      </span><span id="local-6989586621679412455"><span class="annot"><span class="annottext">combine :: Maybe a -&gt; Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679412455"><span class="hs-identifier hs-var hs-var">combine</span></a></span></span><span> </span><span id="local-6989586621679412454"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679412454"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679412453"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679412453"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679412454"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679412453"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-166"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-167"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-168"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679412452"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679412452"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679412452"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="#local-6989586621679412456"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Term4
</span><a href="#local-6989586621679412458"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679412451"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412451"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; EvalError
</span><a href="Telomare.Eval.html#StaticCheckError"><span class="hs-identifier hs-var">StaticCheckError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; [Char]
</span><a href="Telomare.Eval.html#convertAbortMessage"><span class="hs-identifier hs-var">convertAbortMessage</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412451"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="annot"><a href="Telomare.Eval.html#runStaticChecksMain"><span class="hs-identifier hs-type">runStaticChecksMain</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span>
</span><span id="line-174"></span><span id="runStaticChecksMain"><span class="annot"><span class="annottext">runStaticChecksMain :: Term4 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#runStaticChecksMain"><span class="hs-identifier hs-var hs-var">runStaticChecksMain</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-comment">-- TODO fix</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="annot"><a href="Telomare.Eval.html#compileMain"><span class="hs-identifier hs-type">compileMain</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span>
</span><span id="line-177"></span><span id="compileMain"><span class="annot"><span class="annottext">compileMain :: Term3 -&gt; Either EvalError IExpr
</span><a href="Telomare.Eval.html#compileMain"><span class="hs-identifier hs-var hs-var">compileMain</span></a></span></span><span> </span><span id="local-6989586621679412448"><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679412448"><span class="hs-identifier hs-var">term</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PartialType -&gt; Term3 -&gt; Maybe TypeCheckError
</span><a href="Telomare.TypeChecker.html#typeCheck"><span class="hs-identifier hs-var">typeCheck</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PartialType -&gt; PartialType -&gt; PartialType
</span><a href="Telomare.html#PairTypeP"><span class="hs-identifier hs-var">PairTypeP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PartialType -&gt; PartialType -&gt; PartialType
</span><a href="Telomare.html#ArrTypeP"><span class="hs-identifier hs-var">ArrTypeP</span></a></span><span> </span><span class="annot"><span class="annottext">PartialType
</span><a href="Telomare.html#ZeroTypeP"><span class="hs-identifier hs-var">ZeroTypeP</span></a></span><span> </span><span class="annot"><span class="annottext">PartialType
</span><a href="Telomare.html#ZeroTypeP"><span class="hs-identifier hs-var">ZeroTypeP</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PartialType
</span><a href="Telomare.html#AnyType"><span class="hs-identifier hs-var">AnyType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679412448"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-178"></span><span>  </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679412443"><span class="annot"><span class="annottext">TypeCheckError
</span><a href="#local-6989586621679412443"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TypeCheckError -&gt; EvalError
</span><a href="Telomare.Eval.html#TCE"><span class="hs-identifier hs-var">TCE</span></a></span><span> </span><span class="annot"><span class="annottext">TypeCheckError
</span><a href="#local-6989586621679412443"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="annot"><span class="annottext">Maybe TypeCheckError
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Term4 -&gt; Either EvalError Term4)
-&gt; Term3 -&gt; Either EvalError IExpr
</span><a href="Telomare.Eval.html#compile"><span class="hs-identifier hs-var">compile</span></a></span><span> </span><span class="annot"><span class="annottext">Term4 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#runStaticChecksMain"><span class="hs-identifier hs-var">runStaticChecksMain</span></a></span><span> </span><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679412448"><span class="hs-identifier hs-var">term</span></a></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="annot"><a href="Telomare.Eval.html#compileUnitTest"><span class="hs-identifier hs-type">compileUnitTest</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span>
</span><span id="line-182"></span><span id="compileUnitTest"><span class="annot"><span class="annottext">compileUnitTest :: Term3 -&gt; Either EvalError IExpr
</span><a href="Telomare.Eval.html#compileUnitTest"><span class="hs-identifier hs-var hs-var">compileUnitTest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term4 -&gt; Either EvalError Term4)
-&gt; Term3 -&gt; Either EvalError IExpr
</span><a href="Telomare.Eval.html#compile"><span class="hs-identifier hs-var">compile</span></a></span><span> </span><span class="annot"><span class="annottext">Term4 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#runStaticChecks"><span class="hs-identifier hs-var">runStaticChecks</span></a></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="annot"><a href="Telomare.Eval.html#compile"><span class="hs-identifier hs-type">compile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span>
</span><span id="line-185"></span><span id="compile"><span class="annot"><span class="annottext">compile :: (Term4 -&gt; Either EvalError Term4)
-&gt; Term3 -&gt; Either EvalError IExpr
</span><a href="Telomare.Eval.html#compile"><span class="hs-identifier hs-var hs-var">compile</span></a></span></span><span> </span><span id="local-6989586621679412440"><span class="annot"><span class="annottext">Term4 -&gt; Either EvalError Term4
</span><a href="#local-6989586621679412440"><span class="hs-identifier hs-var">staticCheck</span></a></span></span><span> </span><span id="local-6989586621679412439"><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679412439"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. TelomareLike a =&gt; a -&gt; Maybe IExpr
</span><a href="Telomare.html#toTelomare"><span class="hs-identifier hs-var">toTelomare</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term4 -&gt; Term4
</span><a href="Telomare.Eval.html#removeChecks"><span class="hs-identifier hs-var">removeChecks</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term3 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#findChurchSize"><span class="hs-identifier hs-var">findChurchSize</span></a></span><span> </span><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679412439"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Term4 -&gt; Either EvalError Term4
</span><a href="#local-6989586621679412440"><span class="hs-identifier hs-var">staticCheck</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-186"></span><span>  </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679412438"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412438"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412438"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">EvalError
</span><a href="Telomare.Eval.html#CompileConversionError"><span class="hs-identifier hs-var">CompileConversionError</span></a></span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679412437"><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679412437"><span class="hs-identifier hs-var">e</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679412437"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="annot"><a href="Telomare.Eval.html#runMain"><span class="hs-identifier hs-type">runMain</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span id="runMain"><span class="annot"><span class="annottext">runMain :: [Char] -&gt; [Char] -&gt; IO ()
</span><a href="Telomare.Eval.html#runMain"><span class="hs-identifier hs-var hs-var">runMain</span></a></span></span><span> </span><span id="local-6989586621679412435"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412435"><span class="hs-identifier hs-var">preludeString</span></a></span></span><span> </span><span id="local-6989586621679412434"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412434"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679412433"><span class="hs-identifier hs-type">prelude</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.Parser.html#UnprocessedParsedTerm"><span class="hs-identifier hs-type">UnprocessedParsedTerm</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-193"></span><span>      </span><span id="local-6989586621679412433"><span class="annot"><span class="annottext">prelude :: [([Char], UnprocessedParsedTerm)]
</span><a href="#local-6989586621679412433"><span class="hs-identifier hs-var hs-var">prelude</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-194"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Either [Char] [([Char], UnprocessedParsedTerm)]
</span><a href="Telomare.Parser.html#parsePrelude"><span class="hs-identifier hs-var">parsePrelude</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412435"><span class="hs-identifier hs-var">preludeString</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-195"></span><span>          </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679412432"><span class="annot"><span class="annottext">[([Char], UnprocessedParsedTerm)]
</span><a href="#local-6989586621679412432"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[([Char], UnprocessedParsedTerm)]
</span><a href="#local-6989586621679412432"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-196"></span><span>          </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679412431"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412431"><span class="hs-identifier hs-var">pe</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412431"><span class="hs-identifier hs-var">pe</span></a></span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-keyword">in</span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Term3 -&gt; Either EvalError IExpr
</span><a href="Telomare.Eval.html#compileMain"><span class="hs-identifier hs-var">compileMain</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[([Char], UnprocessedParsedTerm)] -&gt; [Char] -&gt; Either [Char] Term3
</span><a href="Telomare.Resolver.html#parseMain"><span class="hs-identifier hs-var">parseMain</span></a></span><span> </span><span class="annot"><span class="annottext">[([Char], UnprocessedParsedTerm)]
</span><a href="#local-6989586621679412433"><span class="hs-identifier hs-var">prelude</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412434"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-199"></span><span>      </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679412430"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412430"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/System.IO.html#putStrLn"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;failed to parse &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412434"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412430"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-200"></span><span>      </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679412427"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412427"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IO ()
</span><a href="Telomare.Eval.html#evalLoop"><span class="hs-identifier hs-var">evalLoop</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412427"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-201"></span><span>      </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Right"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679412425"><span class="annot"><span class="annottext">Either EvalError IExpr
</span><a href="#local-6989586621679412425"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/System.IO.html#putStrLn"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;compilation failed somehow, with result &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Either EvalError IExpr
</span><a href="#local-6989586621679412425"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="annot"><a href="Telomare.Eval.html#schemeEval"><span class="hs-identifier hs-type">schemeEval</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span id="schemeEval"><span class="annot"><span class="annottext">schemeEval :: IExpr -&gt; IO ()
</span><a href="Telomare.Eval.html#schemeEval"><span class="hs-identifier hs-var hs-var">schemeEval</span></a></span></span><span> </span><span id="local-6989586621679412423"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412423"><span class="hs-identifier hs-var">iexpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-205"></span><span>  </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; IO ()
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/System.IO.html#writeFile"><span class="hs-identifier hs-var">writeFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;scheme.txt&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'('</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#%3A"><span class="hs-glyph hs-var">:</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412423"><span class="hs-identifier hs-var">iexpr</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;)&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Handle
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679412421"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679412421"><span class="hs-identifier hs-var">mhout</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Handle
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ProcessHandle
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CreateProcess
-&gt; IO (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle)
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/process-1.6.13.2/src/System.Process.html#createProcess"><span class="hs-identifier hs-var">createProcess</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; CreateProcess
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/process-1.6.13.2/src/System.Process.html#shell"><span class="hs-identifier hs-var">shell</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;chez-script runtime.so&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">std_out :: StdStream
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/process-1.6.13.2/src/System.Process.Common.html#std_out"><span class="hs-identifier hs-var">std_out</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StdStream
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/process-1.6.13.2/src/System.Process.Common.html#CreatePipe"><span class="hs-identifier hs-var">CreatePipe</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-207"></span><span>  </span><span id="local-6989586621679412416"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412416"><span class="hs-identifier hs-var">scheme</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; IO [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.IO.Handle.Text.html#hGetContents"><span class="hs-identifier hs-var">hGetContents</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679412421"><span class="hs-identifier hs-var">mhout</span></a></span><span>
</span><span id="line-208"></span><span>  </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/System.IO.html#putStrLn"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412416"><span class="hs-identifier hs-var">scheme</span></a></span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span>
</span><span id="line-211"></span><span class="annot"><a href="Telomare.Eval.html#evalLoop"><span class="hs-identifier hs-type">evalLoop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span id="evalLoop"><span class="annot"><span class="annottext">evalLoop :: IExpr -&gt; IO ()
</span><a href="Telomare.Eval.html#evalLoop"><span class="hs-identifier hs-var hs-var">evalLoop</span></a></span></span><span> </span><span id="local-6989586621679412414"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412414"><span class="hs-identifier hs-var">iexpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-213"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679412406"><span class="annot"><span class="annottext">mainLoop :: IExpr -&gt; IO ()
</span><a href="#local-6989586621679412406"><span class="hs-identifier hs-var hs-var">mainLoop</span></a></span></span><span> </span><span id="local-6989586621679412405"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412405"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-214"></span><span>        </span><span id="local-6989586621679412404"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412404"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IO IExpr
</span><a href="Telomare.RunTime.html#simpleEval"><span class="hs-identifier hs-var">simpleEval</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412414"><span class="hs-identifier hs-var">iexpr</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412405"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-215"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412404"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-216"></span><span>          </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/System.IO.html#putStrLn"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;aborted&quot;</span></span><span>
</span><span id="line-217"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Pair"><span class="hs-identifier hs-type">Pair</span></a></span><span> </span><span id="local-6989586621679412403"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412403"><span class="hs-identifier hs-var">disp</span></a></span></span><span> </span><span id="local-6989586621679412402"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412402"><span class="hs-identifier hs-var">newState</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-218"></span><span>            </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/System.IO.html#putStrLn"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; [Char]
</span><a href="Telomare.html#g2s"><span class="hs-identifier hs-var">g2s</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412403"><span class="hs-identifier hs-var">disp</span></a></span><span>
</span><span id="line-219"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412402"><span class="hs-identifier hs-var">newState</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-220"></span><span>              </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/System.IO.html#putStrLn"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;done&quot;</span></span><span>
</span><span id="line-221"></span><span>              </span><span class="annot"><span class="annottext">IExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-222"></span><span>                </span><span id="local-6989586621679412401"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412401"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IExpr
</span><a href="Telomare.html#s2g"><span class="hs-identifier hs-var">s2g</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/System.IO.html#getLine"><span class="hs-identifier hs-var">getLine</span></a></span><span>
</span><span id="line-223"></span><span>                </span><span class="annot"><span class="annottext">IExpr -&gt; IO ()
</span><a href="#local-6989586621679412406"><span class="hs-identifier hs-var">mainLoop</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#Pair"><span class="hs-identifier hs-var">Pair</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412401"><span class="hs-identifier hs-var">inp</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412402"><span class="hs-identifier hs-var">newState</span></a></span><span>
</span><span id="line-224"></span><span>          </span><span id="local-6989586621679412399"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412399"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IO ()
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/System.IO.html#putStrLn"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;runtime error, dumped &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412399"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-225"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IO ()
</span><a href="#local-6989586621679412406"><span class="hs-identifier hs-var">mainLoop</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-comment">-- |Same as `evalLoop`, but keeping what was displayed.</span><span>
</span><span id="line-228"></span><span class="hs-comment">-- TODO: make evalLoop and evalLoop always share eval method (i.e. simpleEval, hvmEval)</span><span>
</span><span id="line-229"></span><span class="annot"><a href="Telomare.Eval.html#evalLoop_"><span class="hs-identifier hs-type">evalLoop_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-230"></span><span id="evalLoop_"><span class="annot"><span class="annottext">evalLoop_ :: IExpr -&gt; IO [Char]
</span><a href="Telomare.Eval.html#evalLoop_"><span class="hs-identifier hs-var hs-var">evalLoop_</span></a></span></span><span> </span><span id="local-6989586621679412397"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412397"><span class="hs-identifier hs-var">iexpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679412380"><span class="annot"><span class="annottext">mainLoop :: [Char] -&gt; IExpr -&gt; IO [Char]
</span><a href="#local-6989586621679412380"><span class="hs-identifier hs-var hs-var">mainLoop</span></a></span></span><span> </span><span id="local-6989586621679412379"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412379"><span class="hs-identifier hs-var">prev</span></a></span></span><span> </span><span id="local-6989586621679412378"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412378"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-232"></span><span>        </span><span class="hs-comment">-- result &lt;- optimizedEval (app peExp s)</span><span>
</span><span id="line-233"></span><span>        </span><span id="local-6989586621679412377"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412377"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IO IExpr
</span><a href="Telomare.RunTime.html#simpleEval"><span class="hs-identifier hs-var">simpleEval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412397"><span class="hs-identifier hs-var">iexpr</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412378"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-234"></span><span>        </span><span class="hs-comment">--result &lt;- simpleEval $ traceShowId $ app peExp s</span><span>
</span><span id="line-235"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412377"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-236"></span><span>          </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412379"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;aborted&quot;</span></span><span>
</span><span id="line-237"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Pair"><span class="hs-identifier hs-type">Pair</span></a></span><span> </span><span id="local-6989586621679412376"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412376"><span class="hs-identifier hs-var">disp</span></a></span></span><span> </span><span id="local-6989586621679412375"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412375"><span class="hs-identifier hs-var">newState</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-238"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679412374"><span class="annot"><span class="annottext">d :: [Char]
</span><a href="#local-6989586621679412374"><span class="hs-identifier hs-var hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; [Char]
</span><a href="Telomare.html#g2s"><span class="hs-identifier hs-var">g2s</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412376"><span class="hs-identifier hs-var">disp</span></a></span><span>
</span><span id="line-239"></span><span>            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412375"><span class="hs-identifier hs-var">newState</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-240"></span><span>              </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412379"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412374"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;\ndone&quot;</span></span><span>
</span><span id="line-241"></span><span>              </span><span class="annot"><span class="annottext">IExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-242"></span><span>                </span><span id="local-6989586621679412373"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412373"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IExpr
</span><a href="Telomare.html#s2g"><span class="hs-identifier hs-var">s2g</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/System.IO.html#getLine"><span class="hs-identifier hs-var">getLine</span></a></span><span>
</span><span id="line-243"></span><span>                </span><span class="annot"><span class="annottext">[Char] -&gt; IExpr -&gt; IO [Char]
</span><a href="#local-6989586621679412380"><span class="hs-identifier hs-var">mainLoop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412379"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679412374"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#Pair"><span class="hs-identifier hs-var">Pair</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412373"><span class="hs-identifier hs-var">inp</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412375"><span class="hs-identifier hs-var">newState</span></a></span><span>
</span><span id="line-244"></span><span>          </span><span id="local-6989586621679412372"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412372"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;runtime error, dumped &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679412372"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IExpr -&gt; IO [Char]
</span><a href="#local-6989586621679412380"><span class="hs-identifier hs-var">mainLoop</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="annot"><a href="Telomare.Eval.html#calculateRecursionLimits"><span class="hs-identifier hs-type">calculateRecursionLimits</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span>
</span><span id="line-248"></span><span id="calculateRecursionLimits"><span class="annot"><span class="annottext">calculateRecursionLimits :: Term3 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#calculateRecursionLimits"><span class="hs-identifier hs-var hs-var">calculateRecursionLimits</span></a></span></span><span> </span><span id="local-6989586621679412370"><span class="annot"><span class="annottext">t3 :: Term3
</span><a href="#local-6989586621679412370"><span class="hs-identifier hs-var">t3</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span id="local-6989586621679412369"><span class="annot"><span class="annottext">Map FragIndex FragExprUR
</span><a href="#local-6989586621679412369"><span class="hs-identifier hs-var">termMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679412366"><span class="annot"><span class="annottext">abortsAt :: Int -&gt; Bool
</span><a href="#local-6989586621679412366"><span class="hs-identifier hs-var hs-var">abortsAt</span></a></span></span><span> </span><span id="local-6989586621679412365"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412365"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#not"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Foldable.html#null"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe IExpr -&gt; Maybe IExpr -&gt; Maybe IExpr)
-&gt; Maybe IExpr -&gt; Term4 -&gt; Maybe IExpr
</span><a href="Telomare.Possible.html#evalA"><span class="hs-identifier hs-var">evalA</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe IExpr -&gt; Maybe IExpr -&gt; Maybe IExpr
</span><a href="#local-6989586621679412362"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsizedRecursionToken -&gt; Int) -&gt; Term3 -&gt; Term4
</span><a href="Telomare.Eval.html#convertPT"><span class="hs-identifier hs-var">convertPT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412365"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679412370"><span class="hs-identifier hs-var">t3</span></a></span><span>
</span><span id="line-250"></span><span>      </span><span id="local-6989586621679412362"><span class="annot"><span class="annottext">combine :: Maybe IExpr -&gt; Maybe IExpr -&gt; Maybe IExpr
</span><a href="#local-6989586621679412362"><span class="hs-identifier hs-var hs-var">combine</span></a></span></span><span> </span><span id="local-6989586621679412361"><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="#local-6989586621679412361"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679412360"><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="#local-6989586621679412360"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="#local-6989586621679412361"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="#local-6989586621679412360"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-251"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortRecursion"><span class="hs-identifier hs-var">AbortRecursion</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe IExpr
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortRecursion"><span class="hs-identifier hs-var">AbortRecursion</span></a></span><span>
</span><span id="line-252"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe IExpr
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortRecursion"><span class="hs-identifier hs-var">AbortRecursion</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortRecursion"><span class="hs-identifier hs-var">AbortRecursion</span></a></span><span>
</span><span id="line-253"></span><span>        </span><span class="annot"><span class="annottext">(Maybe IExpr, Maybe IExpr)
</span><span class="hs-identifier">_</span></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-254"></span><span>      </span><span id="local-6989586621679412354"><span class="annot"><span class="annottext">iterations :: [(Bool, Int)]
</span><a href="#local-6989586621679412354"><span class="hs-identifier hs-var hs-var">iterations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; [a] -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.List.html#take"><span class="hs-identifier hs-var">take</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; a) -&gt; a -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.List.html#iterate"><span class="hs-identifier hs-var">iterate</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679412351"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412351"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Bool
</span><a href="#local-6989586621679412366"><span class="hs-identifier hs-var">abortsAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412351"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412351"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.List.html#lookup"><span class="hs-identifier hs-var">lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#False"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="annot"><span class="annottext">[(Bool, Int)]
</span><a href="#local-6989586621679412354"><span class="hs-identifier hs-var">iterations</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-256"></span><span>    </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679412348"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412348"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Debug.Trace.html#trace"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;crl found limit at &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412348"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(UnsizedRecursionToken -&gt; Int) -&gt; Term3 -&gt; Term4
</span><a href="Telomare.Eval.html#convertPT"><span class="hs-identifier hs-var">convertPT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#const"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412348"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679412370"><span class="hs-identifier hs-var">t3</span></a></span><span>
</span><span id="line-257"></span><span>    </span><span class="annot"><span class="annottext">Maybe Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; Either a b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">UnsizedRecursionToken -&gt; EvalError
</span><a href="Telomare.Eval.html#RecursionLimitError"><span class="hs-identifier hs-var">RecursionLimitError</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Enum a =&gt; Int -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Enum.html#toEnum"><span class="hs-identifier hs-var">toEnum</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-258"></span></pre></body></html>