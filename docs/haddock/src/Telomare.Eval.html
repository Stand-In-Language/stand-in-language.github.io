<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE LambdaCase    #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE TupleSections #-}</span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Telomare.Eval</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///nix/store/l7rr36hy4kvd5jy4rq34fqzs7b1xp4w6-lens-5.1-doc/share/doc/lens-5.1/html/src"><span class="hs-identifier">Control.Lens.Plated</span></a></span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier">Control.Monad.Except</span></a></span><span>
</span><span id="line-7"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier">Control.Monad.Reader</span></a></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">Reader</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">runReader</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-8"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier">Control.Monad.State</span></a></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">StateT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier">Control.Monad.State</span></a></span><span>       </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">State</span></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">Control.Monad.Trans.Accum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">AccumT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier">Control.Monad.Trans.Accum</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Accum</span></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///nix/store/j604qnxq2rplj234adwxgihl3ffcfj41-dlist-1.0-doc/share/doc/dlist-1.0/html/src"><span class="hs-identifier">Data.DList</span></a></span><span>                </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/j604qnxq2rplj234adwxgihl3ffcfj41-dlist-1.0-doc/share/doc/dlist-1.0/html/src"><span class="hs-identifier">DList</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///nix/store/x34gmg3ihbdc4a2j35xq3p320bp29gsc-recursion-schemes-5.2.2.2-doc/share/doc/recursion-schemes-5.2.2.2/html/src"><span class="hs-identifier">Data.Functor.Foldable</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/x34gmg3ihbdc4a2j35xq3p320bp29gsc-recursion-schemes-5.2.2.2-doc/share/doc/recursion-schemes-5.2.2.2/html/src"><span class="hs-identifier">cata</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/x34gmg3ihbdc4a2j35xq3p320bp29gsc-recursion-schemes-5.2.2.2-doc/share/doc/recursion-schemes-5.2.2.2/html/src"><span class="hs-identifier">embed</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/x34gmg3ihbdc4a2j35xq3p320bp29gsc-recursion-schemes-5.2.2.2-doc/share/doc/recursion-schemes-5.2.2.2/html/src"><span class="hs-identifier">project</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Map</span></a></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Map</span></a></span><span>                  </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Set</span></a></span><span>                  </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Set</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier">Data.Set</span></a></span><span>                  </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier">Data.Void</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier">Debug.Trace</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Telomare.html"><span class="hs-identifier">Telomare</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Telomare.Decompiler.html"><span class="hs-identifier">Telomare.Decompiler</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Telomare.Optimizer.html"><span class="hs-identifier">Telomare.Optimizer</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Telomare.Parser.html"><span class="hs-identifier">Telomare.Parser</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Telomare.Possible.html"><span class="hs-identifier">Telomare.Possible</span></a></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Telomare.RunTime.html"><span class="hs-identifier">Telomare.RunTime</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Telomare.Serializer.html"><span class="hs-identifier">Telomare.Serializer</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Telomare.TypeChecker.html"><span class="hs-identifier">Telomare.TypeChecker</span></a></span><span>
</span><span id="line-28"></span><span>
</span><span id="line-29"></span><span class="hs-keyword">data</span><span> </span><span id="ExpP"><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-var">ExpP</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ZeroP"><span class="annot"><a href="Telomare.Eval.html#ZeroP"><span class="hs-identifier hs-var">ZeroP</span></a></span></span><span>
</span><span id="line-30"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="PairP"><span class="annot"><a href="Telomare.Eval.html#PairP"><span class="hs-identifier hs-var">PairP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span>
</span><span id="line-31"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="VarP"><span class="annot"><a href="Telomare.Eval.html#VarP"><span class="hs-identifier hs-var">VarP</span></a></span></span><span>
</span><span id="line-32"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="SetEnvP"><span class="annot"><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-var">SetEnvP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-33"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="DeferP"><span class="annot"><a href="Telomare.Eval.html#DeferP"><span class="hs-identifier hs-var">DeferP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span>
</span><span id="line-34"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="AbortP"><span class="annot"><a href="Telomare.Eval.html#AbortP"><span class="hs-identifier hs-var">AbortP</span></a></span></span><span>
</span><span id="line-35"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="GateP"><span class="annot"><a href="Telomare.Eval.html#GateP"><span class="hs-identifier hs-var">GateP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span>
</span><span id="line-36"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="LeftP"><span class="annot"><a href="Telomare.Eval.html#LeftP"><span class="hs-identifier hs-var">LeftP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="RightP"><span class="annot"><a href="Telomare.Eval.html#RightP"><span class="hs-identifier hs-var">RightP</span></a></span></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span>
</span><span id="line-38"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="TraceP"><span class="annot"><a href="Telomare.Eval.html#TraceP"><span class="hs-identifier hs-var">TraceP</span></a></span></span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679423348"><span id="local-6989586621679423359"><span class="annot"><span class="annottext">ExpP -&gt; ExpP -&gt; Bool
(ExpP -&gt; ExpP -&gt; Bool) -&gt; (ExpP -&gt; ExpP -&gt; Bool) -&gt; Eq ExpP
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ExpP -&gt; ExpP -&gt; Bool
$c/= :: ExpP -&gt; ExpP -&gt; Bool
== :: ExpP -&gt; ExpP -&gt; Bool
$c== :: ExpP -&gt; ExpP -&gt; Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423324"><span id="local-6989586621679423326"><span id="local-6989586621679423345"><span class="annot"><span class="annottext">Int -&gt; ExpP -&gt; ShowS
[ExpP] -&gt; ShowS
ExpP -&gt; String
(Int -&gt; ExpP -&gt; ShowS)
-&gt; (ExpP -&gt; String) -&gt; ([ExpP] -&gt; ShowS) -&gt; Show ExpP
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ExpP] -&gt; ShowS
$cshowList :: [ExpP] -&gt; ShowS
show :: ExpP -&gt; String
$cshow :: ExpP -&gt; String
showsPrec :: Int -&gt; ExpP -&gt; ShowS
$cshowsPrec :: Int -&gt; ExpP -&gt; ShowS
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423297"><span id="local-6989586621679423299"><span id="local-6989586621679423301"><span id="local-6989586621679423303"><span id="local-6989586621679423305"><span id="local-6989586621679423307"><span id="local-6989586621679423319"><span class="annot"><span class="annottext">Eq ExpP
Eq ExpP
-&gt; (ExpP -&gt; ExpP -&gt; Ordering)
-&gt; (ExpP -&gt; ExpP -&gt; Bool)
-&gt; (ExpP -&gt; ExpP -&gt; Bool)
-&gt; (ExpP -&gt; ExpP -&gt; Bool)
-&gt; (ExpP -&gt; ExpP -&gt; Bool)
-&gt; (ExpP -&gt; ExpP -&gt; ExpP)
-&gt; (ExpP -&gt; ExpP -&gt; ExpP)
-&gt; Ord ExpP
ExpP -&gt; ExpP -&gt; Bool
ExpP -&gt; ExpP -&gt; Ordering
ExpP -&gt; ExpP -&gt; ExpP
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: ExpP -&gt; ExpP -&gt; ExpP
$cmin :: ExpP -&gt; ExpP -&gt; ExpP
max :: ExpP -&gt; ExpP -&gt; ExpP
$cmax :: ExpP -&gt; ExpP -&gt; ExpP
&gt;= :: ExpP -&gt; ExpP -&gt; Bool
$c&gt;= :: ExpP -&gt; ExpP -&gt; Bool
&gt; :: ExpP -&gt; ExpP -&gt; Bool
$c&gt; :: ExpP -&gt; ExpP -&gt; Bool
&lt;= :: ExpP -&gt; ExpP -&gt; Bool
$c&lt;= :: ExpP -&gt; ExpP -&gt; Bool
&lt; :: ExpP -&gt; ExpP -&gt; Bool
$c&lt; :: ExpP -&gt; ExpP -&gt; Bool
compare :: ExpP -&gt; ExpP -&gt; Ordering
$ccompare :: ExpP -&gt; ExpP -&gt; Ordering
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="../file:///nix/store/l7rr36hy4kvd5jy4rq34fqzs7b1xp4w6-lens-5.1-doc/share/doc/lens-5.1/html/src"><span class="hs-identifier hs-type">Plated</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-42"></span><span>  </span><span id="local-6989586621679423278"><span class="annot"><span class="annottext">plate :: Traversal' ExpP ExpP
</span><a href="../file:///nix/store/l7rr36hy4kvd5jy4rq34fqzs7b1xp4w6-lens-5.1-doc/share/doc/lens-5.1/html/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">plate</span></a></span></span><span> </span><span id="local-6989586621679423276"><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679423276"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#PairP"><span class="hs-identifier hs-type">PairP</span></a></span><span> </span><span id="local-6989586621679423275"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423275"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679423274"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423274"><span class="hs-identifier hs-var">b</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#PairP"><span class="hs-identifier hs-var">PairP</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpP -&gt; ExpP -&gt; ExpP) -&gt; f ExpP -&gt; f (ExpP -&gt; ExpP)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679423276"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423275"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">f (ExpP -&gt; ExpP) -&gt; f ExpP -&gt; f ExpP
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679423276"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423274"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-type">SetEnvP</span></a></span><span> </span><span id="local-6989586621679423272"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423272"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679423271"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423271"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; Bool -&gt; ExpP
</span><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-var">SetEnvP</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpP -&gt; Bool -&gt; ExpP) -&gt; f ExpP -&gt; f (Bool -&gt; ExpP)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679423276"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423272"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">f (Bool -&gt; ExpP) -&gt; f Bool -&gt; f ExpP
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; f Bool
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423271"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#DeferP"><span class="hs-identifier hs-type">DeferP</span></a></span><span> </span><span id="local-6989586621679423270"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423270"><span class="hs-identifier hs-var">x</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#DeferP"><span class="hs-identifier hs-var">DeferP</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpP -&gt; ExpP) -&gt; f ExpP -&gt; f ExpP
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679423276"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423270"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#GateP"><span class="hs-identifier hs-type">GateP</span></a></span><span> </span><span id="local-6989586621679423269"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423269"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679423268"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423268"><span class="hs-identifier hs-var">r</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#GateP"><span class="hs-identifier hs-var">GateP</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpP -&gt; ExpP -&gt; ExpP) -&gt; f ExpP -&gt; f (ExpP -&gt; ExpP)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679423276"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423269"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">f (ExpP -&gt; ExpP) -&gt; f ExpP -&gt; f ExpP
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679423276"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423268"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#LeftP"><span class="hs-identifier hs-type">LeftP</span></a></span><span> </span><span id="local-6989586621679423267"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423267"><span class="hs-identifier hs-var">x</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#LeftP"><span class="hs-identifier hs-var">LeftP</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpP -&gt; ExpP) -&gt; f ExpP -&gt; f ExpP
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679423276"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423267"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><a href="Telomare.Eval.html#RightP"><span class="hs-identifier hs-type">RightP</span></a></span><span> </span><span id="local-6989586621679423266"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423266"><span class="hs-identifier hs-var">x</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#RightP"><span class="hs-identifier hs-var">RightP</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpP -&gt; ExpP) -&gt; f ExpP -&gt; f ExpP
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
</span><a href="#local-6989586621679423276"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423266"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span id="local-6989586621679423265"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423265"><span class="hs-identifier hs-var">x</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; f ExpP
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423265"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-keyword">data</span><span> </span><span id="EvalError"><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-var">EvalError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RTE"><span class="annot"><a href="Telomare.Eval.html#RTE"><span class="hs-identifier hs-var">RTE</span></a></span></span><span> </span><span class="annot"><a href="Telomare.html#RunTimeError"><span class="hs-identifier hs-type">RunTimeError</span></a></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="TCE"><span class="annot"><a href="Telomare.Eval.html#TCE"><span class="hs-identifier hs-var">TCE</span></a></span></span><span> </span><span class="annot"><a href="Telomare.TypeChecker.html#TypeCheckError"><span class="hs-identifier hs-type">TypeCheckError</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="StaticCheckError"><span class="annot"><a href="Telomare.Eval.html#StaticCheckError"><span class="hs-identifier hs-var">StaticCheckError</span></a></span></span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="CompileConversionError"><span class="annot"><a href="Telomare.Eval.html#CompileConversionError"><span class="hs-identifier hs-var">CompileConversionError</span></a></span></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="RecursionLimitError"><span class="annot"><a href="Telomare.Eval.html#RecursionLimitError"><span class="hs-identifier hs-var">RecursionLimitError</span></a></span></span><span> </span><span class="annot"><a href="Telomare.html#BreakExtras"><span class="hs-identifier hs-type">BreakExtras</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679423247"><span id="local-6989586621679423258"><span class="annot"><span class="annottext">EvalError -&gt; EvalError -&gt; Bool
(EvalError -&gt; EvalError -&gt; Bool)
-&gt; (EvalError -&gt; EvalError -&gt; Bool) -&gt; Eq EvalError
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: EvalError -&gt; EvalError -&gt; Bool
$c/= :: EvalError -&gt; EvalError -&gt; Bool
== :: EvalError -&gt; EvalError -&gt; Bool
$c== :: EvalError -&gt; EvalError -&gt; Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423221"><span id="local-6989586621679423223"><span id="local-6989586621679423225"><span id="local-6989586621679423227"><span id="local-6989586621679423229"><span id="local-6989586621679423231"><span id="local-6989586621679423242"><span class="annot"><span class="annottext">Eq EvalError
Eq EvalError
-&gt; (EvalError -&gt; EvalError -&gt; Ordering)
-&gt; (EvalError -&gt; EvalError -&gt; Bool)
-&gt; (EvalError -&gt; EvalError -&gt; Bool)
-&gt; (EvalError -&gt; EvalError -&gt; Bool)
-&gt; (EvalError -&gt; EvalError -&gt; Bool)
-&gt; (EvalError -&gt; EvalError -&gt; EvalError)
-&gt; (EvalError -&gt; EvalError -&gt; EvalError)
-&gt; Ord EvalError
EvalError -&gt; EvalError -&gt; Bool
EvalError -&gt; EvalError -&gt; Ordering
EvalError -&gt; EvalError -&gt; EvalError
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: EvalError -&gt; EvalError -&gt; EvalError
$cmin :: EvalError -&gt; EvalError -&gt; EvalError
max :: EvalError -&gt; EvalError -&gt; EvalError
$cmax :: EvalError -&gt; EvalError -&gt; EvalError
&gt;= :: EvalError -&gt; EvalError -&gt; Bool
$c&gt;= :: EvalError -&gt; EvalError -&gt; Bool
&gt; :: EvalError -&gt; EvalError -&gt; Bool
$c&gt; :: EvalError -&gt; EvalError -&gt; Bool
&lt;= :: EvalError -&gt; EvalError -&gt; Bool
$c&lt;= :: EvalError -&gt; EvalError -&gt; Bool
&lt; :: EvalError -&gt; EvalError -&gt; Bool
$c&lt; :: EvalError -&gt; EvalError -&gt; Bool
compare :: EvalError -&gt; EvalError -&gt; Ordering
$ccompare :: EvalError -&gt; EvalError -&gt; Ordering
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423203"><span id="local-6989586621679423205"><span id="local-6989586621679423218"><span class="annot"><span class="annottext">Int -&gt; EvalError -&gt; ShowS
[EvalError] -&gt; ShowS
EvalError -&gt; String
(Int -&gt; EvalError -&gt; ShowS)
-&gt; (EvalError -&gt; String)
-&gt; ([EvalError] -&gt; ShowS)
-&gt; Show EvalError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [EvalError] -&gt; ShowS
$cshowList :: [EvalError] -&gt; ShowS
show :: EvalError -&gt; String
$cshow :: EvalError -&gt; String
showsPrec :: Int -&gt; EvalError -&gt; ShowS
$cshowsPrec :: Int -&gt; EvalError -&gt; ShowS
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-keyword">type</span><span> </span><span id="ExpFullEnv"><span class="annot"><a href="Telomare.Eval.html#ExpFullEnv"><span class="hs-identifier hs-var">ExpFullEnv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Telomare.html#ExprA"><span class="hs-identifier hs-type">ExprA</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">newtype</span><span> </span><span id="BetterMap"><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-var">BetterMap</span></a></span></span><span> </span><span id="local-6989586621679423555"><span class="annot"><a href="#local-6989586621679423555"><span class="hs-identifier hs-type">k</span></a></span></span><span> </span><span id="local-6989586621679423554"><span class="annot"><a href="#local-6989586621679423554"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BetterMap"><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-var">BetterMap</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unBetterMap"><span class="annot"><span class="annottext">forall k v. BetterMap k v -&gt; Map k v
</span><a href="Telomare.Eval.html#unBetterMap"><span class="hs-identifier hs-var hs-var">unBetterMap</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679423555"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679423554"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679423196"><span id="local-6989586621679423546"><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Functor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-type">BetterMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679423546"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-63"></span><span>  </span><span id="local-6989586621679423193"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; BetterMap k a -&gt; BetterMap k b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></a></span></span><span> </span><span id="local-6989586621679423192"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679423192"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-type">BetterMap</span></a></span><span> </span><span id="local-6989586621679423191"><span class="annot"><span class="annottext">Map k a
</span><a href="#local-6989586621679423191"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map k b -&gt; BetterMap k b
forall k v. Map k v -&gt; BetterMap k v
</span><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-var">BetterMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Map k b -&gt; BetterMap k b) -&gt; Map k b -&gt; BetterMap k b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; Map k a -&gt; Map k b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679423192"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Map k a
</span><a href="#local-6989586621679423191"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679423186"><span id="local-6989586621679423188"><span id="local-6989586621679423537"><span id="local-6989586621679423538"><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Ord</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679423538"><span class="hs-identifier hs-type">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679423537"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Semigroup</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-type">BetterMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679423538"><span class="hs-identifier hs-type">k</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679423537"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-66"></span><span>  </span><span id="local-6989586621679423182"><span class="annot"><span class="annottext">&lt;&gt; :: BetterMap k m -&gt; BetterMap k m -&gt; BetterMap k m
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;&gt;)</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-type">BetterMap</span></a></span><span> </span><span id="local-6989586621679423181"><span class="annot"><span class="annottext">Map k m
</span><a href="#local-6989586621679423181"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-type">BetterMap</span></a></span><span> </span><span id="local-6989586621679423180"><span class="annot"><span class="annottext">Map k m
</span><a href="#local-6989586621679423180"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map k m -&gt; BetterMap k m
forall k v. Map k v -&gt; BetterMap k v
</span><a href="Telomare.Eval.html#BetterMap"><span class="hs-identifier hs-var">BetterMap</span></a></span><span> </span><span class="annot"><span class="annottext">(Map k m -&gt; BetterMap k m) -&gt; Map k m -&gt; BetterMap k m
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(m -&gt; m -&gt; m) -&gt; Map k m -&gt; Map k m -&gt; Map k m
forall k a. Ord k =&gt; (a -&gt; a -&gt; a) -&gt; Map k a -&gt; Map k a -&gt; Map k a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.unionWith</span></a></span><span> </span><span class="annot"><span class="annottext">m -&gt; m -&gt; m
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">(&lt;&gt;)</span></a></span><span> </span><span class="annot"><span class="annottext">Map k m
</span><a href="#local-6989586621679423181"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Map k m
</span><a href="#local-6989586621679423180"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-type">annotateEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Bool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span id="annotateEnv"><span class="annot"><span class="annottext">annotateEnv :: IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var hs-var">annotateEnv</span></a></span></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#ZeroP"><span class="hs-identifier hs-var">ZeroP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Pair"><span class="hs-identifier hs-type">Pair</span></a></span><span> </span><span id="local-6989586621679423175"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423175"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679423174"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423174"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679423173"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423173"><span class="hs-identifier hs-var">at</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423172"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423172"><span class="hs-identifier hs-var">na</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423175"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-72"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679423171"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423171"><span class="hs-identifier hs-var">bt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423170"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423170"><span class="hs-identifier hs-var">nb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423174"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423173"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423171"><span class="hs-identifier hs-var">bt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#PairP"><span class="hs-identifier hs-var">PairP</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423172"><span class="hs-identifier hs-var">na</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423170"><span class="hs-identifier hs-var">nb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Env"><span class="hs-identifier hs-var">Env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#VarP"><span class="hs-identifier hs-var">VarP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#SetEnv"><span class="hs-identifier hs-type">SetEnv</span></a></span><span> </span><span id="local-6989586621679423166"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423166"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679423165"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423165"><span class="hs-identifier hs-var">xt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423164"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423164"><span class="hs-identifier hs-var">nx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423166"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423165"><span class="hs-identifier hs-var">xt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; Bool -&gt; ExpP
</span><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-var">SetEnvP</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423164"><span class="hs-identifier hs-var">nx</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423165"><span class="hs-identifier hs-var">xt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Defer"><span class="hs-identifier hs-type">Defer</span></a></span><span> </span><span id="local-6989586621679423162"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423162"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423161"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423161"><span class="hs-identifier hs-var">nx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423162"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#DeferP"><span class="hs-identifier hs-var">DeferP</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423161"><span class="hs-identifier hs-var">nx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Gate"><span class="hs-identifier hs-type">Gate</span></a></span><span> </span><span id="local-6989586621679423159"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423159"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679423158"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423158"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679423157"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423157"><span class="hs-identifier hs-var">at</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423156"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423156"><span class="hs-identifier hs-var">na</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423159"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-79"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679423155"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423155"><span class="hs-identifier hs-var">bt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423154"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423154"><span class="hs-identifier hs-var">nb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423158"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423157"><span class="hs-identifier hs-var">at</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-operator hs-var">&amp;&amp;</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679423155"><span class="hs-identifier hs-var">bt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#GateP"><span class="hs-identifier hs-var">GateP</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423156"><span class="hs-identifier hs-var">na</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423154"><span class="hs-identifier hs-var">nb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span id="local-6989586621679423152"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423152"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#LeftP"><span class="hs-identifier hs-var">LeftP</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpP -&gt; ExpP) -&gt; (Bool, ExpP) -&gt; (Bool, ExpP)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423152"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-82"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679423150"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423150"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; ExpP
</span><a href="Telomare.Eval.html#RightP"><span class="hs-identifier hs-var">RightP</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpP -&gt; ExpP) -&gt; (Bool, ExpP) -&gt; (Bool, ExpP)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423150"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-83"></span><span class="annot"><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Trace"><span class="hs-identifier hs-var">Trace</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#TraceP"><span class="hs-identifier hs-var">TraceP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span id="local-6989586621679423534"><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-type">fromFullEnv</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Applicative</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679423534"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679423534"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679423534"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span></span><span>
</span><span id="line-86"></span><span id="fromFullEnv"><span class="annot"><span class="annottext">fromFullEnv :: forall (a :: * -&gt; *).
Applicative a =&gt;
(ExpP -&gt; a IExpr) -&gt; ExpP -&gt; a IExpr
</span><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var hs-var">fromFullEnv</span></a></span></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#ZeroP"><span class="hs-identifier hs-var">ZeroP</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; a IExpr
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span>
</span><span id="line-87"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679423134"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423134"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#PairP"><span class="hs-identifier hs-type">PairP</span></a></span><span> </span><span id="local-6989586621679423133"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423133"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679423132"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423132"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#Pair"><span class="hs-identifier hs-var">Pair</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; IExpr -&gt; IExpr) -&gt; a IExpr -&gt; a (IExpr -&gt; IExpr)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423134"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423133"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a (IExpr -&gt; IExpr) -&gt; a IExpr -&gt; a IExpr
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423134"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423132"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-88"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#VarP"><span class="hs-identifier hs-var">VarP</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; a IExpr
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Env"><span class="hs-identifier hs-var">Env</span></a></span><span>
</span><span id="line-89"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679423131"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423131"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-type">SetEnvP</span></a></span><span> </span><span id="local-6989586621679423130"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423130"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#SetEnv"><span class="hs-identifier hs-var">SetEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; IExpr) -&gt; a IExpr -&gt; a IExpr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423131"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423130"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-90"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679423129"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423129"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#DeferP"><span class="hs-identifier hs-type">DeferP</span></a></span><span> </span><span id="local-6989586621679423128"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423128"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#Defer"><span class="hs-identifier hs-var">Defer</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; IExpr) -&gt; a IExpr -&gt; a IExpr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423129"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423128"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-91"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679423127"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423127"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#GateP"><span class="hs-identifier hs-type">GateP</span></a></span><span> </span><span id="local-6989586621679423126"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423126"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679423125"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423125"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#Gate"><span class="hs-identifier hs-var">Gate</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; IExpr -&gt; IExpr) -&gt; a IExpr -&gt; a (IExpr -&gt; IExpr)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423127"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423126"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a (IExpr -&gt; IExpr) -&gt; a IExpr -&gt; a IExpr
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423127"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423125"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-92"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679423124"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423124"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#LeftP"><span class="hs-identifier hs-type">LeftP</span></a></span><span> </span><span id="local-6989586621679423123"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423123"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; IExpr) -&gt; a IExpr -&gt; a IExpr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423124"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423123"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-93"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span id="local-6989586621679423122"><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423122"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#RightP"><span class="hs-identifier hs-type">RightP</span></a></span><span> </span><span id="local-6989586621679423121"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423121"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; IExpr) -&gt; a IExpr -&gt; a IExpr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><a href="#local-6989586621679423122"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423121"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-94"></span><span class="annot"><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; a IExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="Telomare.Eval.html#TraceP"><span class="hs-identifier hs-var">TraceP</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; a IExpr
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Trace"><span class="hs-identifier hs-var">Trace</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Telomare.html#TelomareLike"><span class="hs-identifier hs-type">TelomareLike</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-97"></span><span>  </span><span id="local-6989586621679423116"><span class="annot"><span class="annottext">fromTelomare :: IExpr -&gt; ExpP
</span><a href="Telomare.html#fromTelomare"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromTelomare</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bool, ExpP) -&gt; ExpP
forall a b. (a, b) -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">snd</span></a></span><span> </span><span class="annot"><span class="annottext">((Bool, ExpP) -&gt; ExpP) -&gt; (IExpr -&gt; (Bool, ExpP)) -&gt; IExpr -&gt; ExpP
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; (Bool, ExpP)
</span><a href="Telomare.Eval.html#annotateEnv"><span class="hs-identifier hs-var">annotateEnv</span></a></span><span>
</span><span id="line-98"></span><span>  </span><span id="local-6989586621679423111"><span class="annot"><span class="annottext">toTelomare :: ExpP -&gt; Maybe IExpr
</span><a href="Telomare.html#toTelomare"><span class="hs-identifier hs-var hs-var hs-var hs-var">toTelomare</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((ExpP -&gt; Maybe IExpr) -&gt; ExpP -&gt; Maybe IExpr)
-&gt; ExpP -&gt; Maybe IExpr
forall a. (a -&gt; a) -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">fix</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpP -&gt; Maybe IExpr) -&gt; ExpP -&gt; Maybe IExpr
forall (a :: * -&gt; *).
Applicative a =&gt;
(ExpP -&gt; a IExpr) -&gt; ExpP -&gt; a IExpr
</span><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="annot"><a href="Telomare.Eval.html#partiallyEvaluate"><span class="hs-identifier hs-type">partiallyEvaluate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.Eval.html#ExpP"><span class="hs-identifier hs-type">ExpP</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.html#RunTimeError"><span class="hs-identifier hs-type">RunTimeError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span>
</span><span id="line-101"></span><span id="partiallyEvaluate"><span class="annot"><span class="annottext">partiallyEvaluate :: ExpP -&gt; Either RunTimeError IExpr
</span><a href="Telomare.Eval.html#partiallyEvaluate"><span class="hs-identifier hs-var hs-var">partiallyEvaluate</span></a></span></span><span> </span><span id="local-6989586621679423107"><span class="annot"><span class="annottext">se :: ExpP
</span><a href="#local-6989586621679423107"><span class="hs-identifier hs-var">se</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Telomare.Eval.html#SetEnvP"><span class="hs-identifier hs-type">SetEnvP</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#Defer"><span class="hs-identifier hs-var">Defer</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; IExpr)
-&gt; Either RunTimeError IExpr -&gt; Either RunTimeError IExpr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((ExpP -&gt; Either RunTimeError IExpr)
 -&gt; ExpP -&gt; Either RunTimeError IExpr)
-&gt; ExpP -&gt; Either RunTimeError IExpr
forall a. (a -&gt; a) -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">fix</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpP -&gt; Either RunTimeError IExpr)
-&gt; ExpP -&gt; Either RunTimeError IExpr
forall (a :: * -&gt; *).
Applicative a =&gt;
(ExpP -&gt; a IExpr) -&gt; ExpP -&gt; a IExpr
</span><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423107"><span class="hs-identifier hs-var">se</span></a></span><span> </span><span class="annot"><span class="annottext">Either RunTimeError IExpr
-&gt; (IExpr -&gt; Either RunTimeError IExpr)
-&gt; Either RunTimeError IExpr
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IExpr -&gt; Either RunTimeError IExpr
</span><a href="Telomare.RunTime.html#pureEval"><span class="hs-identifier hs-var">pureEval</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; Either RunTimeError IExpr)
-&gt; (IExpr -&gt; IExpr) -&gt; IExpr -&gt; Either RunTimeError IExpr
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.Optimizer.html#optimize"><span class="hs-identifier hs-var">optimize</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span class="annot"><a href="Telomare.Eval.html#partiallyEvaluate"><span class="hs-identifier hs-var">partiallyEvaluate</span></a></span><span> </span><span id="local-6989586621679423104"><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423104"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ExpP -&gt; Either RunTimeError IExpr)
-&gt; ExpP -&gt; Either RunTimeError IExpr
forall (a :: * -&gt; *).
Applicative a =&gt;
(ExpP -&gt; a IExpr) -&gt; ExpP -&gt; a IExpr
</span><a href="Telomare.Eval.html#fromFullEnv"><span class="hs-identifier hs-var">fromFullEnv</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP -&gt; Either RunTimeError IExpr
</span><a href="Telomare.Eval.html#partiallyEvaluate"><span class="hs-identifier hs-var">partiallyEvaluate</span></a></span><span> </span><span class="annot"><span class="annottext">ExpP
</span><a href="#local-6989586621679423104"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span id="local-6989586621679423522"><span class="annot"><a href="Telomare.Eval.html#convertPT%27"><span class="hs-identifier hs-type">convertPT'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#BreakExtras"><span class="hs-identifier hs-type">BreakExtras</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#FragExpr"><span class="hs-identifier hs-type">FragExpr</span></a></span><span> </span><span class="annot"><a href="Telomare.html#BreakExtras"><span class="hs-identifier hs-type">BreakExtras</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#FragExpr"><span class="hs-identifier hs-type">FragExpr</span></a></span><span> </span><span class="annot"><a href="Telomare.html#BreakExtras"><span class="hs-identifier hs-type">BreakExtras</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#BreakState%27"><span class="hs-identifier hs-type">BreakState'</span></a></span><span> </span><span class="annot"><a href="Telomare.html#BreakExtras"><span class="hs-identifier hs-type">BreakExtras</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679423522"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-105"></span><span id="convertPT%27"><span class="annot"><span class="annottext">convertPT' :: forall b.
(BreakExtras -&gt; Int)
-&gt; (FragIndex -&gt; FragExpr BreakExtras)
-&gt; FragExpr BreakExtras
-&gt; BreakState' BreakExtras b
</span><a href="Telomare.Eval.html#convertPT%27"><span class="hs-identifier hs-var hs-var">convertPT'</span></a></span></span><span> </span><span id="local-6989586621679423097"><span class="annot"><span class="annottext">BreakExtras -&gt; Int
</span><a href="#local-6989586621679423097"><span class="hs-identifier hs-var">limitLookup</span></a></span></span><span> </span><span id="local-6989586621679423096"><span class="annot"><span class="annottext">FragIndex -&gt; FragExpr BreakExtras
</span><a href="#local-6989586621679423096"><span class="hs-identifier hs-var">fragLookup</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-106"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679423081"><span class="annot"><span class="annottext">changeTerm :: FragExpr BreakExtras
-&gt; StateT
     (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
</span><a href="#local-6989586621679423081"><span class="hs-identifier hs-var hs-var">changeTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-107"></span><span>        </span><span class="annot"><a href="Telomare.html#AuxFrag"><span class="hs-identifier hs-type">AuxFrag</span></a></span><span> </span><span id="local-6989586621679423079"><span class="annot"><span class="annottext">BreakExtras
</span><a href="#local-6989586621679423079"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; StateT
     (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
forall a b. Int -&gt; BreakState' a b
</span><a href="Telomare.html#innerChurchF"><span class="hs-identifier hs-var">innerChurchF</span></a></span><span> </span><span class="annot"><span class="annottext">(Int
 -&gt; StateT
      (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
      Identity
      (FragExpr BreakExtras))
-&gt; Int
-&gt; StateT
     (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">BreakExtras -&gt; Int
</span><a href="#local-6989586621679423097"><span class="hs-identifier hs-var">limitLookup</span></a></span><span> </span><span class="annot"><span class="annottext">BreakExtras
</span><a href="#local-6989586621679423079"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-108"></span><span>        </span><span class="annot"><a href="Telomare.html#DeferFrag"><span class="hs-identifier hs-type">DeferFrag</span></a></span><span> </span><span id="local-6989586621679423076"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423076"><span class="hs-identifier hs-var">fi</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-109"></span><span>          </span><span id="local-6989586621679423075"><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423075"><span class="hs-identifier hs-var">newFrag</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(FragExpr BreakExtras
 -&gt; StateT
      (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
      Identity
      (FragExpr BreakExtras))
-&gt; FragExpr BreakExtras
-&gt; StateT
     (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
forall (m :: * -&gt; *) a.
(Monad m, Plated a) =&gt;
(a -&gt; m a) -&gt; a -&gt; m a
</span><a href="../file:///nix/store/l7rr36hy4kvd5jy4rq34fqzs7b1xp4w6-lens-5.1-doc/share/doc/lens-5.1/html/src"><span class="hs-identifier hs-var">transformM</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
-&gt; StateT
     (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
</span><a href="#local-6989586621679423081"><span class="hs-identifier hs-var">changeTerm</span></a></span><span> </span><span class="annot"><span class="annottext">(FragExpr BreakExtras
 -&gt; StateT
      (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
      Identity
      (FragExpr BreakExtras))
-&gt; FragExpr BreakExtras
-&gt; StateT
     (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex -&gt; FragExpr BreakExtras
</span><a href="#local-6989586621679423096"><span class="hs-identifier hs-var">fragLookup</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423076"><span class="hs-identifier hs-var">fi</span></a></span><span>
</span><span id="line-110"></span><span>          </span><span class="annot"><span class="annottext">((a, FragIndex, Map FragIndex (FragExpr BreakExtras))
 -&gt; (a, FragIndex, Map FragIndex (FragExpr BreakExtras)))
-&gt; StateT
     (a, FragIndex, Map FragIndex (FragExpr BreakExtras)) Identity ()
forall s (m :: * -&gt; *). MonadState s m =&gt; (s -&gt; s) -&gt; m ()
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src"><span class="hs-identifier hs-var">State.modify</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679423072"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679423072"><span class="hs-identifier hs-var">uri</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423071"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423071"><span class="hs-identifier hs-var">fii</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423070"><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
</span><a href="#local-6989586621679423070"><span class="hs-identifier hs-var">fragMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679423072"><span class="hs-identifier hs-var">uri</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423071"><span class="hs-identifier hs-var">fii</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FragIndex
-&gt; FragExpr BreakExtras
-&gt; Map FragIndex (FragExpr BreakExtras)
-&gt; Map FragIndex (FragExpr BreakExtras)
forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.insert</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423076"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423075"><span class="hs-identifier hs-var">newFrag</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
</span><a href="#local-6989586621679423070"><span class="hs-identifier hs-var">fragMap</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-111"></span><span>          </span><span class="annot"><span class="annottext">FragExpr BreakExtras
-&gt; StateT
     (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(FragExpr BreakExtras
 -&gt; StateT
      (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
      Identity
      (FragExpr BreakExtras))
-&gt; FragExpr BreakExtras
-&gt; StateT
     (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex -&gt; FragExpr BreakExtras
forall a. FragIndex -&gt; FragExpr a
</span><a href="Telomare.html#DeferFrag"><span class="hs-identifier hs-var">DeferFrag</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423076"><span class="hs-identifier hs-var">fi</span></a></span><span>
</span><span id="line-112"></span><span>        </span><span id="local-6989586621679423068"><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423068"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
-&gt; StateT
     (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423068"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-113"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(FragExpr BreakExtras
 -&gt; StateT
      (b, FragIndex, Map FragIndex (FragExpr BreakExtras))
      Identity
      (FragExpr BreakExtras))
-&gt; FragExpr BreakExtras
-&gt; StateT
     (b, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
forall (m :: * -&gt; *) a.
(Monad m, Plated a) =&gt;
(a -&gt; m a) -&gt; a -&gt; m a
</span><a href="../file:///nix/store/l7rr36hy4kvd5jy4rq34fqzs7b1xp4w6-lens-5.1-doc/share/doc/lens-5.1/html/src"><span class="hs-identifier hs-var">transformM</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
-&gt; StateT
     (b, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
forall {a}.
FragExpr BreakExtras
-&gt; StateT
     (a, FragIndex, Map FragIndex (FragExpr BreakExtras))
     Identity
     (FragExpr BreakExtras)
</span><a href="#local-6989586621679423081"><span class="hs-identifier hs-var">changeTerm</span></a></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="annot"><a href="Telomare.Eval.html#convertPT"><span class="hs-identifier hs-type">convertPT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#BreakExtras"><span class="hs-identifier hs-type">BreakExtras</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">Int</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span>
</span><span id="line-116"></span><span id="convertPT"><span class="annot"><span class="annottext">convertPT :: (BreakExtras -&gt; Int) -&gt; Term3 -&gt; Term4
</span><a href="Telomare.Eval.html#convertPT"><span class="hs-identifier hs-var hs-var">convertPT</span></a></span></span><span> </span><span id="local-6989586621679423066"><span class="annot"><span class="annottext">BreakExtras -&gt; Int
</span><a href="#local-6989586621679423066"><span class="hs-identifier hs-var">ll</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span id="local-6989586621679423064"><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
</span><a href="#local-6989586621679423064"><span class="hs-identifier hs-var">termMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679423062"><span class="annot"><span class="annottext">builder :: BreakState' BreakExtras b
</span><a href="#local-6989586621679423062"><span class="hs-identifier hs-var hs-var">builder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(BreakExtras -&gt; Int)
-&gt; (FragIndex -&gt; FragExpr BreakExtras)
-&gt; FragExpr BreakExtras
-&gt; BreakState' BreakExtras b
forall b.
(BreakExtras -&gt; Int)
-&gt; (FragIndex -&gt; FragExpr BreakExtras)
-&gt; FragExpr BreakExtras
-&gt; BreakState' BreakExtras b
</span><a href="Telomare.Eval.html#convertPT%27"><span class="hs-identifier hs-var">convertPT'</span></a></span><span> </span><span class="annot"><span class="annottext">BreakExtras -&gt; Int
</span><a href="#local-6989586621679423066"><span class="hs-identifier hs-var">ll</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
</span><a href="#local-6989586621679423064"><span class="hs-identifier hs-var">termMap</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
-&gt; FragIndex -&gt; FragExpr BreakExtras
forall k a. Ord k =&gt; Map k a -&gt; k -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-operator hs-var">Map.!</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras) -&gt; FragExpr BreakExtras
forall a. Map FragIndex a -&gt; a
</span><a href="Telomare.html#rootFrag"><span class="hs-identifier hs-var">rootFrag</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
</span><a href="#local-6989586621679423064"><span class="hs-identifier hs-var">termMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>                                   </span><span id="local-6989586621679423057"><span class="annot"><span class="annottext">startKey :: FragIndex
</span><a href="#local-6989586621679423057"><span class="hs-identifier hs-var hs-var">startKey</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FragIndex -&gt; FragIndex
forall a. Enum a =&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">succ</span></a></span><span> </span><span class="annot"><span class="annottext">(FragIndex -&gt; FragIndex)
-&gt; ((FragIndex, FragExpr BreakExtras) -&gt; FragIndex)
-&gt; (FragIndex, FragExpr BreakExtras)
-&gt; FragIndex
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(FragIndex, FragExpr BreakExtras) -&gt; FragIndex
forall a b. (a, b) -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">fst</span></a></span><span> </span><span class="annot"><span class="annottext">((FragIndex, FragExpr BreakExtras) -&gt; FragIndex)
-&gt; (FragIndex, FragExpr BreakExtras) -&gt; FragIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
-&gt; (FragIndex, FragExpr BreakExtras)
forall k a. Map k a -&gt; (k, a)
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.findMax</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
</span><a href="#local-6989586621679423064"><span class="hs-identifier hs-var">termMap</span></a></span><span>
</span><span id="line-118"></span><span>                                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">FragIndex
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679423054"><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
</span><a href="#local-6989586621679423054"><span class="hs-identifier hs-var">newMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State
  ((), FragIndex, Map FragIndex (FragExpr BreakExtras))
  (FragExpr BreakExtras)
-&gt; ((), FragIndex, Map FragIndex (FragExpr BreakExtras))
-&gt; ((), FragIndex, Map FragIndex (FragExpr BreakExtras))
forall s a. State s a -&gt; s -&gt; s
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">State.execState</span></a></span><span> </span><span class="annot"><span class="annottext">State
  ((), FragIndex, Map FragIndex (FragExpr BreakExtras))
  (FragExpr BreakExtras)
forall {b}. BreakState' BreakExtras b
</span><a href="#local-6989586621679423062"><span class="hs-identifier hs-var">builder</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423057"><span class="hs-identifier hs-var">startKey</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
</span><a href="#local-6989586621679423064"><span class="hs-identifier hs-var">termMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>                                   </span><span class="annot"><a href="#local-6989586621679423052"><span class="hs-identifier hs-type">changeType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#FragExpr"><span class="hs-identifier hs-type">FragExpr</span></a></span><span> </span><span class="annot"><a href="Telomare.html#BreakExtras"><span class="hs-identifier hs-type">BreakExtras</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#FragExpr"><span class="hs-identifier hs-type">FragExpr</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Void</span></a></span><span>
</span><span id="line-120"></span><span>                                   </span><span id="local-6989586621679423052"><span class="annot"><span class="annottext">changeType :: FragExpr BreakExtras -&gt; FragExpr Void
</span><a href="#local-6989586621679423052"><span class="hs-identifier hs-var hs-var">changeType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-121"></span><span>                                     </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="Telomare.html#ZeroFrag"><span class="hs-identifier hs-var">ZeroFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr Void
forall a. FragExpr a
</span><a href="Telomare.html#ZeroFrag"><span class="hs-identifier hs-var">ZeroFrag</span></a></span><span>
</span><span id="line-122"></span><span>                                     </span><span class="annot"><a href="Telomare.html#PairFrag"><span class="hs-identifier hs-type">PairFrag</span></a></span><span> </span><span id="local-6989586621679423049"><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423049"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679423048"><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423048"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr Void -&gt; FragExpr Void -&gt; FragExpr Void
forall a. FragExpr a -&gt; FragExpr a -&gt; FragExpr a
</span><a href="Telomare.html#PairFrag"><span class="hs-identifier hs-var">PairFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr BreakExtras -&gt; FragExpr Void
</span><a href="#local-6989586621679423052"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423049"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr BreakExtras -&gt; FragExpr Void
</span><a href="#local-6989586621679423052"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423048"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-123"></span><span>                                     </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="Telomare.html#EnvFrag"><span class="hs-identifier hs-var">EnvFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr Void
forall a. FragExpr a
</span><a href="Telomare.html#EnvFrag"><span class="hs-identifier hs-var">EnvFrag</span></a></span><span>
</span><span id="line-124"></span><span>                                     </span><span class="annot"><a href="Telomare.html#SetEnvFrag"><span class="hs-identifier hs-type">SetEnvFrag</span></a></span><span> </span><span id="local-6989586621679423045"><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423045"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr Void -&gt; FragExpr Void
forall a. FragExpr a -&gt; FragExpr a
</span><a href="Telomare.html#SetEnvFrag"><span class="hs-identifier hs-var">SetEnvFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr BreakExtras -&gt; FragExpr Void
</span><a href="#local-6989586621679423052"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423045"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>                                     </span><span class="annot"><a href="Telomare.html#DeferFrag"><span class="hs-identifier hs-type">DeferFrag</span></a></span><span> </span><span id="local-6989586621679423044"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423044"><span class="hs-identifier hs-var">ind</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragIndex -&gt; FragExpr Void
forall a. FragIndex -&gt; FragExpr a
</span><a href="Telomare.html#DeferFrag"><span class="hs-identifier hs-var">DeferFrag</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423044"><span class="hs-identifier hs-var">ind</span></a></span><span>
</span><span id="line-126"></span><span>                                     </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="Telomare.html#AbortFrag"><span class="hs-identifier hs-var">AbortFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr Void
forall a. FragExpr a
</span><a href="Telomare.html#AbortFrag"><span class="hs-identifier hs-var">AbortFrag</span></a></span><span>
</span><span id="line-127"></span><span>                                     </span><span class="annot"><a href="Telomare.html#GateFrag"><span class="hs-identifier hs-type">GateFrag</span></a></span><span> </span><span id="local-6989586621679423041"><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423041"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679423040"><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423040"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr Void -&gt; FragExpr Void -&gt; FragExpr Void
forall a. FragExpr a -&gt; FragExpr a -&gt; FragExpr a
</span><a href="Telomare.html#GateFrag"><span class="hs-identifier hs-var">GateFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr BreakExtras -&gt; FragExpr Void
</span><a href="#local-6989586621679423052"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423041"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr BreakExtras -&gt; FragExpr Void
</span><a href="#local-6989586621679423052"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423040"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>                                     </span><span class="annot"><a href="Telomare.html#LeftFrag"><span class="hs-identifier hs-type">LeftFrag</span></a></span><span> </span><span id="local-6989586621679423038"><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423038"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr Void -&gt; FragExpr Void
forall a. FragExpr a -&gt; FragExpr a
</span><a href="Telomare.html#LeftFrag"><span class="hs-identifier hs-var">LeftFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr BreakExtras -&gt; FragExpr Void
</span><a href="#local-6989586621679423052"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423038"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>                                     </span><span class="annot"><a href="Telomare.html#RightFrag"><span class="hs-identifier hs-type">RightFrag</span></a></span><span> </span><span id="local-6989586621679423036"><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423036"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr Void -&gt; FragExpr Void
forall a. FragExpr a -&gt; FragExpr a
</span><a href="Telomare.html#RightFrag"><span class="hs-identifier hs-var">RightFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FragExpr BreakExtras -&gt; FragExpr Void
</span><a href="#local-6989586621679423052"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="#local-6989586621679423036"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>                                     </span><span class="annot"><span class="annottext">FragExpr BreakExtras
</span><a href="Telomare.html#TraceFrag"><span class="hs-identifier hs-var">TraceFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr Void
forall a. FragExpr a
</span><a href="Telomare.html#TraceFrag"><span class="hs-identifier hs-var">TraceFrag</span></a></span><span>
</span><span id="line-131"></span><span>                                     </span><span class="annot"><a href="Telomare.html#AuxFrag"><span class="hs-identifier hs-type">AuxFrag</span></a></span><span> </span><span class="annot"><span class="annottext">BreakExtras
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; FragExpr Void
forall a. HasCallStack =&gt; String -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;convertPT should be no AuxFrags here&quot;</span></span><span>
</span><span id="line-132"></span><span>                               </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void) -&gt; Term4
</span><a href="Telomare.html#Term4"><span class="hs-identifier hs-var">Term4</span></a></span><span> </span><span class="annot"><span class="annottext">(Map FragIndex (FragExpr Void) -&gt; Term4)
-&gt; Map FragIndex (FragExpr Void) -&gt; Term4
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(FragExpr BreakExtras -&gt; FragExpr Void)
-&gt; Map FragIndex (FragExpr BreakExtras)
-&gt; Map FragIndex (FragExpr Void)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">fmap</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr BreakExtras -&gt; FragExpr Void
</span><a href="#local-6989586621679423052"><span class="hs-identifier hs-var">changeType</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
</span><a href="#local-6989586621679423054"><span class="hs-identifier hs-var">newMap</span></a></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="annot"><a href="Telomare.Eval.html#findChurchSize"><span class="hs-identifier hs-type">findChurchSize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span>
</span><span id="line-135"></span><span class="hs-comment">--findChurchSize = pure . convertPT (const 255)</span><span>
</span><span id="line-136"></span><span id="findChurchSize"><span class="annot"><span class="annottext">findChurchSize :: Term3 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#findChurchSize"><span class="hs-identifier hs-var hs-var">findChurchSize</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Term3 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#calculateRecursionLimits"><span class="hs-identifier hs-var">calculateRecursionLimits</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- we should probably redo the types so that this is also a type conversion</span><span>
</span><span id="line-139"></span><span class="annot"><a href="Telomare.Eval.html#removeChecks"><span class="hs-identifier hs-type">removeChecks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span>
</span><span id="line-140"></span><span id="removeChecks"><span class="annot"><span class="annottext">removeChecks :: Term4 -&gt; Term4
</span><a href="Telomare.Eval.html#removeChecks"><span class="hs-identifier hs-var hs-var">removeChecks</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span> </span><span id="local-6989586621679423029"><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void)
</span><a href="#local-6989586621679423029"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679423028"><span class="annot"><span class="annottext">f :: FragExpr a -&gt; FragExpr a
</span><a href="#local-6989586621679423028"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-142"></span><span>        </span><span class="annot"><span class="annottext">FragExpr a
</span><a href="Telomare.html#AbortFrag"><span class="hs-identifier hs-var">AbortFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragIndex -&gt; FragExpr a
forall a. FragIndex -&gt; FragExpr a
</span><a href="Telomare.html#DeferFrag"><span class="hs-identifier hs-var">DeferFrag</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423027"><span class="hs-identifier hs-var">ind</span></a></span><span>
</span><span id="line-143"></span><span>        </span><span id="local-6989586621679423026"><span class="annot"><span class="annottext">FragExpr a
</span><a href="#local-6989586621679423026"><span class="hs-identifier hs-var">x</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragExpr a
</span><a href="#local-6989586621679423026"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-144"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679423027"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423027"><span class="hs-identifier hs-var">ind</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679423025"><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void)
</span><a href="#local-6989586621679423025"><span class="hs-identifier hs-var">newM</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State (Map FragIndex (FragExpr Void)) FragIndex
-&gt; Map FragIndex (FragExpr Void)
-&gt; (FragIndex, Map FragIndex (FragExpr Void))
forall s a. State s a -&gt; s -&gt; (a, s)
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src"><span class="hs-identifier hs-var">State.runState</span></a></span><span> </span><span class="annot"><span class="annottext">State (Map FragIndex (FragExpr Void)) FragIndex
forall {a}. StateT (Map FragIndex (FragExpr a)) Identity FragIndex
</span><a href="#local-6989586621679423023"><span class="hs-identifier hs-var">builder</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void)
</span><a href="#local-6989586621679423029"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-145"></span><span>      </span><span id="local-6989586621679423023"><span class="annot"><span class="annottext">builder :: StateT (Map FragIndex (FragExpr a)) Identity FragIndex
</span><a href="#local-6989586621679423023"><span class="hs-identifier hs-var hs-var">builder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-146"></span><span>        </span><span id="local-6989586621679423016"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423016"><span class="hs-identifier hs-var">envDefer</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FragExpr a
-&gt; StateT (Map FragIndex (FragExpr a)) Identity FragIndex
forall e a. (Ord e, Enum e) =&gt; a -&gt; State (Map e a) e
</span><a href="Telomare.html#insertAndGetKey"><span class="hs-identifier hs-var">insertAndGetKey</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr a
forall a. FragExpr a
</span><a href="Telomare.html#EnvFrag"><span class="hs-identifier hs-var">EnvFrag</span></a></span><span>
</span><span id="line-147"></span><span>        </span><span class="annot"><span class="annottext">FragExpr a
-&gt; StateT (Map FragIndex (FragExpr a)) Identity FragIndex
forall e a. (Ord e, Enum e) =&gt; a -&gt; State (Map e a) e
</span><a href="Telomare.html#insertAndGetKey"><span class="hs-identifier hs-var">insertAndGetKey</span></a></span><span> </span><span class="annot"><span class="annottext">(FragExpr a
 -&gt; StateT (Map FragIndex (FragExpr a)) Identity FragIndex)
-&gt; FragExpr a
-&gt; StateT (Map FragIndex (FragExpr a)) Identity FragIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex -&gt; FragExpr a
forall a. FragIndex -&gt; FragExpr a
</span><a href="Telomare.html#DeferFrag"><span class="hs-identifier hs-var">DeferFrag</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679423016"><span class="hs-identifier hs-var">envDefer</span></a></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void) -&gt; Term4
</span><a href="Telomare.html#Term4"><span class="hs-identifier hs-var">Term4</span></a></span><span> </span><span class="annot"><span class="annottext">(Map FragIndex (FragExpr Void) -&gt; Term4)
-&gt; Map FragIndex (FragExpr Void) -&gt; Term4
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(FragExpr Void -&gt; FragExpr Void)
-&gt; Map FragIndex (FragExpr Void) -&gt; Map FragIndex (FragExpr Void)
forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src"><span class="hs-identifier hs-var">Map.map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FragExpr Void -&gt; FragExpr Void) -&gt; FragExpr Void -&gt; FragExpr Void
forall a. Plated a =&gt; (a -&gt; a) -&gt; a -&gt; a
</span><a href="../file:///nix/store/l7rr36hy4kvd5jy4rq34fqzs7b1xp4w6-lens-5.1-doc/share/doc/lens-5.1/html/src"><span class="hs-identifier hs-var">transform</span></a></span><span> </span><span class="annot"><span class="annottext">FragExpr Void -&gt; FragExpr Void
forall a. FragExpr a -&gt; FragExpr a
</span><a href="#local-6989586621679423028"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void)
</span><a href="#local-6989586621679423025"><span class="hs-identifier hs-var">newM</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="annot"><a href="Telomare.Eval.html#convertAbortMessage"><span class="hs-identifier hs-type">convertAbortMessage</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-151"></span><span id="convertAbortMessage"><span class="annot"><span class="annottext">convertAbortMessage :: IExpr -&gt; String
</span><a href="Telomare.Eval.html#convertAbortMessage"><span class="hs-identifier hs-var hs-var">convertAbortMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortRecursion"><span class="hs-identifier hs-var">AbortRecursion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;recursion overflow (should be caught by other means)&quot;</span></span><span>
</span><span id="line-153"></span><span>  </span><span class="annot"><a href="Telomare.html#AbortUser"><span class="hs-identifier hs-type">AbortUser</span></a></span><span> </span><span id="local-6989586621679423009"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423009"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;user abort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; String
</span><a href="Telomare.html#g2s"><span class="hs-identifier hs-var">g2s</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423009"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-154"></span><span>  </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortAny"><span class="hs-identifier hs-var">AbortAny</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;user abort of all possible abort reasons (non-deterministic input)&quot;</span></span><span>
</span><span id="line-155"></span><span>  </span><span id="local-6989586621679423006"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423006"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unexpected abort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679423006"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="annot"><a href="Telomare.Eval.html#runStaticChecks"><span class="hs-identifier hs-type">runStaticChecks</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span>
</span><span id="line-158"></span><span id="runStaticChecks"><span class="annot"><span class="annottext">runStaticChecks :: Term4 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#runStaticChecks"><span class="hs-identifier hs-var hs-var">runStaticChecks</span></a></span></span><span> </span><span id="local-6989586621679423003"><span class="annot"><span class="annottext">t :: Term4
</span><a href="#local-6989586621679423003"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span> </span><span id="local-6989586621679423002"><span class="annot"><span class="annottext">Map FragIndex (FragExpr Void)
</span><a href="#local-6989586621679423002"><span class="hs-identifier hs-var">termMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679423001"><span class="annot"><span class="annottext">result :: Maybe IExpr
</span><a href="#local-6989586621679423001"><span class="hs-identifier hs-var hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe IExpr -&gt; Maybe IExpr -&gt; Maybe IExpr)
-&gt; Maybe IExpr -&gt; Term4 -&gt; Maybe IExpr
</span><a href="Telomare.Possible.html#evalA"><span class="hs-identifier hs-var">evalA</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe IExpr -&gt; Maybe IExpr -&gt; Maybe IExpr
forall {a} {a}. Maybe a -&gt; Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679422999"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IExpr -&gt; Maybe IExpr
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term4
</span><a href="#local-6989586621679423003"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-160"></span><span>      </span><span id="local-6989586621679422999"><span class="annot"><span class="annottext">combine :: Maybe a -&gt; Maybe a -&gt; Maybe a
</span><a href="#local-6989586621679422999"><span class="hs-identifier hs-var hs-var">combine</span></a></span></span><span> </span><span id="local-6989586621679422998"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679422998"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679422997"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679422997"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679422998"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679422997"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-161"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-162"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-163"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679422996"><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679422996"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679422996"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="#local-6989586621679423001"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-165"></span><span>    </span><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Term4 -&gt; Either EvalError Term4
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">Term4
</span><a href="#local-6989586621679423003"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-166"></span><span>    </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679422995"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422995"><span class="hs-identifier hs-var">e</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">EvalError -&gt; Either EvalError Term4
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(EvalError -&gt; Either EvalError Term4)
-&gt; (String -&gt; EvalError) -&gt; String -&gt; Either EvalError Term4
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; EvalError
</span><a href="Telomare.Eval.html#StaticCheckError"><span class="hs-identifier hs-var">StaticCheckError</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Either EvalError Term4)
-&gt; String -&gt; Either EvalError Term4
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; String
</span><a href="Telomare.Eval.html#convertAbortMessage"><span class="hs-identifier hs-var">convertAbortMessage</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422995"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="annot"><a href="Telomare.Eval.html#compileMain"><span class="hs-identifier hs-type">compileMain</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span>
</span><span id="line-169"></span><span id="compileMain"><span class="annot"><span class="annottext">compileMain :: Term3 -&gt; Either EvalError IExpr
</span><a href="Telomare.Eval.html#compileMain"><span class="hs-identifier hs-var hs-var">compileMain</span></a></span></span><span> </span><span id="local-6989586621679422993"><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679422993"><span class="hs-identifier hs-var">term</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PartialType -&gt; Term3 -&gt; Maybe TypeCheckError
</span><a href="Telomare.TypeChecker.html#typeCheck"><span class="hs-identifier hs-var">typeCheck</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PartialType -&gt; PartialType -&gt; PartialType
</span><a href="Telomare.html#PairTypeP"><span class="hs-identifier hs-var">PairTypeP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PartialType -&gt; PartialType -&gt; PartialType
</span><a href="Telomare.html#ArrTypeP"><span class="hs-identifier hs-var">ArrTypeP</span></a></span><span> </span><span class="annot"><span class="annottext">PartialType
</span><a href="Telomare.html#ZeroTypeP"><span class="hs-identifier hs-var">ZeroTypeP</span></a></span><span> </span><span class="annot"><span class="annottext">PartialType
</span><a href="Telomare.html#ZeroTypeP"><span class="hs-identifier hs-var">ZeroTypeP</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PartialType
</span><a href="Telomare.html#AnyType"><span class="hs-identifier hs-var">AnyType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679422993"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679422987"><span class="annot"><span class="annottext">TypeCheckError
</span><a href="#local-6989586621679422987"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">EvalError -&gt; Either EvalError IExpr
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(EvalError -&gt; Either EvalError IExpr)
-&gt; EvalError -&gt; Either EvalError IExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">TypeCheckError -&gt; EvalError
</span><a href="Telomare.Eval.html#TCE"><span class="hs-identifier hs-var">TCE</span></a></span><span> </span><span class="annot"><span class="annottext">TypeCheckError
</span><a href="#local-6989586621679422987"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-171"></span><span>  </span><span class="annot"><span class="annottext">Maybe TypeCheckError
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Term4 -&gt; Either EvalError Term4)
-&gt; Term3 -&gt; Either EvalError IExpr
</span><a href="Telomare.Eval.html#compile"><span class="hs-identifier hs-var">compile</span></a></span><span> </span><span class="annot"><span class="annottext">Term4 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#runStaticChecks"><span class="hs-identifier hs-var">runStaticChecks</span></a></span><span> </span><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679422993"><span class="hs-identifier hs-var">term</span></a></span><span> </span><span class="hs-comment">-- TODO fix runStaticChecksMain</span><span>
</span><span id="line-172"></span><span>
</span><span id="line-173"></span><span class="annot"><a href="Telomare.Eval.html#compileUnitTest"><span class="hs-identifier hs-type">compileUnitTest</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span>
</span><span id="line-174"></span><span id="compileUnitTest"><span class="annot"><span class="annottext">compileUnitTest :: Term3 -&gt; Either EvalError IExpr
</span><a href="Telomare.Eval.html#compileUnitTest"><span class="hs-identifier hs-var hs-var">compileUnitTest</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Term4 -&gt; Either EvalError Term4)
-&gt; Term3 -&gt; Either EvalError IExpr
</span><a href="Telomare.Eval.html#compile"><span class="hs-identifier hs-var">compile</span></a></span><span> </span><span class="annot"><span class="annottext">Term4 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#runStaticChecks"><span class="hs-identifier hs-var">runStaticChecks</span></a></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="annot"><a href="Telomare.Eval.html#compile"><span class="hs-identifier hs-type">compile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span>
</span><span id="line-177"></span><span id="compile"><span class="annot"><span class="annottext">compile :: (Term4 -&gt; Either EvalError Term4)
-&gt; Term3 -&gt; Either EvalError IExpr
</span><a href="Telomare.Eval.html#compile"><span class="hs-identifier hs-var hs-var">compile</span></a></span></span><span> </span><span id="local-6989586621679422984"><span class="annot"><span class="annottext">Term4 -&gt; Either EvalError Term4
</span><a href="#local-6989586621679422984"><span class="hs-identifier hs-var">staticCheck</span></a></span></span><span> </span><span id="local-6989586621679422983"><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679422983"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Term4 -&gt; Maybe IExpr
forall a. TelomareLike a =&gt; a -&gt; Maybe IExpr
</span><a href="Telomare.html#toTelomare"><span class="hs-identifier hs-var">toTelomare</span></a></span><span> </span><span class="annot"><span class="annottext">(Term4 -&gt; Maybe IExpr) -&gt; (Term4 -&gt; Term4) -&gt; Term4 -&gt; Maybe IExpr
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Term4 -&gt; Term4
</span><a href="Telomare.Eval.html#removeChecks"><span class="hs-identifier hs-var">removeChecks</span></a></span><span> </span><span class="annot"><span class="annottext">(Term4 -&gt; Maybe IExpr)
-&gt; Either EvalError Term4 -&gt; Either EvalError (Maybe IExpr)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Term3 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#findChurchSize"><span class="hs-identifier hs-var">findChurchSize</span></a></span><span> </span><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679422983"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Either EvalError Term4
-&gt; (Term4 -&gt; Either EvalError Term4) -&gt; Either EvalError Term4
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">Term4 -&gt; Either EvalError Term4
</span><a href="#local-6989586621679422984"><span class="hs-identifier hs-var">staticCheck</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-178"></span><span>  </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679422982"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422982"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; Either EvalError IExpr
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422982"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">EvalError -&gt; Either EvalError IExpr
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">EvalError
</span><a href="Telomare.Eval.html#CompileConversionError"><span class="hs-identifier hs-var">CompileConversionError</span></a></span><span>
</span><span id="line-180"></span><span>  </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679422981"><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679422981"><span class="hs-identifier hs-var">e</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">EvalError -&gt; Either EvalError IExpr
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">EvalError
</span><a href="#local-6989586621679422981"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="annot"><a href="Telomare.Eval.html#eval%27"><span class="hs-identifier hs-type">eval'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span>
</span><span id="line-183"></span><span id="eval%27"><span class="annot"><span class="annottext">eval' :: IExpr -&gt; Either String IExpr
</span><a href="Telomare.Eval.html#eval%27"><span class="hs-identifier hs-var hs-var">eval'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; Either String IExpr
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="annot"><a href="Telomare.Eval.html#evalLoop"><span class="hs-identifier hs-type">evalLoop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-186"></span><span id="evalLoop"><span class="annot"><span class="annottext">evalLoop :: IExpr -&gt; IO ()
</span><a href="Telomare.Eval.html#evalLoop"><span class="hs-identifier hs-var hs-var">evalLoop</span></a></span></span><span> </span><span id="local-6989586621679422978"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422978"><span class="hs-identifier hs-var">iexpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; Either String IExpr
</span><a href="Telomare.Eval.html#eval%27"><span class="hs-identifier hs-var">eval'</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422978"><span class="hs-identifier hs-var">iexpr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679422977"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679422977"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; ([String] -&gt; String) -&gt; [String] -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; IO ()) -&gt; [String] -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Failed compiling main, &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679422977"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-188"></span><span>  </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679422974"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422974"><span class="hs-identifier hs-var">peExp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-189"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679422965"><span class="annot"><span class="annottext">mainLoop :: IExpr -&gt; IO ()
</span><a href="#local-6989586621679422965"><span class="hs-identifier hs-var hs-var">mainLoop</span></a></span></span><span> </span><span id="local-6989586621679422964"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422964"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-190"></span><span>          </span><span class="hs-comment">-- result &lt;- hvmEval $ app peExp s</span><span>
</span><span id="line-191"></span><span>          </span><span id="local-6989586621679422963"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422963"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IO IExpr
</span><a href="Telomare.RunTime.html#simpleEval"><span class="hs-identifier hs-var">simpleEval</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; IO IExpr) -&gt; IExpr -&gt; IO IExpr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422974"><span class="hs-identifier hs-var">peExp</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422964"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-192"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422963"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-193"></span><span>            </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;aborted&quot;</span></span><span>
</span><span id="line-194"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Pair"><span class="hs-identifier hs-type">Pair</span></a></span><span> </span><span id="local-6989586621679422960"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422960"><span class="hs-identifier hs-var">disp</span></a></span></span><span> </span><span id="local-6989586621679422959"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422959"><span class="hs-identifier hs-var">newState</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-195"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; (IExpr -&gt; String) -&gt; IExpr -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; String
</span><a href="Telomare.html#g2s"><span class="hs-identifier hs-var">g2s</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; IO ()) -&gt; IExpr -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422960"><span class="hs-identifier hs-var">disp</span></a></span><span>
</span><span id="line-196"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422959"><span class="hs-identifier hs-var">newState</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-197"></span><span>                </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;done&quot;</span></span><span>
</span><span id="line-198"></span><span>                </span><span class="annot"><span class="annottext">IExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-199"></span><span>                  </span><span id="local-6989586621679422958"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422958"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IExpr
</span><a href="Telomare.html#s2g"><span class="hs-identifier hs-var">s2g</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IExpr) -&gt; IO String -&gt; IO IExpr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO String
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">getLine</span></a></span><span>
</span><span id="line-200"></span><span>                  </span><span class="annot"><span class="annottext">IExpr -&gt; IO ()
</span><a href="#local-6989586621679422965"><span class="hs-identifier hs-var">mainLoop</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; IO ()) -&gt; IExpr -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#Pair"><span class="hs-identifier hs-var">Pair</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422958"><span class="hs-identifier hs-var">inp</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422959"><span class="hs-identifier hs-var">newState</span></a></span><span>
</span><span id="line-201"></span><span>            </span><span id="local-6989586621679422955"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422955"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">putStrLn</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;runtime error, dumped &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422955"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-202"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IO ()
</span><a href="#local-6989586621679422965"><span class="hs-identifier hs-var">mainLoop</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="hs-comment">-- |Same as `evalLoop`, but keeping what was displayed.</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- TODO: make evalLoop and evalLoop always share eval method (i.e. simpleEval, hvmEval)</span><span>
</span><span id="line-206"></span><span class="annot"><a href="Telomare.Eval.html#evalLoop_"><span class="hs-identifier hs-type">evalLoop_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-type">IO</span></a></span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">String</span></a></span><span>
</span><span id="line-207"></span><span id="evalLoop_"><span class="annot"><span class="annottext">evalLoop_ :: IExpr -&gt; IO String
</span><a href="Telomare.Eval.html#evalLoop_"><span class="hs-identifier hs-var hs-var">evalLoop_</span></a></span></span><span> </span><span id="local-6989586621679422953"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422953"><span class="hs-identifier hs-var">iexpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; Either String IExpr
</span><a href="Telomare.Eval.html#eval%27"><span class="hs-identifier hs-var">eval'</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422953"><span class="hs-identifier hs-var">iexpr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-208"></span><span>  </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Left</span></a></span><span> </span><span id="local-6989586621679422952"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679422952"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO String)
-&gt; ([String] -&gt; String) -&gt; [String] -&gt; IO String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; IO String) -&gt; [String] -&gt; IO String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Failed compiling main, &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679422952"><span class="hs-identifier hs-var">err</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-209"></span><span>  </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Right</span></a></span><span> </span><span id="local-6989586621679422951"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422951"><span class="hs-identifier hs-var">peExp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679422935"><span class="annot"><span class="annottext">mainLoop :: String -&gt; IExpr -&gt; IO String
</span><a href="#local-6989586621679422935"><span class="hs-identifier hs-var hs-var">mainLoop</span></a></span></span><span> </span><span id="local-6989586621679422934"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679422934"><span class="hs-identifier hs-var">prev</span></a></span></span><span> </span><span id="local-6989586621679422933"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422933"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-211"></span><span>          </span><span class="hs-comment">-- result &lt;- optimizedEval (app peExp s)</span><span>
</span><span id="line-212"></span><span>          </span><span id="local-6989586621679422932"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422932"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IO IExpr
</span><a href="Telomare.RunTime.html#simpleEval"><span class="hs-identifier hs-var">simpleEval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#app"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422951"><span class="hs-identifier hs-var">peExp</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422933"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422932"><span class="hs-identifier hs-var">result</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-214"></span><span>            </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO String) -&gt; String -&gt; IO String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679422934"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;aborted&quot;</span></span><span>
</span><span id="line-215"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Pair"><span class="hs-identifier hs-type">Pair</span></a></span><span> </span><span id="local-6989586621679422931"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422931"><span class="hs-identifier hs-var">disp</span></a></span></span><span> </span><span id="local-6989586621679422930"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422930"><span class="hs-identifier hs-var">newState</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-216"></span><span>              </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679422929"><span class="annot"><span class="annottext">d :: String
</span><a href="#local-6989586621679422929"><span class="hs-identifier hs-var hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; String
</span><a href="Telomare.html#g2s"><span class="hs-identifier hs-var">g2s</span></a></span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; String) -&gt; IExpr -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422931"><span class="hs-identifier hs-var">disp</span></a></span><span>
</span><span id="line-217"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422930"><span class="hs-identifier hs-var">newState</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-218"></span><span>                </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO String) -&gt; String -&gt; IO String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679422934"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679422929"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\ndone&quot;</span></span><span>
</span><span id="line-219"></span><span>                </span><span class="annot"><span class="annottext">IExpr
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-220"></span><span>                  </span><span id="local-6989586621679422928"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422928"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IExpr
</span><a href="Telomare.html#s2g"><span class="hs-identifier hs-var">s2g</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IExpr) -&gt; IO String -&gt; IO IExpr
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IO String
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">getLine</span></a></span><span>
</span><span id="line-221"></span><span>                  </span><span class="annot"><span class="annottext">String -&gt; IExpr -&gt; IO String
</span><a href="#local-6989586621679422935"><span class="hs-identifier hs-var">mainLoop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679422934"><span class="hs-identifier hs-var">prev</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679422929"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IExpr -&gt; IO String) -&gt; IExpr -&gt; IO String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#Pair"><span class="hs-identifier hs-var">Pair</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422928"><span class="hs-identifier hs-var">inp</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422930"><span class="hs-identifier hs-var">newState</span></a></span><span>
</span><span id="line-222"></span><span>            </span><span id="local-6989586621679422927"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422927"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO String) -&gt; String -&gt; IO String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;runtime error, dumped &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679422927"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-223"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">String -&gt; IExpr -&gt; IO String
</span><a href="#local-6989586621679422935"><span class="hs-identifier hs-var">mainLoop</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="annot"><a href="Telomare.Eval.html#calculateRecursionLimits"><span class="hs-identifier hs-type">calculateRecursionLimits</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Either</span></a></span><span> </span><span class="annot"><a href="Telomare.Eval.html#EvalError"><span class="hs-identifier hs-type">EvalError</span></a></span><span> </span><span class="annot"><a href="Telomare.html#Term4"><span class="hs-identifier hs-type">Term4</span></a></span><span>
</span><span id="line-226"></span><span id="calculateRecursionLimits"><span class="annot"><span class="annottext">calculateRecursionLimits :: Term3 -&gt; Either EvalError Term4
</span><a href="Telomare.Eval.html#calculateRecursionLimits"><span class="hs-identifier hs-var hs-var">calculateRecursionLimits</span></a></span></span><span> </span><span id="local-6989586621679422926"><span class="annot"><span class="annottext">t3 :: Term3
</span><a href="#local-6989586621679422926"><span class="hs-identifier hs-var">t3</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Term3"><span class="hs-identifier hs-type">Term3</span></a></span><span> </span><span id="local-6989586621679422925"><span class="annot"><span class="annottext">Map FragIndex (FragExpr BreakExtras)
</span><a href="#local-6989586621679422925"><span class="hs-identifier hs-var">termMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-227"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679422922"><span class="annot"><span class="annottext">abortsAt :: Int -&gt; Bool
</span><a href="#local-6989586621679422922"><span class="hs-identifier hs-var hs-var">abortsAt</span></a></span></span><span> </span><span id="local-6989586621679422921"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679422921"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">not</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (Term4 -&gt; Bool) -&gt; Term4 -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe IExpr -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">null</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe IExpr -&gt; Bool) -&gt; (Term4 -&gt; Maybe IExpr) -&gt; Term4 -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe IExpr -&gt; Maybe IExpr -&gt; Maybe IExpr)
-&gt; Maybe IExpr -&gt; Term4 -&gt; Maybe IExpr
</span><a href="Telomare.Possible.html#evalA"><span class="hs-identifier hs-var">evalA</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe IExpr -&gt; Maybe IExpr -&gt; Maybe IExpr
</span><a href="#local-6989586621679422918"><span class="hs-identifier hs-var">combine</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe IExpr
forall a. Maybe a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="annot"><span class="annottext">(Term4 -&gt; Bool) -&gt; Term4 -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(BreakExtras -&gt; Int) -&gt; Term3 -&gt; Term4
</span><a href="Telomare.Eval.html#convertPT"><span class="hs-identifier hs-var">convertPT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; BreakExtras -&gt; Int
forall a b. a -&gt; b -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679422921"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679422926"><span class="hs-identifier hs-var">t3</span></a></span><span>
</span><span id="line-228"></span><span>      </span><span id="local-6989586621679422918"><span class="annot"><span class="annottext">combine :: Maybe IExpr -&gt; Maybe IExpr -&gt; Maybe IExpr
</span><a href="#local-6989586621679422918"><span class="hs-identifier hs-var hs-var">combine</span></a></span></span><span> </span><span id="local-6989586621679422916"><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="#local-6989586621679422916"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679422915"><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="#local-6989586621679422915"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="#local-6989586621679422916"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Maybe IExpr
</span><a href="#local-6989586621679422915"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-229"></span><span>        </span><span class="hs-special">(</span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortRecursion"><span class="hs-identifier hs-var">AbortRecursion</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe IExpr
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; Maybe IExpr
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortRecursion"><span class="hs-identifier hs-var">AbortRecursion</span></a></span><span>
</span><span id="line-230"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe IExpr
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortRecursion"><span class="hs-identifier hs-var">AbortRecursion</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; Maybe IExpr
forall a. a -&gt; Maybe a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#AbortRecursion"><span class="hs-identifier hs-var">AbortRecursion</span></a></span><span>
</span><span id="line-231"></span><span>        </span><span class="annot"><span class="annottext">(Maybe IExpr, Maybe IExpr)
</span><span class="hs-identifier">_</span></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe IExpr
forall a. Maybe a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-232"></span><span>      </span><span id="local-6989586621679422908"><span class="annot"><span class="annottext">iterations :: [(Bool, Int)]
</span><a href="#local-6989586621679422908"><span class="hs-identifier hs-var hs-var">iterations</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [(Bool, Int)] -&gt; [(Bool, Int)]
forall a. Int -&gt; [a] -&gt; [a]
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">take</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">10</span></span><span> </span><span class="annot"><span class="annottext">([(Bool, Int)] -&gt; [(Bool, Int)]) -&gt; [(Bool, Int)] -&gt; [(Bool, Int)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">((Bool, Int) -&gt; (Bool, Int)) -&gt; (Bool, Int) -&gt; [(Bool, Int)]
forall a. (a -&gt; a) -&gt; a -&gt; [a]
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">iterate</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679422905"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679422905"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Bool
</span><a href="#local-6989586621679422922"><span class="hs-identifier hs-var">abortsAt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679422905"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679422905"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">*</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">True</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [(Bool, Int)] -&gt; Maybe Int
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">lookup</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src"><span class="hs-identifier hs-var">False</span></a></span><span> </span><span class="annot"><span class="annottext">[(Bool, Int)]
</span><a href="#local-6989586621679422908"><span class="hs-identifier hs-var">iterations</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679422902"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679422902"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Term4 -&gt; Either EvalError Term4)
-&gt; Term4
-&gt; Either EvalError Term4
forall a. String -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;crl found limit at &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679422902"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term4 -&gt; Either EvalError Term4
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">(Term4 -&gt; Either EvalError Term4)
-&gt; Term4 -&gt; Either EvalError Term4
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">(BreakExtras -&gt; Int) -&gt; Term3 -&gt; Term4
</span><a href="Telomare.Eval.html#convertPT"><span class="hs-identifier hs-var">convertPT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; BreakExtras -&gt; Int
forall a b. a -&gt; b -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">const</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679422902"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Term3
</span><a href="#local-6989586621679422926"><span class="hs-identifier hs-var">t3</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span class="annot"><span class="annottext">Maybe Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">EvalError -&gt; Either EvalError Term4
forall a b. a -&gt; Either a b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">Left</span></a></span><span> </span><span class="annot"><span class="annottext">(EvalError -&gt; Either EvalError Term4)
-&gt; (BreakExtras -&gt; EvalError)
-&gt; BreakExtras
-&gt; Either EvalError Term4
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">BreakExtras -&gt; EvalError
</span><a href="Telomare.Eval.html#RecursionLimitError"><span class="hs-identifier hs-var">RecursionLimitError</span></a></span><span> </span><span class="annot"><span class="annottext">(BreakExtras -&gt; Either EvalError Term4)
-&gt; BreakExtras -&gt; Either EvalError Term4
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; BreakExtras
forall a. Enum a =&gt; Int -&gt; a
</span><a href="../file:///nix/store/9nl6h0j7p4bmhpr18lpx5f0rfx74lj8d-ghc-9.2.2-doc/share/doc/ghc/html/libraries/base-4.16.1.0/src"><span class="hs-identifier hs-var">toEnum</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-236"></span></pre></body></html>