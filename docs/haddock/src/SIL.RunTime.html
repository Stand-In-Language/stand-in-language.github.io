<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><a name="line-2"></a><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><a name="line-3"></a><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><a name="line-4"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">SIL.RunTime</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-5"></a><span>
</span><a name="line-6"></a><span class="hs-keyword">import</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.Identity.html"><span class="hs-identifier">Data.Functor.Identity</span></a><span>
</span><a name="line-7"></a><span class="hs-keyword">import</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Debug.Trace.html"><span class="hs-identifier">Debug.Trace</span></a><span>
</span><a name="line-8"></a><span class="hs-keyword">import</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Control.Exception.html"><span class="hs-identifier">Control.Exception</span></a><span>
</span><a name="line-9"></a><span class="hs-keyword">import</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Except.html"><span class="hs-identifier">Control.Monad.Except</span></a><span>
</span><a name="line-10"></a><span class="hs-keyword">import</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Control.Monad.Fix.html"><span class="hs-identifier">Control.Monad.Fix</span></a><span>
</span><a name="line-11"></a><span class="hs-keyword">import</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/System.IO.html"><span class="hs-identifier">System.IO</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.IO.Handle.Text.html#hPutStrLn"><span class="hs-identifier hs-var">hPutStrLn</span></a><span class="hs-special">,</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.IO.Handle.FD.html#stderr"><span class="hs-identifier hs-var">stderr</span></a><span class="hs-special">,</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/System.IO.html#hPrint"><span class="hs-identifier hs-var">hPrint</span></a><span class="hs-special">)</span><span>
</span><a name="line-12"></a><span>
</span><a name="line-13"></a><span class="hs-keyword">import</span><span> </span><a href="SIL.html"><span class="hs-identifier">SIL</span></a><span>
</span><a name="line-14"></a><span class="hs-keyword">import</span><span> </span><a href="Naturals.html"><span class="hs-identifier">Naturals</span></a><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><a href="Naturals.html#debug"><span class="hs-identifier hs-var">debug</span></a><span class="hs-special">,</span><span> </span><a href="Naturals.html#debugTrace"><span class="hs-identifier hs-var">debugTrace</span></a><span class="hs-special">)</span><span>
</span><a name="line-15"></a><span class="hs-keyword">import</span><span> </span><a href="PrettyPrint.html"><span class="hs-identifier">PrettyPrint</span></a><span>
</span><a name="line-16"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">Map</span><span>
</span><a name="line-17"></a><span class="hs-comment">-- import qualified SIL.Llvm as LLVM</span><span>
</span><a name="line-18"></a><span>
</span><a name="line-19"></a><span class="hs-identifier">debug</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a><span>
</span><a name="line-20"></a><a name="debug"><a href="SIL.RunTime.html#debug"><span class="hs-identifier">debug</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a><span>
</span><a name="line-21"></a><span>
</span><a name="line-22"></a><span class="hs-identifier">debugTrace</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169580"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169580"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-23"></a><a name="debugTrace"><a href="SIL.RunTime.html#debugTrace"><span class="hs-identifier">debugTrace</span></a></a><span> </span><a name="local-6989586621679169581"><a href="#local-6989586621679169581"><span class="hs-identifier">s</span></a></a><span> </span><a name="local-6989586621679169582"><a href="#local-6989586621679169582"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="SIL.RunTime.html#debug"><span class="hs-identifier hs-var">debug</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Debug.Trace.html#trace"><span class="hs-identifier hs-var">trace</span></a><span> </span><a href="#local-6989586621679169581"><span class="hs-identifier hs-var">s</span></a><span> </span><a href="#local-6989586621679169582"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">else</span><span> </span><a href="#local-6989586621679169582"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-24"></a><span>
</span><a name="line-25"></a><span class="hs-comment">-- cPlus :: (t3 -&gt; t2 -&gt; t1) -&gt; (t3 -&gt; t -&gt; t2) -&gt; t3 -&gt; t -&gt; t1</span><span>
</span><a name="line-26"></a><span class="hs-identifier">cPlus</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169579"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-27"></a><span class="hs-comment">-- cPlus m n f x = m f (n f x)</span><span>
</span><a name="line-28"></a><a name="cPlus"><a href="SIL.RunTime.html#cPlus"><span class="hs-identifier">cPlus</span></a></a><span> </span><a name="local-6989586621679169583"><a href="#local-6989586621679169583"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-6989586621679169584"><a href="#local-6989586621679169584"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-6989586621679169585"><a href="#local-6989586621679169585"><span class="hs-identifier">f</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679169583"><span class="hs-identifier hs-var">m</span></a><span> </span><a href="#local-6989586621679169585"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="#local-6989586621679169584"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="#local-6989586621679169585"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-29"></a><span>
</span><a name="line-30"></a><span class="hs-identifier">nEval</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Naturals.html#NExprs"><span class="hs-identifier hs-type">NExprs</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#RunResult"><span class="hs-identifier hs-type">RunResult</span></a><span> </span><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a><span>
</span><a name="line-31"></a><a name="nEval"><a href="SIL.RunTime.html#nEval"><span class="hs-identifier">nEval</span></a></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NExprs"><span class="hs-identifier hs-var">NExprs</span></a><span> </span><a name="local-6989586621679169586"><a href="#local-6989586621679169586"><span class="hs-identifier">m</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-32"></a><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">eval</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#RunResult"><span class="hs-identifier hs-type">RunResult</span></a><span> </span><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a><span>
</span><a name="line-33"></a><span>      </span><a name="local-6989586621679169587"><a href="#local-6989586621679169587"><span class="hs-identifier">eval</span></a></a><span> </span><a name="local-6989586621679169588"><a href="#local-6989586621679169588"><span class="hs-identifier">env</span></a></a><span> </span><a name="local-6989586621679169589"><a href="#local-6989586621679169589"><span class="hs-identifier">frag</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679169590"><a href="#local-6989586621679169590"><span class="hs-identifier">recur</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679169587"><span class="hs-identifier hs-var">eval</span></a><span> </span><a href="#local-6989586621679169588"><span class="hs-identifier hs-var">env</span></a><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169589"><span class="hs-identifier hs-var">frag</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-34"></a><span>        </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span>
</span><a name="line-35"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><a name="local-6989586621679169591"><a href="#local-6989586621679169591"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679169592"><a href="#local-6989586621679169592"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169591"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169592"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-36"></a><span>        </span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169588"><span class="hs-identifier hs-var">env</span></a><span>
</span><a name="line-37"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NGate"><span class="hs-identifier hs-var">NGate</span></a><span> </span><a name="local-6989586621679169593"><a href="#local-6989586621679169593"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169593"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679169594"><a href="#local-6989586621679169594"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169594"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-38"></a><span>          </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Naturals.html#NLeft"><span class="hs-identifier hs-var">NLeft</span></a><span> </span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a><span>
</span><a name="line-39"></a><span>          </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Naturals.html#NRight"><span class="hs-identifier hs-var">NRight</span></a><span> </span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a><span>
</span><a name="line-40"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NLeft"><span class="hs-identifier hs-var">NLeft</span></a><span> </span><a name="local-6989586621679169595"><a href="#local-6989586621679169595"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169595"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679169596"><a href="#local-6989586621679169596"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169596"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-41"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><a name="local-6989586621679169597"><a href="#local-6989586621679169597"><span class="hs-identifier">l</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169597"><span class="hs-identifier hs-var">l</span></a><span>
</span><a name="line-42"></a><span>          </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span>
</span><a name="line-43"></a><span>          </span><a name="local-6989586621679169598"><a href="#local-6989586621679169598"><span class="hs-identifier">z</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;nleft on &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169598"><span class="hs-identifier hs-var">z</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><span class="hs-string">&quot; before &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169595"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span>
</span><a name="line-44"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NRight"><span class="hs-identifier hs-var">NRight</span></a><span> </span><a name="local-6989586621679169599"><a href="#local-6989586621679169599"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169599"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679169600"><a href="#local-6989586621679169600"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169600"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-45"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679169601"><a href="#local-6989586621679169601"><span class="hs-identifier">r</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169601"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-46"></a><span>          </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span>
</span><a name="line-47"></a><span>          </span><a name="local-6989586621679169602"><a href="#local-6989586621679169602"><span class="hs-identifier">z</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;nright on &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169602"><span class="hs-identifier hs-var">z</span></a><span class="hs-special">)</span><span>
</span><a name="line-48"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NDefer"><span class="hs-identifier hs-var">NDefer</span></a><span> </span><a name="local-6989586621679169603"><a href="#local-6989586621679169603"><span class="hs-identifier">ind</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a><span> </span><a href="#local-6989586621679169603"><span class="hs-identifier hs-var">ind</span></a><span> </span><a href="#local-6989586621679169586"><span class="hs-identifier hs-var">m</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-49"></a><span>          </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679169604"><a href="#local-6989586621679169604"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169604"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-50"></a><span>          </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Error.Class.html#throwError"><span class="hs-identifier hs-var">throwError</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.html#GenericRunTimeError"><span class="hs-identifier hs-var">GenericRunTimeError</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;nEval bad index for function: &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169603"><span class="hs-identifier hs-var">ind</span></a><span class="hs-special">)</span><span> </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span>
</span><a name="line-51"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NTrace"><span class="hs-identifier hs-var">NTrace</span></a><span> </span><a name="local-6989586621679169605"><a href="#local-6989586621679169605"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679169606"><a href="#local-6989586621679169606"><span class="hs-identifier">t</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Debug.Trace.html#trace"><span class="hs-identifier hs-var">trace</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169606"><span class="hs-identifier hs-var">t</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679169606"><span class="hs-identifier hs-var">t</span></a><span class="hs-special">)</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169605"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-52"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NAbort"><span class="hs-identifier hs-var">NAbort</span></a><span> </span><a name="local-6989586621679169607"><a href="#local-6989586621679169607"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169607"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679169608"><a href="#local-6989586621679169608"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169608"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-53"></a><span>          </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169588"><span class="hs-identifier hs-var">env</span></a><span>
</span><a name="line-54"></a><span>          </span><a name="local-6989586621679169609"><a href="#local-6989586621679169609"><span class="hs-identifier">z</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="SIL.html#toSIL"><span class="hs-identifier hs-var">toSIL</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NExprs"><span class="hs-identifier hs-var">NExprs</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">Map.insert</span></a><span> </span><a href="SIL.RunTime.html#resultIndex"><span class="hs-identifier hs-var">resultIndex</span></a><span> </span><a href="#local-6989586621679169609"><span class="hs-identifier hs-var">z</span></a><span> </span><a href="#local-6989586621679169586"><span class="hs-identifier hs-var">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-55"></a><span>            </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679169610"><a href="#local-6989586621679169610"><span class="hs-identifier">z'</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Error.Class.html#throwError"><span class="hs-identifier hs-var">throwError</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="SIL.html#AbortRunTime"><span class="hs-identifier hs-var">AbortRunTime</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="#local-6989586621679169610"><span class="hs-identifier hs-var">z'</span></a><span>
</span><a name="line-56"></a><span>            </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Error.Class.html#throwError"><span class="hs-identifier hs-var">throwError</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.html#GenericRunTimeError"><span class="hs-identifier hs-var">GenericRunTimeError</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;Could not convert abort value of: &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169609"><span class="hs-identifier hs-var">z</span></a><span class="hs-special">)</span><span> </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span>
</span><a name="line-57"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NSetEnv"><span class="hs-identifier hs-var">NSetEnv</span></a><span> </span><a name="local-6989586621679169611"><a href="#local-6989586621679169611"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169611"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679169612"><a href="#local-6989586621679169612"><span class="hs-identifier">y</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169612"><span class="hs-identifier hs-var">y</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-58"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><a name="local-6989586621679169613"><a href="#local-6989586621679169613"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679169614"><a href="#local-6989586621679169614"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169587"><span class="hs-identifier hs-var">eval</span></a><span> </span><a href="#local-6989586621679169614"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="#local-6989586621679169613"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-59"></a><span>          </span><a name="local-6989586621679169615"><a href="#local-6989586621679169615"><span class="hs-identifier">z</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;nEval nsetenv - not pair - &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169615"><span class="hs-identifier hs-var">z</span></a><span class="hs-special">)</span><span>
</span><a name="line-60"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NITE"><span class="hs-identifier hs-var">NITE</span></a><span> </span><a name="local-6989586621679169616"><a href="#local-6989586621679169616"><span class="hs-identifier">i</span></a></a><span> </span><a name="local-6989586621679169617"><a href="#local-6989586621679169617"><span class="hs-identifier">t</span></a></a><span> </span><a name="local-6989586621679169618"><a href="#local-6989586621679169618"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169619"><span class="hs-identifier hs-var">process</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169616"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169617"><span class="hs-identifier hs-var">t</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169618"><span class="hs-identifier hs-var">e</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-61"></a><span>          </span><a name="local-6989586621679169619"><a href="#local-6989586621679169619"><span class="hs-identifier">process</span></a></a><span> </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679169620"><a href="#local-6989586621679169620"><span class="hs-identifier">ne</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679169620"><span class="hs-identifier hs-var">ne</span></a><span>
</span><a name="line-62"></a><span>          </span><span class="hs-identifier">process</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679169621"><a href="#local-6989586621679169621"><span class="hs-identifier">nt</span></a></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679169621"><span class="hs-identifier hs-var">nt</span></a><span>
</span><a name="line-63"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NApp"><span class="hs-identifier hs-var">NApp</span></a><span> </span><a name="local-6989586621679169622"><a href="#local-6989586621679169622"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679169623"><a href="#local-6989586621679169623"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-64"></a><span>          </span><a name="local-6989586621679169624"><a href="#local-6989586621679169624"><span class="hs-identifier">nc</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169622"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-65"></a><span>          </span><a name="local-6989586621679169625"><a href="#local-6989586621679169625"><span class="hs-identifier">ni</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169623"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-66"></a><span>          </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679169626"><a href="#local-6989586621679169626"><span class="hs-identifier">appl</span></a></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><a name="local-6989586621679169627"><a href="#local-6989586621679169627"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679169628"><a href="#local-6989586621679169628"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679169629"><a href="#local-6989586621679169629"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679169587"><span class="hs-identifier hs-var">eval</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><a href="#local-6989586621679169629"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="#local-6989586621679169628"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679169627"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-67"></a><span>              </span><span class="hs-identifier">appl</span><span> </span><a name="local-6989586621679169630"><a href="#local-6989586621679169630"><span class="hs-identifier">y</span></a></a><span> </span><a name="local-6989586621679169631"><a href="#local-6989586621679169631"><span class="hs-identifier">z</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;nEval napp appl no pair &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169630"><span class="hs-identifier hs-var">y</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><span class="hs-string">&quot; --- &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169631"><span class="hs-identifier hs-var">z</span></a><span class="hs-special">)</span><span>
</span><a name="line-68"></a><span>          </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169624"><span class="hs-identifier hs-var">nc</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-69"></a><span>            </span><a name="local-6989586621679169632"><a href="#local-6989586621679169632"><span class="hs-identifier">p</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169626"><span class="hs-identifier hs-var">appl</span></a><span> </span><a href="#local-6989586621679169632"><span class="hs-identifier hs-var">p</span></a><span> </span><a href="#local-6989586621679169625"><span class="hs-identifier hs-var">ni</span></a><span>
</span><a name="line-70"></a><span>            </span><span class="hs-special">(</span><a href="Naturals.html#NLamNum"><span class="hs-identifier hs-var">NLamNum</span></a><span> </span><a name="local-6989586621679169633"><a href="#local-6989586621679169633"><span class="hs-identifier">n</span></a></a><span> </span><a name="local-6989586621679169634"><a href="#local-6989586621679169634"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169625"><span class="hs-identifier hs-var">ni</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-71"></a><span>              </span><span class="hs-special">(</span><a href="Naturals.html#NLamNum"><span class="hs-identifier hs-var">NLamNum</span></a><span> </span><a name="local-6989586621679169635"><a href="#local-6989586621679169635"><span class="hs-identifier">m</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NNum"><span class="hs-identifier hs-var">NNum</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679169633"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Real.html#%5E"><span class="hs-operator hs-var">^</span></a><span> </span><a href="#local-6989586621679169635"><span class="hs-identifier hs-var">m</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679169634"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-72"></a><span>              </span><span class="hs-special">(</span><a href="Naturals.html#NPartialNum"><span class="hs-identifier hs-var">NPartialNum</span></a><span> </span><a name="local-6989586621679169636"><a href="#local-6989586621679169636"><span class="hs-identifier">m</span></a></a><span> </span><a name="local-6989586621679169637"><a href="#local-6989586621679169637"><span class="hs-identifier">f</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NNum"><span class="hs-identifier hs-var">NNum</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679169633"><span class="hs-identifier hs-var">n</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Num.html#%2A"><span class="hs-operator hs-var">*</span></a><span> </span><a href="#local-6989586621679169636"><span class="hs-identifier hs-var">m</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679169637"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-73"></a><span>            </span><a href="Naturals.html#NToNum"><span class="hs-identifier hs-var">NToNum</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Naturals.html#NApp"><span class="hs-identifier hs-var">NApp</span></a><span> </span><a href="Naturals.html#NToNum"><span class="hs-identifier hs-var">NToNum</span></a><span> </span><a href="#local-6989586621679169625"><span class="hs-identifier hs-var">ni</span></a><span>
</span><a name="line-74"></a><span>            </span><span class="hs-special">(</span><a href="Naturals.html#NApp"><span class="hs-identifier hs-var">NApp</span></a><span> </span><a href="Naturals.html#NToNum"><span class="hs-identifier hs-var">NToNum</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NNum"><span class="hs-identifier hs-var">NNum</span></a><span> </span><a name="local-6989586621679169638"><a href="#local-6989586621679169638"><span class="hs-identifier">nn</span></a></a><span class="hs-special">)</span><span> </span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679169639"><a href="#local-6989586621679169639"><span class="hs-identifier">nenv</span></a></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><a name="line-75"></a><span>              </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679169640"><a href="#local-6989586621679169640"><span class="hs-identifier">fStep</span></a></a><span> </span><span class="hs-number">0</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-76"></a><span>                  </span><span class="hs-identifier">fStep</span><span> </span><span class="hs-identifier">_</span><span> </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">0</span><span>
</span><a name="line-77"></a><span>                  </span><span class="hs-identifier">fStep</span><span> </span><a name="local-6989586621679169641"><a href="#local-6989586621679169641"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><a name="local-6989586621679169642"><a href="#local-6989586621679169642"><span class="hs-identifier">pr</span></a></a><span> </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-number">1</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a><span> </span><a href="#local-6989586621679169640"><span class="hs-identifier hs-var">fStep</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679169641"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-glyph">-</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679169642"><span class="hs-identifier hs-var">pr</span></a><span>
</span><a name="line-78"></a><span>                  </span><span class="hs-identifier">fStep</span><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679169643"><a href="#local-6989586621679169643"><span class="hs-identifier">z</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;napp ntonum fstep bad pair: &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169643"><span class="hs-identifier hs-var">z</span></a><span class="hs-special">)</span><span>
</span><a name="line-79"></a><span>              </span><span class="hs-keyword">in</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NNum"><span class="hs-identifier hs-var">NNum</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="#local-6989586621679169640"><span class="hs-identifier hs-var">fStep</span></a><span> </span><a href="#local-6989586621679169638"><span class="hs-identifier hs-var">nn</span></a><span> </span><a href="#local-6989586621679169625"><span class="hs-identifier hs-var">ni</span></a><span class="hs-special">)</span><span> </span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679169639"><span class="hs-identifier hs-var">nenv</span></a><span>
</span><a name="line-80"></a><span>            </span><a name="local-6989586621679169644"><a href="#local-6989586621679169644"><span class="hs-identifier">z</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;nEval napp error - non pair c - &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169644"><span class="hs-identifier hs-var">z</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><span class="hs-string">&quot; &lt;&lt;from&gt;&gt; &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169622"><span class="hs-identifier hs-var">c</span></a><span class="hs-special">)</span><span>
</span><a name="line-81"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NOldDefer"><span class="hs-identifier hs-var">NOldDefer</span></a><span> </span><a name="local-6989586621679169645"><a href="#local-6989586621679169645"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169645"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-82"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NNum"><span class="hs-identifier hs-var">NNum</span></a><span> </span><a name="local-6989586621679169646"><a href="#local-6989586621679169646"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679169647"><a href="#local-6989586621679169647"><span class="hs-identifier">buildF</span></a></a><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="Naturals.html#NLeft"><span class="hs-identifier hs-var">NLeft</span></a><span> </span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a><span>
</span><a name="line-83"></a><span>                        </span><span class="hs-identifier">buildF</span><span> </span><a name="local-6989586621679169648"><a href="#local-6989586621679169648"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Naturals.html#NApp"><span class="hs-identifier hs-var">NApp</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NLeft"><span class="hs-identifier hs-var">NLeft</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NRight"><span class="hs-identifier hs-var">NRight</span></a><span> </span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679169647"><span class="hs-identifier hs-var">buildF</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679169648"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-glyph">-</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-84"></a><span>                    </span><span class="hs-keyword">in</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="#local-6989586621679169647"><span class="hs-identifier hs-var">buildF</span></a><span> </span><a href="#local-6989586621679169646"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-85"></a><span>        </span><span class="hs-special">(</span><a href="Naturals.html#NTwiddle"><span class="hs-identifier hs-var">NTwiddle</span></a><span> </span><a name="local-6989586621679169649"><a href="#local-6989586621679169649"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169590"><span class="hs-identifier hs-var">recur</span></a><span> </span><a href="#local-6989586621679169649"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679169650"><a href="#local-6989586621679169650"><span class="hs-identifier">nx</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169650"><span class="hs-identifier hs-var">nx</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-86"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><a name="local-6989586621679169651"><a href="#local-6989586621679169651"><span class="hs-identifier">c</span></a></a><span> </span><a name="local-6989586621679169652"><a href="#local-6989586621679169652"><span class="hs-identifier">e</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679169653"><a href="#local-6989586621679169653"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><a href="#local-6989586621679169651"><span class="hs-identifier hs-var">c</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><a href="#local-6989586621679169653"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="#local-6989586621679169652"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-87"></a><span>          </span><a name="local-6989586621679169654"><a href="#local-6989586621679169654"><span class="hs-identifier">z</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;neval ntwiddle not pairpair: &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169654"><span class="hs-identifier hs-var">z</span></a><span class="hs-special">)</span><span>
</span><a name="line-88"></a><span>        </span><a name="local-6989586621679169655"><a href="#local-6989586621679169655"><span class="hs-identifier">z</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169655"><span class="hs-identifier hs-var">z</span></a><span>
</span><a name="line-89"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#FragIndex"><span class="hs-identifier hs-var">FragIndex</span></a><span> </span><span class="hs-number">0</span><span class="hs-special">)</span><span> </span><a href="#local-6989586621679169586"><span class="hs-identifier hs-var">m</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-90"></a><span>    </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679169656"><a href="#local-6989586621679169656"><span class="hs-identifier">f</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169587"><span class="hs-identifier hs-var">eval</span></a><span> </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span> </span><a href="#local-6989586621679169656"><span class="hs-identifier hs-var">f</span></a><span>
</span><a name="line-91"></a><span>    </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Error.Class.html#throwError"><span class="hs-identifier hs-var">throwError</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.html#GenericRunTimeError"><span class="hs-identifier hs-var">GenericRunTimeError</span></a><span> </span><span class="hs-string">&quot;nEval: no root frag&quot;</span><span> </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span>
</span><a name="line-92"></a><span>
</span><a name="line-93"></a><span class="hs-identifier">iEval</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Error.Class.html#MonadError"><span class="hs-identifier hs-type">MonadError</span></a><span> </span><a href="SIL.html#RunTimeError"><span class="hs-identifier hs-type">RunTimeError</span></a><span> </span><a href="#local-6989586621679169454"><span class="hs-identifier hs-type">m</span></a><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169454"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169454"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span>
</span><a name="line-94"></a><a name="iEval"><a href="SIL.RunTime.html#iEval"><span class="hs-identifier">iEval</span></a></a><span> </span><a name="local-6989586621679169657"><a href="#local-6989586621679169657"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679169658"><a href="#local-6989586621679169658"><span class="hs-identifier">env</span></a></a><span> </span><a name="local-6989586621679169659"><a href="#local-6989586621679169659"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679169660"><a href="#local-6989586621679169660"><span class="hs-identifier">f'</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679169657"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679169658"><span class="hs-identifier hs-var">env</span></a><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169659"><span class="hs-identifier hs-var">g</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-95"></a><span>  </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span>
</span><a name="line-96"></a><span>  </span><a href="SIL.html#Pair"><span class="hs-identifier hs-var">Pair</span></a><span> </span><a name="local-6989586621679169661"><a href="#local-6989586621679169661"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679169662"><a href="#local-6989586621679169662"><span class="hs-identifier">b</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#Pair"><span class="hs-identifier hs-var">Pair</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169660"><span class="hs-identifier hs-var">f'</span></a><span> </span><a href="#local-6989586621679169661"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a><span> </span><a href="#local-6989586621679169660"><span class="hs-identifier hs-var">f'</span></a><span> </span><a href="#local-6989586621679169662"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-97"></a><span>  </span><a href="SIL.html#Env"><span class="hs-identifier hs-var">Env</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169658"><span class="hs-identifier hs-var">env</span></a><span>
</span><a name="line-98"></a><span>  </span><a href="SIL.html#Abort"><span class="hs-identifier hs-var">Abort</span></a><span> </span><a name="local-6989586621679169663"><a href="#local-6989586621679169663"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169660"><span class="hs-identifier hs-var">f'</span></a><span> </span><a href="#local-6989586621679169663"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679169664"><a href="#local-6989586621679169664"><span class="hs-identifier">nx</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679169664"><span class="hs-identifier hs-var">nx</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a><span> </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169658"><span class="hs-identifier hs-var">env</span></a><span> </span><span class="hs-keyword">else</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Error.Class.html#throwError"><span class="hs-identifier hs-var">throwError</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.html#AbortRunTime"><span class="hs-identifier hs-var">AbortRunTime</span></a><span> </span><a href="#local-6989586621679169664"><span class="hs-identifier hs-var">nx</span></a><span>
</span><a name="line-99"></a><span>  </span><a href="SIL.html#SetEnv"><span class="hs-identifier hs-var">SetEnv</span></a><span> </span><a name="local-6989586621679169665"><a href="#local-6989586621679169665"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679169660"><span class="hs-identifier hs-var">f'</span></a><span> </span><a href="#local-6989586621679169665"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span class="hs-special">)</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><a name="line-100"></a><span>    </span><a href="SIL.html#Pair"><span class="hs-identifier hs-var">Pair</span></a><span> </span><span class="hs-special">(</span><a href="SIL.html#Defer"><span class="hs-identifier hs-var">Defer</span></a><span> </span><a name="local-6989586621679169666"><a href="#local-6989586621679169666"><span class="hs-identifier">c</span></a></a><span class="hs-special">)</span><span> </span><a name="local-6989586621679169667"><a href="#local-6989586621679169667"><span class="hs-identifier">nenv</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169657"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679169667"><span class="hs-identifier hs-var">nenv</span></a><span> </span><a href="#local-6989586621679169666"><span class="hs-identifier hs-var">c</span></a><span>
</span><a name="line-101"></a><span>    </span><a name="local-6989586621679169668"><a href="#local-6989586621679169668"><span class="hs-identifier">bx</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Error.Class.html#throwError"><span class="hs-identifier hs-var">throwError</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.html#SetEnvError"><span class="hs-identifier hs-var">SetEnvError</span></a><span> </span><a href="#local-6989586621679169668"><span class="hs-identifier hs-var">bx</span></a><span> </span><span class="hs-comment">-- This should never actually occur, because it should be caught by typecheck</span><span>
</span><a name="line-102"></a><span>  </span><a href="SIL.html#Defer"><span class="hs-identifier hs-var">Defer</span></a><span> </span><a name="local-6989586621679169669"><a href="#local-6989586621679169669"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.html#Defer"><span class="hs-identifier hs-var">Defer</span></a><span> </span><a href="#local-6989586621679169669"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-103"></a><span>  </span><a href="SIL.html#Gate"><span class="hs-identifier hs-var">Gate</span></a><span> </span><a name="local-6989586621679169670"><a href="#local-6989586621679169670"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169660"><span class="hs-identifier hs-var">f'</span></a><span> </span><a href="#local-6989586621679169670"><span class="hs-identifier hs-var">x</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><a name="line-104"></a><span>    </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.html#Defer"><span class="hs-identifier hs-var">Defer</span></a><span> </span><span class="hs-special">(</span><a href="SIL.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a><span> </span><a href="SIL.html#Env"><span class="hs-identifier hs-var">Env</span></a><span class="hs-special">)</span><span>
</span><a name="line-105"></a><span>    </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.html#Defer"><span class="hs-identifier hs-var">Defer</span></a><span> </span><span class="hs-special">(</span><a href="SIL.html#PRight"><span class="hs-identifier hs-var">PRight</span></a><span> </span><a href="SIL.html#Env"><span class="hs-identifier hs-var">Env</span></a><span class="hs-special">)</span><span>
</span><a name="line-106"></a><span>  </span><a href="SIL.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a><span> </span><a name="local-6989586621679169671"><a href="#local-6989586621679169671"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169660"><span class="hs-identifier hs-var">f'</span></a><span> </span><a href="#local-6989586621679169671"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><a name="line-107"></a><span>    </span><span class="hs-special">(</span><a href="SIL.html#Pair"><span class="hs-identifier hs-var">Pair</span></a><span> </span><a name="local-6989586621679169672"><a href="#local-6989586621679169672"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169672"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-108"></a><span>    </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span>
</span><a name="line-109"></a><span>  </span><a href="SIL.html#PRight"><span class="hs-identifier hs-var">PRight</span></a><span> </span><a name="local-6989586621679169673"><a href="#local-6989586621679169673"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169660"><span class="hs-identifier hs-var">f'</span></a><span> </span><a href="#local-6989586621679169673"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><a name="line-110"></a><span>    </span><span class="hs-special">(</span><a href="SIL.html#Pair"><span class="hs-identifier hs-var">Pair</span></a><span> </span><span class="hs-identifier">_</span><span> </span><a name="local-6989586621679169674"><a href="#local-6989586621679169674"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169674"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-111"></a><span>    </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span>
</span><a name="line-112"></a><span>  </span><a href="SIL.html#Trace"><span class="hs-identifier hs-var">Trace</span></a><span> </span><a name="local-6989586621679169675"><a href="#local-6989586621679169675"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169660"><span class="hs-identifier hs-var">f'</span></a><span> </span><a href="#local-6989586621679169675"><span class="hs-identifier hs-var">g</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679169676"><a href="#local-6989586621679169676"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Debug.Trace.html#trace"><span class="hs-identifier hs-var">trace</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169676"><span class="hs-identifier hs-var">g</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679169676"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-113"></a><span>
</span><a name="line-114"></a><span class="hs-identifier">toChurch</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span>
</span><a name="line-115"></a><a name="toChurch"><a href="SIL.RunTime.html#toChurch"><span class="hs-identifier">toChurch</span></a></a><span> </span><a name="local-6989586621679169677"><a href="#local-6989586621679169677"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-116"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679169678"><a href="#local-6989586621679169678"><span class="hs-identifier">inner</span></a></a><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><a href="SIL.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a><span> </span><a href="SIL.html#Env"><span class="hs-identifier hs-var">Env</span></a><span>
</span><a name="line-117"></a><span>      </span><span class="hs-identifier">inner</span><span> </span><a name="local-6989586621679169679"><a href="#local-6989586621679169679"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SIL.html#app"><span class="hs-identifier hs-var">app</span></a><span> </span><span class="hs-special">(</span><a href="SIL.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.html#PRight"><span class="hs-identifier hs-var">PRight</span></a><span> </span><a href="SIL.html#Env"><span class="hs-identifier hs-var">Env</span></a><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><a href="#local-6989586621679169678"><span class="hs-identifier hs-var">inner</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679169679"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-glyph">-</span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-118"></a><span>  </span><span class="hs-keyword">in</span><span> </span><a href="SIL.html#lam"><span class="hs-identifier hs-var">lam</span></a><span> </span><span class="hs-special">(</span><a href="SIL.html#lam"><span class="hs-identifier hs-var">lam</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679169678"><span class="hs-identifier hs-var">inner</span></a><span> </span><a href="#local-6989586621679169677"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-119"></a><span>
</span><a name="line-120"></a><span class="hs-keyword">instance</span><span> </span><a href="SIL.html#AbstractRunTime"><span class="hs-identifier hs-type">AbstractRunTime</span></a><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-121"></a><span>  </span><a name="local-8214565720323833156"><a href="SIL.html#eval"><span class="hs-identifier">eval</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Function.html#fix"><span class="hs-identifier hs-var">fix</span></a><span> </span><a href="SIL.RunTime.html#iEval"><span class="hs-identifier hs-var">iEval</span></a><span> </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span>
</span><a name="line-122"></a><span>  </span><a name="local-8214565720323833157"><a href="SIL.html#fromSIL"><span class="hs-identifier">fromSIL</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a><span>
</span><a name="line-123"></a><span>  </span><a name="local-8214565720323833158"><a href="SIL.html#toSIL"><span class="hs-identifier">toSIL</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span>
</span><a name="line-124"></a><span>
</span><a name="line-125"></a><a name="resultIndex"><a href="SIL.RunTime.html#resultIndex"><span class="hs-identifier">resultIndex</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="Naturals.html#FragIndex"><span class="hs-identifier hs-var">FragIndex</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-number">1</span><span class="hs-special">)</span><span>
</span><a name="line-126"></a><span class="hs-keyword">instance</span><span> </span><a href="SIL.html#AbstractRunTime"><span class="hs-identifier hs-type">AbstractRunTime</span></a><span> </span><a href="Naturals.html#NExprs"><span class="hs-identifier hs-type">NExprs</span></a><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-127"></a><span>  </span><a name="local-8214565720323833156"><a href="SIL.html#eval"><span class="hs-identifier">eval</span></a></a><span> </span><a name="local-6989586621679169400"><a href="#local-6989586621679169400"><span class="hs-identifier">x</span></a></a><span class="hs-glyph">@</span><span class="hs-special">(</span><a href="Naturals.html#NExprs"><span class="hs-identifier hs-var">NExprs</span></a><span> </span><a name="local-6989586621679169401"><a href="#local-6989586621679169401"><span class="hs-identifier">m</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679169402"><a href="#local-6989586621679169402"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Naturals.html#NExprs"><span class="hs-identifier hs-var">NExprs</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">Map.insert</span></a><span> </span><a href="SIL.RunTime.html#resultIndex"><span class="hs-identifier hs-var">resultIndex</span></a><span> </span><a href="#local-6989586621679169402"><span class="hs-identifier hs-var">r</span></a><span> </span><a href="#local-6989586621679169401"><span class="hs-identifier hs-var">m</span></a><span class="hs-special">)</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="SIL.RunTime.html#nEval"><span class="hs-identifier hs-var">nEval</span></a><span> </span><a href="#local-6989586621679169400"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-128"></a><span>  </span><a name="local-8214565720323833157"><a href="SIL.html#fromSIL"><span class="hs-identifier">fromSIL</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a href="Naturals.html#NExprs"><span class="hs-identifier hs-var">NExprs</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="Naturals.html#fragsToNExpr"><span class="hs-identifier hs-var">fragsToNExpr</span></a><span class="hs-special">)</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="Naturals.html#fragmentExpr"><span class="hs-identifier hs-var">fragmentExpr</span></a><span>
</span><a name="line-129"></a><span>  </span><a name="local-8214565720323833158"><a href="SIL.html#toSIL"><span class="hs-identifier">toSIL</span></a></a><span> </span><span class="hs-special">(</span><a href="Naturals.html#NExprs"><span class="hs-identifier hs-var">NExprs</span></a><span> </span><a name="local-6989586621679169403"><a href="#local-6989586621679169403"><span class="hs-identifier">m</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-130"></a><span>    </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679169404"><a href="#local-6989586621679169404"><span class="hs-identifier">fromNExpr</span></a></a><span> </span><a name="local-6989586621679169405"><a href="#local-6989586621679169405"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169405"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-131"></a><span>          </span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span>
</span><a name="line-132"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a><span> </span><a name="local-6989586621679169406"><a href="#local-6989586621679169406"><span class="hs-identifier">a</span></a></a><span> </span><a name="local-6989586621679169407"><a href="#local-6989586621679169407"><span class="hs-identifier">b</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#Pair"><span class="hs-identifier hs-var">Pair</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169404"><span class="hs-identifier hs-var">fromNExpr</span></a><span> </span><a href="#local-6989586621679169406"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a><span> </span><a href="#local-6989586621679169404"><span class="hs-identifier hs-var">fromNExpr</span></a><span> </span><a href="#local-6989586621679169407"><span class="hs-identifier hs-var">b</span></a><span>
</span><a name="line-133"></a><span>          </span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="SIL.html#Env"><span class="hs-identifier hs-var">Env</span></a><span>
</span><a name="line-134"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NSetEnv"><span class="hs-identifier hs-var">NSetEnv</span></a><span> </span><a name="local-6989586621679169408"><a href="#local-6989586621679169408"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#SetEnv"><span class="hs-identifier hs-var">SetEnv</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169404"><span class="hs-identifier hs-var">fromNExpr</span></a><span> </span><a href="#local-6989586621679169408"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-135"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NAbort"><span class="hs-identifier hs-var">NAbort</span></a><span> </span><a name="local-6989586621679169409"><a href="#local-6989586621679169409"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#Abort"><span class="hs-identifier hs-var">Abort</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169404"><span class="hs-identifier hs-var">fromNExpr</span></a><span> </span><a href="#local-6989586621679169409"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-136"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NGate"><span class="hs-identifier hs-var">NGate</span></a><span> </span><a name="local-6989586621679169410"><a href="#local-6989586621679169410"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#Gate"><span class="hs-identifier hs-var">Gate</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169404"><span class="hs-identifier hs-var">fromNExpr</span></a><span> </span><a href="#local-6989586621679169410"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-137"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NLeft"><span class="hs-identifier hs-var">NLeft</span></a><span> </span><a name="local-6989586621679169411"><a href="#local-6989586621679169411"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169404"><span class="hs-identifier hs-var">fromNExpr</span></a><span> </span><a href="#local-6989586621679169411"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-138"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NRight"><span class="hs-identifier hs-var">NRight</span></a><span> </span><a name="local-6989586621679169412"><a href="#local-6989586621679169412"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#PRight"><span class="hs-identifier hs-var">PRight</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169404"><span class="hs-identifier hs-var">fromNExpr</span></a><span> </span><a href="#local-6989586621679169412"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-139"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NTrace"><span class="hs-identifier hs-var">NTrace</span></a><span> </span><a name="local-6989586621679169413"><a href="#local-6989586621679169413"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#Trace"><span class="hs-identifier hs-var">Trace</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169404"><span class="hs-identifier hs-var">fromNExpr</span></a><span> </span><a href="#local-6989586621679169413"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-140"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NDefer"><span class="hs-identifier hs-var">NDefer</span></a><span> </span><a name="local-6989586621679169414"><a href="#local-6989586621679169414"><span class="hs-identifier">i</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a><span> </span><a href="#local-6989586621679169414"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="#local-6989586621679169403"><span class="hs-identifier hs-var">m</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#fmap"><span class="hs-identifier hs-var">fmap</span></a><span> </span><a href="SIL.html#Defer"><span class="hs-identifier hs-var">Defer</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="#local-6989586621679169404"><span class="hs-identifier hs-var">fromNExpr</span></a><span class="hs-special">)</span><span>
</span><a name="line-141"></a><span>          </span><span class="hs-special">(</span><a href="Naturals.html#NOldDefer"><span class="hs-identifier hs-var">NOldDefer</span></a><span> </span><a name="local-6989586621679169415"><a href="#local-6989586621679169415"><span class="hs-identifier">x</span></a></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#Defer"><span class="hs-identifier hs-var">Defer</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169404"><span class="hs-identifier hs-var">fromNExpr</span></a><span> </span><a href="#local-6989586621679169415"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-142"></a><span>          </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-143"></a><span>    </span><span class="hs-keyword">in</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/containers-0.6.0.1/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a><span> </span><a href="SIL.RunTime.html#resultIndex"><span class="hs-identifier hs-var">resultIndex</span></a><span> </span><a href="#local-6989586621679169403"><span class="hs-identifier hs-var">m</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><a href="#local-6989586621679169404"><span class="hs-identifier hs-var">fromNExpr</span></a><span>
</span><a name="line-144"></a><span>
</span><a name="line-145"></a><span class="hs-identifier">evalAndConvert</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a><span> </span><a href="#local-6989586621679169453"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="SIL.html#AbstractRunTime"><span class="hs-identifier hs-type">AbstractRunTime</span></a><span> </span><a href="#local-6989586621679169453"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679169453"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#RunResult"><span class="hs-identifier hs-type">RunResult</span></a><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span>
</span><a name="line-146"></a><a name="evalAndConvert"><a href="SIL.RunTime.html#evalAndConvert"><span class="hs-identifier">evalAndConvert</span></a></a><span> </span><a name="local-6989586621679169680"><a href="#local-6989586621679169680"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679169681"><a href="#local-6989586621679169681"><span class="hs-identifier">ar</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SIL.html#eval"><span class="hs-identifier hs-var">eval</span></a><span> </span><a href="#local-6989586621679169680"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><a href="SIL.html#toSIL"><span class="hs-identifier hs-var">toSIL</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a><span> </span><a href="#local-6989586621679169681"><span class="hs-identifier hs-var">ar</span></a><span class="hs-special">)</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679169682"><a href="#local-6989586621679169682"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169682"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-147"></a><span>  </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-148"></a><span>    </span><a name="local-6989586621679169683"><a href="#local-6989586621679169683"><span class="hs-identifier">ar'</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="#local-6989586621679169681"><span class="hs-identifier hs-var">ar</span></a><span>
</span><a name="line-149"></a><span>    </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Error.Class.html#throwError"><span class="hs-identifier hs-var">throwError</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="SIL.html#ResultConversionError"><span class="hs-identifier hs-var">ResultConversionError</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169683"><span class="hs-identifier hs-var">ar'</span></a><span>
</span><a name="line-150"></a><span>  </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a><span> </span><a name="local-6989586621679169684"><a href="#local-6989586621679169684"><span class="hs-identifier">ir</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169684"><span class="hs-identifier hs-var">ir</span></a><span>
</span><a name="line-151"></a><span>
</span><a name="line-152"></a><span class="hs-identifier">simpleEval</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span>
</span><a name="line-153"></a><a name="simpleEval"><a href="SIL.RunTime.html#simpleEval"><span class="hs-identifier">simpleEval</span></a></a><span> </span><a name="local-6989586621679169685"><a href="#local-6989586621679169685"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a><span> </span><span class="hs-special">(</span><a href="SIL.html#eval"><span class="hs-identifier hs-var">eval</span></a><span> </span><a href="#local-6989586621679169685"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679169686"><a href="#local-6989586621679169686"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169686"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-154"></a><span>  </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a><span> </span><a name="local-6989586621679169687"><a href="#local-6989586621679169687"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#fail"><span class="hs-identifier hs-var">fail</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169687"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-155"></a><span>  </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a><span> </span><a name="local-6989586621679169688"><a href="#local-6989586621679169688"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169688"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-156"></a><span>
</span><a name="line-157"></a><span class="hs-identifier">fastInterpretEval</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span>
</span><a name="line-158"></a><a name="fastInterpretEval"><a href="SIL.RunTime.html#fastInterpretEval"><span class="hs-identifier">fastInterpretEval</span></a></a><span> </span><a name="local-6989586621679169689"><a href="#local-6989586621679169689"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-159"></a><span>  </span><span class="hs-keyword">let</span><span> </span><a name="local-6989586621679169690"><a href="#local-6989586621679169690"><span class="hs-identifier">traceShow</span></a></a><span> </span><a name="local-6989586621679169692"><a href="#local-6989586621679169692"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="SIL.RunTime.html#debug"><span class="hs-identifier hs-var">debug</span></a><span> </span><span class="hs-keyword">then</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Debug.Trace.html#trace"><span class="hs-identifier hs-var">trace</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;toNExpr\n&quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="PrettyPrint.html#showNExprs"><span class="hs-identifier hs-var">showNExprs</span></a><span> </span><a href="#local-6989586621679169692"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span> </span><a href="#local-6989586621679169692"><span class="hs-identifier hs-var">x</span></a><span> </span><span class="hs-keyword">else</span><span> </span><a href="#local-6989586621679169692"><span class="hs-identifier hs-var">x</span></a><span>
</span><a name="line-160"></a><span>      </span><span class="hs-identifier">nExpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Naturals.html#NExprs"><span class="hs-identifier hs-type">NExprs</span></a><span>
</span><a name="line-161"></a><span>      </span><a name="local-6989586621679169691"><a href="#local-6989586621679169691"><span class="hs-identifier">nExpr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SIL.html#fromSIL"><span class="hs-identifier hs-var">fromSIL</span></a><span> </span><a href="#local-6989586621679169689"><span class="hs-identifier hs-var">e</span></a><span>
</span><a name="line-162"></a><span>  </span><a name="local-6989586621679169693"><a href="#local-6989586621679169693"><span class="hs-identifier">result</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.RunTime.html#evalAndConvert"><span class="hs-identifier hs-var">evalAndConvert</span></a><span> </span><a href="#local-6989586621679169691"><span class="hs-identifier hs-var">nExpr</span></a><span>
</span><a name="line-163"></a><span>  </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169693"><span class="hs-identifier hs-var">result</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-164"></a><span>    </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a><span> </span><a name="local-6989586621679169694"><a href="#local-6989586621679169694"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;runtime error: &quot;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%2B%2B"><span class="hs-operator hs-var">++</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169694"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-165"></a><span>    </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a><span> </span><a name="local-6989586621679169695"><a href="#local-6989586621679169695"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169695"><span class="hs-identifier hs-var">r</span></a><span>
</span><a name="line-166"></a><span>
</span><a name="line-167"></a><span class="hs-comment">{- commenting out until fixed

llvmEval :: NExpr -&gt; IO LLVM.RunResult
llvmEval nexpr = do
  let lmod = LLVM.makeModule nexpr
  when debug $ do
    print $ LLVM.DebugModule lmod
    putStrLn . concat . replicate 100 $ &quot;                                                                     \n&quot;
  result &lt;- catch (LLVM.evalJIT LLVM.defaultJITConfig lmod) $ \(e :: SomeException) -&gt; pure . Left $ show e
  case result of
    Left s -&gt; do
      hPrint stderr nexpr
      hPutStrLn stderr $ &quot;failed llvmEval: &quot; ++ s
      fail s
    Right x -&gt; pure x
-}</span><span>
</span><a name="line-183"></a><span>
</span><a name="line-184"></a><span class="hs-identifier">optimizedEval</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span>
</span><a name="line-185"></a><a name="optimizedEval"><a href="SIL.RunTime.html#optimizedEval"><span class="hs-identifier">optimizedEval</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SIL.RunTime.html#fastInterpretEval"><span class="hs-identifier hs-var">fastInterpretEval</span></a><span>
</span><a name="line-186"></a><span>
</span><a name="line-187"></a><span class="hs-identifier">pureEval</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a><span> </span><a href="SIL.html#RunTimeError"><span class="hs-identifier hs-type">RunTimeError</span></a><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span>
</span><a name="line-188"></a><a name="pureEval"><a href="SIL.RunTime.html#pureEval"><span class="hs-identifier">pureEval</span></a></a><span> </span><a name="local-6989586621679169696"><a href="#local-6989586621679169696"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">runIdentity</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Function.html#fix"><span class="hs-identifier hs-var">fix</span></a><span> </span><a href="SIL.RunTime.html#iEval"><span class="hs-identifier hs-var">iEval</span></a><span> </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span> </span><a href="#local-6989586621679169696"><span class="hs-identifier hs-var">g</span></a><span>
</span><a name="line-189"></a><span>
</span><a name="line-190"></a><span class="hs-identifier">showPass</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a><span> </span><a href="#local-6989586621679169429"><span class="hs-identifier hs-type">a</span></a><span class="hs-special">,</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Control.Monad.IO.Class.html#MonadIO"><span class="hs-identifier hs-type">MonadIO</span></a><span> </span><a href="#local-6989586621679169430"><span class="hs-identifier hs-type">m</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><a href="#local-6989586621679169430"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679169429"><span class="hs-identifier hs-type">a</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="#local-6989586621679169430"><span class="hs-identifier hs-type">m</span></a><span> </span><a href="#local-6989586621679169429"><span class="hs-identifier hs-type">a</span></a><span>
</span><a name="line-191"></a><a name="showPass"><a href="SIL.RunTime.html#showPass"><span class="hs-identifier">showPass</span></a></a><span> </span><a name="local-6989586621679169697"><a href="#local-6989586621679169697"><span class="hs-identifier">a</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="#local-6989586621679169697"><span class="hs-identifier hs-var">a</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Control.Monad.IO.Class.html#liftIO"><span class="hs-identifier hs-var">liftIO</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/System.IO.html#print"><span class="hs-identifier hs-var">print</span></a><span class="hs-special">)</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a><span> </span><a href="#local-6989586621679169697"><span class="hs-identifier hs-var">a</span></a><span>
</span><a name="line-192"></a><span>
</span><a name="line-193"></a><span class="hs-identifier">tEval</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span>
</span><a name="line-194"></a><a name="tEval"><a href="SIL.RunTime.html#tEval"><span class="hs-identifier">tEval</span></a></a><span> </span><a name="local-6989586621679169698"><a href="#local-6989586621679169698"><span class="hs-identifier">x</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Function.html#fix"><span class="hs-identifier hs-var">fix</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><a name="local-6989586621679169699"><a href="#local-6989586621679169699"><span class="hs-identifier">f</span></a></a><span> </span><a name="local-6989586621679169700"><a href="#local-6989586621679169700"><span class="hs-identifier">e</span></a></a><span> </span><a name="local-6989586621679169701"><a href="#local-6989586621679169701"><span class="hs-identifier">g</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.RunTime.html#showPass"><span class="hs-identifier hs-var">showPass</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.RunTime.html#iEval"><span class="hs-identifier hs-var">iEval</span></a><span> </span><a href="#local-6989586621679169699"><span class="hs-identifier hs-var">f</span></a><span> </span><a href="#local-6989586621679169700"><span class="hs-identifier hs-var">e</span></a><span> </span><a href="#local-6989586621679169701"><span class="hs-identifier hs-var">g</span></a><span class="hs-special">)</span><span> </span><a href="SIL.html#Zero"><span class="hs-identifier hs-var">Zero</span></a><span> </span><a href="#local-6989586621679169698"><span class="hs-identifier hs-var">x</span></a><span class="hs-special">)</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-glyph">\</span><a name="local-6989586621679169702"><a href="#local-6989586621679169702"><span class="hs-identifier">r</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><a href="#local-6989586621679169702"><span class="hs-identifier hs-var">r</span></a><span> </span><span class="hs-keyword">of</span><span>
</span><a name="line-195"></a><span>  </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Either.html#Left"><span class="hs-identifier hs-var">Left</span></a><span> </span><a name="local-6989586621679169703"><a href="#local-6989586621679169703"><span class="hs-identifier">e</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#fail"><span class="hs-identifier hs-var">fail</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a><span> </span><a href="#local-6989586621679169703"><span class="hs-identifier hs-var">e</span></a><span class="hs-special">)</span><span>
</span><a name="line-196"></a><span>  </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Either.html#Right"><span class="hs-identifier hs-var">Right</span></a><span> </span><a name="local-6989586621679169704"><a href="#local-6989586621679169704"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="#local-6989586621679169704"><span class="hs-identifier hs-var">i</span></a><span>
</span><a name="line-197"></a><span>
</span><a name="line-198"></a><span class="hs-identifier">typedEval</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#DataType"><span class="hs-identifier hs-type">DataType</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-199"></a><a name="typedEval"><a href="SIL.RunTime.html#typedEval"><span class="hs-identifier">typedEval</span></a></a><span> </span><a name="local-6989586621679169705"><a href="#local-6989586621679169705"><span class="hs-identifier">typeCheck</span></a></a><span> </span><a name="local-6989586621679169706"><a href="#local-6989586621679169706"><span class="hs-identifier">iexpr</span></a></a><span> </span><a name="local-6989586621679169707"><a href="#local-6989586621679169707"><span class="hs-identifier">prettyPrint</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679169705"><span class="hs-identifier hs-var">typeCheck</span></a><span> </span><a href="#local-6989586621679169706"><span class="hs-identifier hs-var">iexpr</span></a><span> </span><a href="SIL.html#ZeroType"><span class="hs-identifier hs-var">ZeroType</span></a><span>
</span><a name="line-200"></a><span>  </span><span class="hs-keyword">then</span><span> </span><a href="SIL.RunTime.html#simpleEval"><span class="hs-identifier hs-var">simpleEval</span></a><span> </span><a href="#local-6989586621679169706"><span class="hs-identifier hs-var">iexpr</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><a href="#local-6989586621679169707"><span class="hs-identifier hs-var">prettyPrint</span></a><span>
</span><a name="line-201"></a><span>  </span><span class="hs-keyword">else</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/System.IO.html#putStrLn"><span class="hs-identifier hs-var">putStrLn</span></a><span> </span><span class="hs-string">&quot;failed typecheck&quot;</span><span>
</span><a name="line-202"></a><span>
</span><a name="line-203"></a><span class="hs-identifier">debugEval</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#DataType"><span class="hs-identifier hs-type">DataType</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><a name="line-204"></a><a name="debugEval"><a href="SIL.RunTime.html#debugEval"><span class="hs-identifier">debugEval</span></a></a><span> </span><a name="local-6989586621679169708"><a href="#local-6989586621679169708"><span class="hs-identifier">typeCheck</span></a></a><span> </span><a name="local-6989586621679169709"><a href="#local-6989586621679169709"><span class="hs-identifier">iexpr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679169708"><span class="hs-identifier hs-var">typeCheck</span></a><span> </span><a href="#local-6989586621679169709"><span class="hs-identifier hs-var">iexpr</span></a><span> </span><a href="SIL.html#ZeroType"><span class="hs-identifier hs-var">ZeroType</span></a><span>
</span><a name="line-205"></a><span>  </span><span class="hs-keyword">then</span><span> </span><a href="SIL.RunTime.html#tEval"><span class="hs-identifier hs-var">tEval</span></a><span> </span><a href="#local-6989586621679169709"><span class="hs-identifier hs-var">iexpr</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/System.IO.html#print"><span class="hs-identifier hs-var">print</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="SIL.html#PrettyIExpr"><span class="hs-identifier hs-var">PrettyIExpr</span></a><span class="hs-special">)</span><span>
</span><a name="line-206"></a><span>  </span><span class="hs-keyword">else</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/System.IO.html#putStrLn"><span class="hs-identifier hs-var">putStrLn</span></a><span> </span><span class="hs-string">&quot;failed typecheck&quot;</span><span>
</span><a name="line-207"></a><span>
</span><a name="line-208"></a><a name="fullEval"><a href="SIL.RunTime.html#fullEval"><span class="hs-identifier">fullEval</span></a></a><span> </span><a name="local-6989586621679169710"><a href="#local-6989586621679169710"><span class="hs-identifier">typeCheck</span></a></a><span> </span><a name="local-6989586621679169711"><a href="#local-6989586621679169711"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SIL.RunTime.html#typedEval"><span class="hs-identifier hs-var">typedEval</span></a><span> </span><a href="#local-6989586621679169710"><span class="hs-identifier hs-var">typeCheck</span></a><span> </span><a href="#local-6989586621679169711"><span class="hs-identifier hs-var">i</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/System.IO.html#print"><span class="hs-identifier hs-var">print</span></a><span>
</span><a name="line-209"></a><span>
</span><a name="line-210"></a><a name="prettyEval"><a href="SIL.RunTime.html#prettyEval"><span class="hs-identifier">prettyEval</span></a></a><span> </span><a name="local-6989586621679169712"><a href="#local-6989586621679169712"><span class="hs-identifier">typeCheck</span></a></a><span> </span><a name="local-6989586621679169713"><a href="#local-6989586621679169713"><span class="hs-identifier">i</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SIL.RunTime.html#typedEval"><span class="hs-identifier hs-var">typedEval</span></a><span> </span><a href="#local-6989586621679169712"><span class="hs-identifier hs-var">typeCheck</span></a><span> </span><a href="#local-6989586621679169713"><span class="hs-identifier hs-var">i</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/System.IO.html#print"><span class="hs-identifier hs-var">print</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="SIL.html#PrettyIExpr"><span class="hs-identifier hs-var">PrettyIExpr</span></a><span class="hs-special">)</span><span>
</span><a name="line-211"></a><span>
</span><a name="line-212"></a><span class="hs-identifier">verifyEval</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Types.html#IO"><span class="hs-identifier hs-type">IO</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a><span> </span><span class="hs-special">(</span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a><span> </span><a href="SIL.html#RunTimeError"><span class="hs-identifier hs-type">RunTimeError</span></a><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span class="hs-special">,</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/Data.Either.html#Either"><span class="hs-identifier hs-type">Either</span></a><span> </span><a href="SIL.html#RunTimeError"><span class="hs-identifier hs-type">RunTimeError</span></a><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-213"></a><a name="verifyEval"><a href="SIL.RunTime.html#verifyEval"><span class="hs-identifier">verifyEval</span></a></a><span> </span><a name="local-6989586621679169714"><a href="#local-6989586621679169714"><span class="hs-identifier">expr</span></a></a><span> </span><span class="hs-glyph">=</span><span>
</span><a name="line-214"></a><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-identifier">nexpr</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="Naturals.html#NExprs"><span class="hs-identifier hs-type">NExprs</span></a><span>
</span><a name="line-215"></a><span>      </span><a name="local-6989586621679169715"><a href="#local-6989586621679169715"><span class="hs-identifier">nexpr</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="SIL.html#fromSIL"><span class="hs-identifier hs-var">fromSIL</span></a><span> </span><a href="#local-6989586621679169714"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-216"></a><span>  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">do</span><span>
</span><a name="line-217"></a><span>    </span><a name="local-6989586621679169716"><a href="#local-6989586621679169716"><span class="hs-identifier">iResult</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.RunTime.html#evalAndConvert"><span class="hs-identifier hs-var">evalAndConvert</span></a><span> </span><a href="#local-6989586621679169714"><span class="hs-identifier hs-var">expr</span></a><span>
</span><a name="line-218"></a><span>    </span><a name="local-6989586621679169717"><a href="#local-6989586621679169717"><span class="hs-identifier">nResult</span></a></a><span> </span><span class="hs-glyph">&lt;-</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="SIL.RunTime.html#evalAndConvert"><span class="hs-identifier hs-var">evalAndConvert</span></a><span> </span><a href="#local-6989586621679169715"><span class="hs-identifier hs-var">nexpr</span></a><span>
</span><a name="line-219"></a><span>    </span><span class="hs-keyword">if</span><span> </span><a href="#local-6989586621679169716"><span class="hs-identifier hs-var">iResult</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/ghc-prim-0.5.3/src/GHC.Classes.html#%3D%3D"><span class="hs-operator hs-var">==</span></a><span> </span><a href="#local-6989586621679169717"><span class="hs-identifier hs-var">nResult</span></a><span>
</span><a name="line-220"></a><span>     </span><span class="hs-keyword">then</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a><span>
</span><a name="line-221"></a><span>     </span><span class="hs-keyword">else</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a><span> </span><span class="hs-special">(</span><a href="#local-6989586621679169716"><span class="hs-identifier hs-var">iResult</span></a><span class="hs-special">,</span><span> </span><a href="#local-6989586621679169717"><span class="hs-identifier hs-var">nResult</span></a><span class="hs-special">)</span><span>
</span><a name="line-222"></a><span>
</span><a name="line-223"></a><a name="testNEval"><a href="SIL.RunTime.html#testNEval"><span class="hs-identifier">testNEval</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.Except.html#runExceptT"><span class="hs-identifier hs-var">runExceptT</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><a href="SIL.html#eval"><span class="hs-identifier hs-var">eval</span></a><span> </span><a href="file:///nix/store/yybnkby6f92rkc095fyb4lqz4wfxw6nj-ghc-8.6.5-doc/share/doc/ghc/html/libraries/base-4.12.0.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a><span> </span><span class="hs-special">(</span><a href="SIL.html#fromSIL"><span class="hs-identifier hs-var">fromSIL</span></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="SIL.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><a href="Naturals.html#NExprs"><span class="hs-identifier hs-type">NExprs</span></a><span class="hs-special">)</span><span>
</span><a name="line-224"></a></pre></body></html>