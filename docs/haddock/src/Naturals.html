<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DeriveAnyClass             #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric              #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE PatternSynonyms            #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE TupleSections              #-}</span><span>
</span><span id="line-6"></span><span>
</span><span id="line-7"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Naturals</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Control.Applicative.html"><span class="hs-identifier">Control.Applicative</span></a></span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/deepseq-1.4.6.1/src/Control.DeepSeq.html"><span class="hs-identifier">Control.DeepSeq</span></a></span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Control.Monad.Fix.html"><span class="hs-identifier">Control.Monad.Fix</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.Identity.html"><span class="hs-identifier">Control.Monad.Identity</span></a></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.State.Lazy.html"><span class="hs-identifier">Control.Monad.State.Lazy</span></a></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/binary-0.8.9.0/src/Data.Binary.html"><span class="hs-identifier">Data.Binary</span></a></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html"><span class="hs-identifier">Data.Functor</span></a></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Int.html"><span class="hs-identifier">Data.Int</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Int.html#Int64"><span class="hs-identifier">Int64</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier">Map</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Monoid.html"><span class="hs-identifier">Data.Monoid</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Set.Internal.html#Set"><span class="hs-identifier">Set</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Debug.Trace.html"><span class="hs-identifier">Debug.Trace</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Generics.html"><span class="hs-identifier">GHC.Generics</span></a></span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.State.Lazy.html"><span class="hs-identifier">Control.Monad.State.Lazy</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">State</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.html"><span class="hs-identifier">Data.Map</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Set.html"><span class="hs-identifier">Data.Set</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Telomare.html"><span class="hs-identifier">Telomare</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#FragExpr"><span class="hs-identifier">FragExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier">FragIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier">IExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Telomare.html#App"><span class="hs-identifier">App</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>                 </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Telomare.html#ChurchNum"><span class="hs-identifier">ChurchNum</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Telomare.html#ToChurch"><span class="hs-identifier">ToChurch</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="annot"><a href="Naturals.html#debug"><span class="hs-identifier hs-type">debug</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#Bool"><span class="hs-identifier hs-type">Bool</span></a></span><span>
</span><span id="line-31"></span><span id="debug"><span class="annot"><span class="annottext">debug :: Bool
</span><a href="Naturals.html#debug"><span class="hs-identifier hs-var hs-var">debug</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#True"><span class="hs-identifier hs-var">True</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span id="local-6989586621679382637"><span class="annot"><a href="Naturals.html#debugTrace"><span class="hs-identifier hs-type">debugTrace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679382637"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679382637"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-34"></span><span id="debugTrace"><span class="annot"><span class="annottext">debugTrace :: forall a. [Char] -&gt; a -&gt; a
</span><a href="Naturals.html#debugTrace"><span class="hs-identifier hs-var hs-var">debugTrace</span></a></span></span><span> </span><span id="local-6989586621679382179"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679382179"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679382178"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679382178"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="Naturals.html#debug"><span class="hs-identifier hs-var">debug</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Debug.Trace.html#trace"><span class="hs-identifier hs-var">trace</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679382179"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679382178"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679382178"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-keyword">data</span><span> </span><span id="NaturalType"><span class="annot"><a href="Naturals.html#NaturalType"><span class="hs-identifier hs-var">NaturalType</span></a></span></span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="ZeroTypeN"><span class="annot"><a href="Naturals.html#ZeroTypeN"><span class="hs-identifier hs-var">ZeroTypeN</span></a></span></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PairTypeN"><span class="annot"><a href="Naturals.html#PairTypeN"><span class="hs-identifier hs-var">PairTypeN</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NaturalType"><span class="hs-identifier hs-type">NaturalType</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NaturalType"><span class="hs-identifier hs-type">NaturalType</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ArrTypeN"><span class="annot"><a href="Naturals.html#ArrTypeN"><span class="hs-identifier hs-var">ArrTypeN</span></a></span></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ChurchType"><span class="annot"><a href="Naturals.html#ChurchType"><span class="hs-identifier hs-var">ChurchType</span></a></span></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="UnknownN"><span class="annot"><a href="Naturals.html#UnknownN"><span class="hs-identifier hs-var">UnknownN</span></a></span></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679382165"><span id="local-6989586621679382171"><span class="annot"><span class="annottext">NaturalType -&gt; NaturalType -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: NaturalType -&gt; NaturalType -&gt; Bool
$c/= :: NaturalType -&gt; NaturalType -&gt; Bool
== :: NaturalType -&gt; NaturalType -&gt; Bool
$c== :: NaturalType -&gt; NaturalType -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679382145"><span id="local-6989586621679382147"><span id="local-6989586621679382149"><span id="local-6989586621679382151"><span id="local-6989586621679382153"><span id="local-6989586621679382155"><span id="local-6989586621679382160"><span class="annot"><span class="annottext">Eq NaturalType
NaturalType -&gt; NaturalType -&gt; Bool
NaturalType -&gt; NaturalType -&gt; Ordering
NaturalType -&gt; NaturalType -&gt; NaturalType
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: NaturalType -&gt; NaturalType -&gt; NaturalType
$cmin :: NaturalType -&gt; NaturalType -&gt; NaturalType
max :: NaturalType -&gt; NaturalType -&gt; NaturalType
$cmax :: NaturalType -&gt; NaturalType -&gt; NaturalType
&gt;= :: NaturalType -&gt; NaturalType -&gt; Bool
$c&gt;= :: NaturalType -&gt; NaturalType -&gt; Bool
&gt; :: NaturalType -&gt; NaturalType -&gt; Bool
$c&gt; :: NaturalType -&gt; NaturalType -&gt; Bool
&lt;= :: NaturalType -&gt; NaturalType -&gt; Bool
$c&lt;= :: NaturalType -&gt; NaturalType -&gt; Bool
&lt; :: NaturalType -&gt; NaturalType -&gt; Bool
$c&lt; :: NaturalType -&gt; NaturalType -&gt; Bool
compare :: NaturalType -&gt; NaturalType -&gt; Ordering
$ccompare :: NaturalType -&gt; NaturalType -&gt; Ordering
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679382132"><span id="local-6989586621679382134"><span id="local-6989586621679382142"><span class="annot"><span class="annottext">Int -&gt; NaturalType -&gt; ShowS
[NaturalType] -&gt; ShowS
NaturalType -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [NaturalType] -&gt; ShowS
$cshowList :: [NaturalType] -&gt; ShowS
show :: NaturalType -&gt; [Char]
$cshow :: NaturalType -&gt; [Char]
showsPrec :: Int -&gt; NaturalType -&gt; ShowS
$cshowsPrec :: Int -&gt; NaturalType -&gt; ShowS
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-comment">--newtype FragIndex = FragIndex { unFragIndex :: Int } deriving (Eq, Show, Ord, Enum, NFData, Generic)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">newtype</span><span> </span><span id="TypeIndex"><span class="annot"><a href="Naturals.html#TypeIndex"><span class="hs-identifier hs-var">TypeIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TypeIndex"><span class="annot"><a href="Naturals.html#TypeIndex"><span class="hs-identifier hs-var">TypeIndex</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="unTypeIndex"><span class="annot"><span class="annottext">TypeIndex -&gt; Int
</span><a href="Naturals.html#unTypeIndex"><span class="hs-identifier hs-var hs-var">unTypeIndex</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Types.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679382122"><span id="local-6989586621679382127"><span class="annot"><span class="annottext">TypeIndex -&gt; TypeIndex -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TypeIndex -&gt; TypeIndex -&gt; Bool
$c/= :: TypeIndex -&gt; TypeIndex -&gt; Bool
== :: TypeIndex -&gt; TypeIndex -&gt; Bool
$c== :: TypeIndex -&gt; TypeIndex -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679382110"><span id="local-6989586621679382112"><span id="local-6989586621679382117"><span class="annot"><span class="annottext">Int -&gt; TypeIndex -&gt; ShowS
[TypeIndex] -&gt; ShowS
TypeIndex -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [TypeIndex] -&gt; ShowS
$cshowList :: [TypeIndex] -&gt; ShowS
show :: TypeIndex -&gt; [Char]
$cshow :: TypeIndex -&gt; [Char]
showsPrec :: Int -&gt; TypeIndex -&gt; ShowS
$cshowsPrec :: Int -&gt; TypeIndex -&gt; ShowS
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679382082"><span id="local-6989586621679382086"><span id="local-6989586621679382090"><span id="local-6989586621679382094"><span id="local-6989586621679382098"><span id="local-6989586621679382102"><span id="local-6989586621679382106"><span class="annot"><span class="annottext">Eq TypeIndex
TypeIndex -&gt; TypeIndex -&gt; Bool
TypeIndex -&gt; TypeIndex -&gt; Ordering
TypeIndex -&gt; TypeIndex -&gt; TypeIndex
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: TypeIndex -&gt; TypeIndex -&gt; TypeIndex
$cmin :: TypeIndex -&gt; TypeIndex -&gt; TypeIndex
max :: TypeIndex -&gt; TypeIndex -&gt; TypeIndex
$cmax :: TypeIndex -&gt; TypeIndex -&gt; TypeIndex
&gt;= :: TypeIndex -&gt; TypeIndex -&gt; Bool
$c&gt;= :: TypeIndex -&gt; TypeIndex -&gt; Bool
&gt; :: TypeIndex -&gt; TypeIndex -&gt; Bool
$c&gt; :: TypeIndex -&gt; TypeIndex -&gt; Bool
&lt;= :: TypeIndex -&gt; TypeIndex -&gt; Bool
$c&lt;= :: TypeIndex -&gt; TypeIndex -&gt; Bool
&lt; :: TypeIndex -&gt; TypeIndex -&gt; Bool
$c&lt; :: TypeIndex -&gt; TypeIndex -&gt; Bool
compare :: TypeIndex -&gt; TypeIndex -&gt; Ordering
$ccompare :: TypeIndex -&gt; TypeIndex -&gt; Ordering
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679382048"><span id="local-6989586621679382052"><span id="local-6989586621679382056"><span id="local-6989586621679382060"><span id="local-6989586621679382064"><span id="local-6989586621679382068"><span id="local-6989586621679382072"><span id="local-6989586621679382077"><span class="annot"><span class="annottext">Int -&gt; TypeIndex
TypeIndex -&gt; Int
TypeIndex -&gt; [TypeIndex]
TypeIndex -&gt; TypeIndex
TypeIndex -&gt; TypeIndex -&gt; [TypeIndex]
TypeIndex -&gt; TypeIndex -&gt; TypeIndex -&gt; [TypeIndex]
forall a.
(a -&gt; a)
-&gt; (a -&gt; a)
-&gt; (Int -&gt; a)
-&gt; (a -&gt; Int)
-&gt; (a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; [a])
-&gt; (a -&gt; a -&gt; a -&gt; [a])
-&gt; Enum a
enumFromThenTo :: TypeIndex -&gt; TypeIndex -&gt; TypeIndex -&gt; [TypeIndex]
$cenumFromThenTo :: TypeIndex -&gt; TypeIndex -&gt; TypeIndex -&gt; [TypeIndex]
enumFromTo :: TypeIndex -&gt; TypeIndex -&gt; [TypeIndex]
$cenumFromTo :: TypeIndex -&gt; TypeIndex -&gt; [TypeIndex]
enumFromThen :: TypeIndex -&gt; TypeIndex -&gt; [TypeIndex]
$cenumFromThen :: TypeIndex -&gt; TypeIndex -&gt; [TypeIndex]
enumFrom :: TypeIndex -&gt; [TypeIndex]
$cenumFrom :: TypeIndex -&gt; [TypeIndex]
fromEnum :: TypeIndex -&gt; Int
$cfromEnum :: TypeIndex -&gt; Int
toEnum :: Int -&gt; TypeIndex
$ctoEnum :: Int -&gt; TypeIndex
pred :: TypeIndex -&gt; TypeIndex
$cpred :: TypeIndex -&gt; TypeIndex
succ :: TypeIndex -&gt; TypeIndex
$csucc :: TypeIndex -&gt; TypeIndex
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Enum.html#Enum"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Enum</span></a></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679382038"><span id="local-6989586621679382040"><span id="local-6989586621679382042"><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/binary-0.8.9.0/src/Data.Binary.Class.html#Binary"><span class="hs-identifier hs-type">Binary</span></a></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span></span></span></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">data</span><span> </span><span id="ExprFrag"><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-var">ExprFrag</span></a></span></span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="FZero"><span class="annot"><a href="Naturals.html#FZero"><span class="hs-identifier hs-var">FZero</span></a></span></span><span>
</span><span id="line-51"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FPair"><span class="annot"><a href="Naturals.html#FPair"><span class="hs-identifier hs-var">FPair</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span>
</span><span id="line-52"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FEnv"><span class="annot"><a href="Naturals.html#FEnv"><span class="hs-identifier hs-var">FEnv</span></a></span></span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FSetEnv"><span class="annot"><a href="Naturals.html#FSetEnv"><span class="hs-identifier hs-var">FSetEnv</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FDefer"><span class="annot"><a href="Naturals.html#FDefer"><span class="hs-identifier hs-var">FDefer</span></a></span></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FGate"><span class="annot"><a href="Naturals.html#FGate"><span class="hs-identifier hs-var">FGate</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span>
</span><span id="line-56"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FLeft"><span class="annot"><a href="Naturals.html#FLeft"><span class="hs-identifier hs-var">FLeft</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span>
</span><span id="line-57"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FRight"><span class="annot"><a href="Naturals.html#FRight"><span class="hs-identifier hs-var">FRight</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FTrace"><span class="annot"><a href="Naturals.html#FTrace"><span class="hs-identifier hs-var">FTrace</span></a></span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-comment">-- complex instructions</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FApp"><span class="annot"><a href="Naturals.html#FApp"><span class="hs-identifier hs-var">FApp</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FNum"><span class="annot"><a href="Naturals.html#FNum"><span class="hs-identifier hs-var">FNum</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Int.html#Int64"><span class="hs-identifier hs-type">Int64</span></a></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="FToNum"><span class="annot"><a href="Naturals.html#FToNum"><span class="hs-identifier hs-var">FToNum</span></a></span></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679382009"><span id="local-6989586621679382023"><span class="annot"><span class="annottext">ExprFrag -&gt; ExprFrag -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ExprFrag -&gt; ExprFrag -&gt; Bool
$c/= :: ExprFrag -&gt; ExprFrag -&gt; Bool
== :: ExprFrag -&gt; ExprFrag -&gt; Bool
$c== :: ExprFrag -&gt; ExprFrag -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381983"><span id="local-6989586621679381985"><span id="local-6989586621679382007"><span class="annot"><span class="annottext">Int -&gt; ExprFrag -&gt; ShowS
[ExprFrag] -&gt; ShowS
ExprFrag -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ExprFrag] -&gt; ShowS
$cshowList :: [ExprFrag] -&gt; ShowS
show :: ExprFrag -&gt; [Char]
$cshow :: ExprFrag -&gt; [Char]
showsPrec :: Int -&gt; ExprFrag -&gt; ShowS
$cshowsPrec :: Int -&gt; ExprFrag -&gt; ShowS
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381955"><span id="local-6989586621679381957"><span id="local-6989586621679381959"><span id="local-6989586621679381961"><span id="local-6989586621679381963"><span id="local-6989586621679381965"><span id="local-6989586621679381979"><span class="annot"><span class="annottext">Eq ExprFrag
ExprFrag -&gt; ExprFrag -&gt; Bool
ExprFrag -&gt; ExprFrag -&gt; Ordering
ExprFrag -&gt; ExprFrag -&gt; ExprFrag
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: ExprFrag -&gt; ExprFrag -&gt; ExprFrag
$cmin :: ExprFrag -&gt; ExprFrag -&gt; ExprFrag
max :: ExprFrag -&gt; ExprFrag -&gt; ExprFrag
$cmax :: ExprFrag -&gt; ExprFrag -&gt; ExprFrag
&gt;= :: ExprFrag -&gt; ExprFrag -&gt; Bool
$c&gt;= :: ExprFrag -&gt; ExprFrag -&gt; Bool
&gt; :: ExprFrag -&gt; ExprFrag -&gt; Bool
$c&gt; :: ExprFrag -&gt; ExprFrag -&gt; Bool
&lt;= :: ExprFrag -&gt; ExprFrag -&gt; Bool
$c&lt;= :: ExprFrag -&gt; ExprFrag -&gt; Bool
&lt; :: ExprFrag -&gt; ExprFrag -&gt; Bool
$c&lt; :: ExprFrag -&gt; ExprFrag -&gt; Bool
compare :: ExprFrag -&gt; ExprFrag -&gt; Ordering
$ccompare :: ExprFrag -&gt; ExprFrag -&gt; Ordering
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span id="traceSet"><span class="annot"><span class="annottext">traceSet :: t FragIndex -&gt; (a -&gt; a) -&gt; a -&gt; a
</span><a href="Naturals.html#traceSet"><span class="hs-identifier hs-var hs-var">traceSet</span></a></span></span><span> </span><span id="local-6989586621679381947"><span class="annot"><span class="annottext">t FragIndex
</span><a href="#local-6989586621679381947"><span class="hs-identifier hs-var">inds</span></a></span></span><span> </span><span id="local-6989586621679381946"><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679381946"><span class="hs-identifier hs-var">ft</span></a></span></span><span> </span><span id="local-6989586621679381945"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679381945"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int -&gt; FragIndex
</span><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-var">FragIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Foldable.html#elem"><span class="hs-operator hs-var">`elem`</span></a></span><span> </span><span class="annot"><span class="annottext">t FragIndex
</span><a href="#local-6989586621679381947"><span class="hs-identifier hs-var">inds</span></a></span><span>
</span><span id="line-66"></span><span>                  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; a -&gt; a
</span><a href="Naturals.html#debugTrace"><span class="hs-identifier hs-var">debugTrace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;env at apply index: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
</span><a href="#local-6989586621679381946"><span class="hs-identifier hs-var">ft</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679381945"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679381945"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-67"></span><span>                  </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679381945"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-68"></span><span class="hs-comment">-- traceSet _ x = x</span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span id="local-6989586621679381940"><span id="local-6989586621679381941"></span></span><span class="hs-keyword">data</span><span> </span><span id="NExpr"><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-var">NExpr</span></a></span></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="NZero"><span class="annot"><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a></span></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NPair"><span class="annot"><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NEnv"><span class="annot"><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a></span></span><span>
</span><span id="line-74"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NSetEnv"><span class="annot"><a href="Naturals.html#NSetEnv"><span class="hs-identifier hs-var">NSetEnv</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-75"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NDefer"><span class="annot"><a href="Naturals.html#NDefer"><span class="hs-identifier hs-var">NDefer</span></a></span></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NGate"><span class="annot"><a href="Naturals.html#NGate"><span class="hs-identifier hs-var">NGate</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NLeft"><span class="annot"><a href="Naturals.html#NLeft"><span class="hs-identifier hs-var">NLeft</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NRight"><span class="annot"><a href="Naturals.html#NRight"><span class="hs-identifier hs-var">NRight</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NTrace"><span class="annot"><a href="Naturals.html#NTrace"><span class="hs-identifier hs-var">NTrace</span></a></span></span><span>
</span><span id="line-80"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NNum"><span class="annot"><a href="Naturals.html#NNum"><span class="hs-identifier hs-var">NNum</span></a></span></span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Int.html#Int64"><span class="hs-identifier hs-type">Int64</span></a></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NAdd"><span class="annot"><a href="Naturals.html#NAdd"><span class="hs-identifier hs-var">NAdd</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NMult"><span class="annot"><a href="Naturals.html#NMult"><span class="hs-identifier hs-var">NMult</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NPow"><span class="annot"><a href="Naturals.html#NPow"><span class="hs-identifier hs-var">NPow</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-comment">{-
  | NForLoop Int64 NExpr -- for runtime, function and number of times to apply it
-}</span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NApp"><span class="annot"><a href="Naturals.html#NApp"><span class="hs-identifier hs-var">NApp</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NOldDefer"><span class="annot"><a href="Naturals.html#NOldDefer"><span class="hs-identifier hs-var">NOldDefer</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span> </span><span class="hs-comment">-- can probably delete</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NToChurch"><span class="annot"><a href="Naturals.html#NToChurch"><span class="hs-identifier hs-var">NToChurch</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NTwiddle"><span class="annot"><a href="Naturals.html#NTwiddle"><span class="hs-identifier hs-var">NTwiddle</span></a></span></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NToNum"><span class="annot"><a href="Naturals.html#NToNum"><span class="hs-identifier hs-var">NToNum</span></a></span></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679381897"><span id="local-6989586621679381920"><span class="annot"><span class="annottext">NExpr -&gt; NExpr -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: NExpr -&gt; NExpr -&gt; Bool
$c/= :: NExpr -&gt; NExpr -&gt; Bool
== :: NExpr -&gt; NExpr -&gt; Bool
$c== :: NExpr -&gt; NExpr -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381856"><span id="local-6989586621679381858"><span id="local-6989586621679381895"><span class="annot"><span class="annottext">Int -&gt; NExpr -&gt; ShowS
[NExpr] -&gt; ShowS
NExpr -&gt; [Char]
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [NExpr] -&gt; ShowS
$cshowList :: [NExpr] -&gt; ShowS
show :: NExpr -&gt; [Char]
$cshow :: NExpr -&gt; [Char]
showsPrec :: Int -&gt; NExpr -&gt; ShowS
$cshowsPrec :: Int -&gt; NExpr -&gt; ShowS
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></a></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381819"><span id="local-6989586621679381821"><span id="local-6989586621679381823"><span id="local-6989586621679381825"><span id="local-6989586621679381827"><span id="local-6989586621679381829"><span id="local-6989586621679381852"><span class="annot"><span class="annottext">Eq NExpr
NExpr -&gt; NExpr -&gt; Bool
NExpr -&gt; NExpr -&gt; Ordering
NExpr -&gt; NExpr -&gt; NExpr
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: NExpr -&gt; NExpr -&gt; NExpr
$cmin :: NExpr -&gt; NExpr -&gt; NExpr
max :: NExpr -&gt; NExpr -&gt; NExpr
$cmax :: NExpr -&gt; NExpr -&gt; NExpr
&gt;= :: NExpr -&gt; NExpr -&gt; Bool
$c&gt;= :: NExpr -&gt; NExpr -&gt; Bool
&gt; :: NExpr -&gt; NExpr -&gt; Bool
$c&gt; :: NExpr -&gt; NExpr -&gt; Bool
&lt;= :: NExpr -&gt; NExpr -&gt; Bool
$c&lt;= :: NExpr -&gt; NExpr -&gt; Bool
&lt; :: NExpr -&gt; NExpr -&gt; Bool
$c&lt; :: NExpr -&gt; NExpr -&gt; Bool
compare :: NExpr -&gt; NExpr -&gt; Ordering
$ccompare :: NExpr -&gt; NExpr -&gt; Ordering
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Ord"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></a></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall x. Rep NExpr x -&gt; NExpr
forall x. NExpr -&gt; Rep NExpr x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep NExpr x -&gt; NExpr
$cfrom :: forall x. NExpr -&gt; Rep NExpr x
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Generics.html#Generic"><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381814"><span class="annot"><span class="annottext">NExpr -&gt; ()
forall a. (a -&gt; ()) -&gt; NFData a
rnf :: NExpr -&gt; ()
$crnf :: NExpr -&gt; ()
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/deepseq-1.4.6.1/src/Control.DeepSeq.html#C%3ANFData"><span class="hs-identifier hs-var hs-var hs-var hs-var">NFData</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span>
</span><span id="line-94"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679381807"><span id="local-6989586621679381809"><span id="local-6989586621679381811"><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/binary-0.8.9.0/src/Data.Binary.Class.html#Binary"><span class="hs-identifier hs-type">Binary</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span></span></span></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Naturals.html#NLamNum"><span class="hs-identifier hs-type">NLamNum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Int.html#Int64"><span class="hs-identifier hs-type">Int64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-97"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24mNLamNum"><span id="NLamNum"><span class="annot"><span class="annottext">$mNLamNum :: forall {r}. NExpr -&gt; (Int64 -&gt; NExpr -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
</span><a href="Naturals.html#%24mNLamNum"><span class="hs-identifier hs-var hs-var">NLamNum</span></a></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679381804"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679381803"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><a href="Naturals.html#NPair"><span class="hs-identifier hs-type">NPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NPair"><span class="hs-identifier hs-type">NPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NNum"><span class="hs-identifier hs-type">NNum</span></a></span><span> </span><span id="local-6989586621679381804"><span class="annot"><a href="#local-6989586621679381804"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Naturals.html#NEnv"><span class="hs-identifier hs-type">NEnv</span></a></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679381803"><span class="annot"><a href="#local-6989586621679381803"><span class="hs-identifier hs-var">e</span></a></span></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-keyword">pattern</span><span> </span><span class="annot"><a href="Naturals.html#NPartialNum"><span class="hs-identifier hs-type">NPartialNum</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Int.html#Int64"><span class="hs-identifier hs-type">Int64</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-100"></span><span class="hs-keyword">pattern</span><span> </span><span id="%24mNPartialNum"><span id="NPartialNum"><span class="annot"><span class="annottext">$mNPartialNum :: forall {r}. NExpr -&gt; (Int64 -&gt; NExpr -&gt; r) -&gt; ((# #) -&gt; r) -&gt; r
</span><a href="Naturals.html#%24mNPartialNum"><span class="hs-identifier hs-var hs-var">NPartialNum</span></a></span></span></span><span> </span><span class="annot"><a href="#local-6989586621679381800"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679381799"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NPair"><span class="hs-identifier hs-type">NPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NNum"><span class="hs-identifier hs-type">NNum</span></a></span><span> </span><span id="local-6989586621679381800"><span class="annot"><a href="#local-6989586621679381800"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679381799"><span class="annot"><a href="#local-6989586621679381799"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="annot"><a href="Naturals.html#nlam"><span class="hs-identifier hs-type">nlam</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-103"></span><span id="nlam"><span class="annot"><span class="annottext">nlam :: NExpr -&gt; NExpr
</span><a href="Naturals.html#nlam"><span class="hs-identifier hs-var hs-var">nlam</span></a></span></span><span> </span><span id="local-6989586621679381797"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381797"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; NExpr -&gt; NExpr
</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NExpr -&gt; NExpr
</span><a href="Naturals.html#NOldDefer"><span class="hs-identifier hs-var">NOldDefer</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381797"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-keyword">type</span><span> </span><span id="NResult"><span class="annot"><a href="Naturals.html#NResult"><span class="hs-identifier hs-var">NResult</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-keyword">newtype</span><span> </span><span id="NExprs"><span class="annot"><a href="Naturals.html#NExprs"><span class="hs-identifier hs-var">NExprs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NExprs"><span class="annot"><a href="Naturals.html#NExprs"><span class="hs-identifier hs-var">NExprs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NResult"><span class="hs-identifier hs-type">NResult</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679381786"><span id="local-6989586621679381793"><span class="annot"><span class="annottext">NExprs -&gt; NExprs -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: NExprs -&gt; NExprs -&gt; Bool
$c/= :: NExprs -&gt; NExprs -&gt; Bool
== :: NExprs -&gt; NExprs -&gt; Bool
$c== :: NExprs -&gt; NExprs -&gt; Bool
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/ghc-prim-0.8.0/src/GHC.Classes.html#Eq"><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></a></span></span></span><span>
</span><span id="line-108"></span><span>
</span><span id="line-109"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679381776"><span id="local-6989586621679381779"><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#Show"><span class="hs-identifier hs-type">Show</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NExprs"><span class="hs-identifier hs-type">NExprs</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-110"></span><span>  </span><span id="local-6989586621679381775"><span class="annot"><span class="annottext">show :: NExprs -&gt; [Char]
</span><a href="#local-6989586621679381775"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NExprs"><span class="hs-identifier hs-type">NExprs</span></a></span><span> </span><span id="local-6989586621679381774"><span class="annot"><span class="annottext">Map FragIndex NExpr
</span><a href="#local-6989586621679381774"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-111"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679381754"><span class="annot"><span class="annottext">showInner :: NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var hs-var">showInner</span></a></span></span><span> </span><span id="local-6989586621679381753"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381753"><span class="hs-identifier hs-var">frag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381753"><span class="hs-identifier hs-var">frag</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-112"></span><span>          </span><span class="annot"><span class="annottext">NExpr
</span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NZero&quot;</span></span><span>
</span><span id="line-113"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NPair"><span class="hs-identifier hs-type">NPair</span></a></span><span> </span><span id="local-6989586621679381752"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381752"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679381751"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381751"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;( &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381752"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;, &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381751"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; )&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-114"></span><span>          </span><span class="annot"><span class="annottext">NExpr
</span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NEnv&quot;</span></span><span>
</span><span id="line-115"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NSetEnv"><span class="hs-identifier hs-type">NSetEnv</span></a></span><span> </span><span id="local-6989586621679381749"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381749"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NSetEnv (&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381749"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;)&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-116"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NDefer"><span class="hs-identifier hs-type">NDefer</span></a></span><span> </span><span id="local-6989586621679381748"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381748"><span class="hs-identifier hs-var">ind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381748"><span class="hs-identifier hs-var">ind</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex NExpr
</span><a href="#local-6989586621679381774"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-117"></span><span>            </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679381746"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381746"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NDefer (&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381746"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;)&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-118"></span><span>            </span><span class="annot"><span class="annottext">Maybe NExpr
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ERROR undefined index in showing NExprs: &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381748"><span class="hs-identifier hs-var">ind</span></a></span><span>
</span><span id="line-119"></span><span>          </span><span class="annot"><a href="Naturals.html#NGate"><span class="hs-identifier hs-type">NGate</span></a></span><span> </span><span id="local-6989586621679381745"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381745"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679381744"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381744"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NGate (&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381745"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381744"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; )&quot;</span></span><span>
</span><span id="line-120"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NLeft"><span class="hs-identifier hs-type">NLeft</span></a></span><span> </span><span id="local-6989586621679381743"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381743"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NLeft (&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381743"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;)&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-121"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NRight"><span class="hs-identifier hs-type">NRight</span></a></span><span> </span><span id="local-6989586621679381742"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381742"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NRight (&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381742"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;)&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-122"></span><span>          </span><span class="annot"><span class="annottext">NExpr
</span><a href="Naturals.html#NTrace"><span class="hs-identifier hs-var">NTrace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NTrace&quot;</span></span><span>
</span><span id="line-123"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NAdd"><span class="hs-identifier hs-type">NAdd</span></a></span><span> </span><span id="local-6989586621679381741"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381741"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679381740"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381740"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NAdd (&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381741"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381740"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; )&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-124"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NMult"><span class="hs-identifier hs-type">NMult</span></a></span><span> </span><span id="local-6989586621679381739"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381739"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679381738"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381738"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NMult (&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381739"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381738"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; )&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-125"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NPow"><span class="hs-identifier hs-type">NPow</span></a></span><span> </span><span id="local-6989586621679381737"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381737"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679381736"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381736"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Foldable.html#concat"><span class="hs-identifier hs-var">concat</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NPow (&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381737"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381736"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; )&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-126"></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#NOldDefer"><span class="hs-identifier hs-type">NOldDefer</span></a></span><span> </span><span id="local-6989586621679381735"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381735"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;NOldDefer (&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381735"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-127"></span><span>          </span><span id="local-6989586621679381734"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381734"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381734"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a -&gt; Maybe (a, Map k a)
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#minView"><span class="hs-identifier hs-var">Map.minView</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex NExpr
</span><a href="#local-6989586621679381774"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-129"></span><span>      </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679381732"><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381732"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Map FragIndex NExpr
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; [Char]
</span><a href="#local-6989586621679381754"><span class="hs-identifier hs-var">showInner</span></a></span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="#local-6989586621679381732"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-130"></span><span>      </span><span class="annot"><span class="annottext">Maybe (NExpr, Map FragIndex NExpr)
</span><span class="hs-identifier">_</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ERROR no root to NExprs tree&quot;</span></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-keyword">type</span><span> </span><span id="FragState"><span class="annot"><a href="Naturals.html#FragState"><span class="hs-identifier hs-var">FragState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.State.Lazy.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-type">toFrag</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Naturals.html#FragState"><span class="hs-identifier hs-type">FragState</span></a></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span>
</span><span id="line-135"></span><span class="hs-comment">-- complex instructions</span><span>
</span><span id="line-136"></span><span id="toFrag"><span class="annot"><span class="annottext">toFrag :: IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var hs-var">toFrag</span></a></span></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#ToChurch"><span class="hs-identifier hs-var">ToChurch</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FToNum"><span class="hs-identifier hs-var">FToNum</span></a></span><span>
</span><span id="line-137"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#ChurchNum"><span class="hs-identifier hs-type">ChurchNum</span></a></span><span> </span><span id="local-6989586621679381730"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679381730"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#."><span class="hs-operator hs-var">.</span></a></span><span> </span><span class="annot"><span class="annottext">Int64 -&gt; ExprFrag
</span><a href="Naturals.html#FNum"><span class="hs-identifier hs-var">FNum</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Real.html#fromIntegral"><span class="hs-identifier hs-var">fromIntegral</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679381730"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-138"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#App"><span class="hs-identifier hs-type">App</span></a></span><span> </span><span id="local-6989586621679381728"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381728"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679381727"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381727"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; ExprFrag -&gt; ExprFrag
</span><a href="Naturals.html#FApp"><span class="hs-identifier hs-var">FApp</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381728"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381727"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-139"></span><span class="hs-comment">-- simple instructions</span><span>
</span><span id="line-140"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FZero"><span class="hs-identifier hs-var">FZero</span></a></span><span>
</span><span id="line-141"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Pair"><span class="hs-identifier hs-type">Pair</span></a></span><span> </span><span id="local-6989586621679381723"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381723"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679381722"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381722"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; ExprFrag -&gt; ExprFrag
</span><a href="Naturals.html#FPair"><span class="hs-identifier hs-var">FPair</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381723"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381722"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-142"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Env"><span class="hs-identifier hs-var">Env</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FEnv"><span class="hs-identifier hs-var">FEnv</span></a></span><span>
</span><span id="line-143"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#SetEnv"><span class="hs-identifier hs-type">SetEnv</span></a></span><span> </span><span id="local-6989586621679381719"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381719"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; ExprFrag
</span><a href="Naturals.html#FSetEnv"><span class="hs-identifier hs-var">FSetEnv</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381719"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-144"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Defer"><span class="hs-identifier hs-type">Defer</span></a></span><span> </span><span id="local-6989586621679381717"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381717"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-145"></span><span>  </span><span id="local-6989586621679381716"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381716"><span class="hs-identifier hs-var">nx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381717"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679381715"><span class="annot"><span class="annottext">ei :: FragIndex
</span><a href="#local-6989586621679381715"><span class="hs-identifier hs-var">ei</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span id="local-6989586621679381714"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679381714"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381713"><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381713"><span class="hs-identifier hs-var">fragMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall s (m :: * -&gt; *). MonadState s m =&gt; m s
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.State.Class.html#get"><span class="hs-identifier hs-var">State.get</span></a></span><span>
</span><span id="line-147"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679381711"><span class="annot"><span class="annottext">td :: a -&gt; a
</span><a href="#local-6989586621679381711"><span class="hs-identifier hs-var hs-var">td</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#id"><span class="hs-identifier hs-var">id</span></a></span><span> </span><span class="hs-comment">-- trace (&quot;adding defer &quot; ++ show i ++ &quot; - &quot; ++ show nx)</span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><span class="annottext">forall s (m :: * -&gt; *). MonadState s m =&gt; s -&gt; m ()
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/mtl-2.2.2/src/Control.Monad.State.Class.html#put"><span class="hs-identifier hs-var">State.put</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; FragIndex
</span><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-var">FragIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679381714"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Num.html#%2B"><span class="hs-operator hs-var">+</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><a href="#local-6989586621679381711"><span class="hs-identifier hs-var">td</span></a></span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">Map.insert</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381715"><span class="hs-identifier hs-var">ei</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381716"><span class="hs-identifier hs-var">nx</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381713"><span class="hs-identifier hs-var">fragMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex -&gt; ExprFrag
</span><a href="Naturals.html#FDefer"><span class="hs-identifier hs-var">FDefer</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381715"><span class="hs-identifier hs-var">ei</span></a></span><span>
</span><span id="line-150"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#Gate"><span class="hs-identifier hs-type">Gate</span></a></span><span> </span><span id="local-6989586621679381705"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381705"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679381704"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381704"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; ExprFrag -&gt; ExprFrag
</span><a href="Naturals.html#FGate"><span class="hs-identifier hs-var">FGate</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381705"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381704"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-151"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#PLeft"><span class="hs-identifier hs-type">PLeft</span></a></span><span> </span><span id="local-6989586621679381702"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381702"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; ExprFrag
</span><a href="Naturals.html#FLeft"><span class="hs-identifier hs-var">FLeft</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381702"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-152"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Telomare.html#PRight"><span class="hs-identifier hs-type">PRight</span></a></span><span> </span><span id="local-6989586621679381700"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381700"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; ExprFrag
</span><a href="Naturals.html#FRight"><span class="hs-identifier hs-var">FRight</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381700"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-153"></span><span class="annot"><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Trace"><span class="hs-identifier hs-var">Trace</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FTrace"><span class="hs-identifier hs-var">FTrace</span></a></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="annot"><a href="Naturals.html#fromFrag"><span class="hs-identifier hs-type">fromFrag</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span>
</span><span id="line-156"></span><span id="fromFrag"><span class="annot"><span class="annottext">fromFrag :: Map FragIndex ExprFrag -&gt; ExprFrag -&gt; IExpr
</span><a href="Naturals.html#fromFrag"><span class="hs-identifier hs-var hs-var">fromFrag</span></a></span></span><span> </span><span id="local-6989586621679381697"><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381697"><span class="hs-identifier hs-var">fragMap</span></a></span></span><span> </span><span id="local-6989586621679381696"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381696"><span class="hs-identifier hs-var">frag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679381695"><span class="annot"><span class="annottext">recur :: ExprFrag -&gt; IExpr
</span><a href="#local-6989586621679381695"><span class="hs-identifier hs-var hs-var">recur</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag -&gt; ExprFrag -&gt; IExpr
</span><a href="Naturals.html#fromFrag"><span class="hs-identifier hs-var">fromFrag</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381697"><span class="hs-identifier hs-var">fragMap</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381696"><span class="hs-identifier hs-var">frag</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-157"></span><span>  </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FZero"><span class="hs-identifier hs-var">FZero</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Zero"><span class="hs-identifier hs-var">Zero</span></a></span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FPair"><span class="hs-identifier hs-type">FPair</span></a></span><span> </span><span id="local-6989586621679381694"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381694"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679381693"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381693"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#Pair"><span class="hs-identifier hs-var">Pair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; IExpr
</span><a href="#local-6989586621679381695"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381694"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; IExpr
</span><a href="#local-6989586621679381695"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381693"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FEnv"><span class="hs-identifier hs-var">FEnv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Env"><span class="hs-identifier hs-var">Env</span></a></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FSetEnv"><span class="hs-identifier hs-type">FSetEnv</span></a></span><span> </span><span id="local-6989586621679381692"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381692"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#SetEnv"><span class="hs-identifier hs-var">SetEnv</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; IExpr
</span><a href="#local-6989586621679381695"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381692"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FDefer"><span class="hs-identifier hs-type">FDefer</span></a></span><span> </span><span id="local-6989586621679381691"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381691"><span class="hs-identifier hs-var">fi</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381691"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381697"><span class="hs-identifier hs-var">fragMap</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-162"></span><span>    </span><span class="annot"><span class="annottext">Maybe ExprFrag
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;fromFrag bad index &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381691"><span class="hs-identifier hs-var">fi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>    </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-type">Just</span></a></span><span> </span><span id="local-6989586621679381689"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381689"><span class="hs-identifier hs-var">subFrag</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#Defer"><span class="hs-identifier hs-var">Defer</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; IExpr
</span><a href="#local-6989586621679381695"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381689"><span class="hs-identifier hs-var">subFrag</span></a></span><span>
</span><span id="line-164"></span><span>  </span><span class="annot"><a href="Naturals.html#FGate"><span class="hs-identifier hs-type">FGate</span></a></span><span> </span><span id="local-6989586621679381688"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381688"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679381687"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381687"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr -&gt; IExpr
</span><a href="Telomare.html#Gate"><span class="hs-identifier hs-var">Gate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; IExpr
</span><a href="#local-6989586621679381695"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381688"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; IExpr
</span><a href="#local-6989586621679381695"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381687"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FLeft"><span class="hs-identifier hs-type">FLeft</span></a></span><span> </span><span id="local-6989586621679381686"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381686"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#PLeft"><span class="hs-identifier hs-var">PLeft</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; IExpr
</span><a href="#local-6989586621679381695"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381686"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FRight"><span class="hs-identifier hs-type">FRight</span></a></span><span> </span><span id="local-6989586621679381685"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381685"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr -&gt; IExpr
</span><a href="Telomare.html#PRight"><span class="hs-identifier hs-var">PRight</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; IExpr
</span><a href="#local-6989586621679381695"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381685"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-167"></span><span>  </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FTrace"><span class="hs-identifier hs-var">FTrace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="Telomare.html#Trace"><span class="hs-identifier hs-var">Trace</span></a></span><span>
</span><span id="line-168"></span><span>  </span><span id="local-6989586621679381684"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381684"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [Char] -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Err.html#error"><span class="hs-identifier hs-var">error</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;fromFrag TODO convert &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%3E"><span class="hs-operator hs-var">&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Show.html#show"><span class="hs-identifier hs-var">show</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381684"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="annot"><a href="Naturals.html#matchChurchPlus"><span class="hs-identifier hs-type">matchChurchPlus</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span id="matchChurchPlus"><span class="annot"><span class="annottext">matchChurchPlus :: Map FragIndex ExprFrag -&gt; ExprFrag -&gt; Maybe (ExprFrag, ExprFrag)
</span><a href="Naturals.html#matchChurchPlus"><span class="hs-identifier hs-var hs-var">matchChurchPlus</span></a></span></span><span> </span><span id="local-6989586621679381682"><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381682"><span class="hs-identifier hs-var">fragMap</span></a></span></span><span> </span><span id="local-6989586621679381681"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381681"><span class="hs-identifier hs-var">frag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679381679"><span class="annot"><span class="annottext">lam :: ExprFrag -&gt; Maybe ExprFrag
</span><a href="#local-6989586621679381679"><span class="hs-identifier hs-var hs-var">lam</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FPair"><span class="hs-identifier hs-type">FPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FDefer"><span class="hs-identifier hs-type">FDefer</span></a></span><span> </span><span id="local-6989586621679381678"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381678"><span class="hs-identifier hs-var">ind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FEnv"><span class="hs-identifier hs-var">FEnv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381678"><span class="hs-identifier hs-var">ind</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381682"><span class="hs-identifier hs-var">fragMap</span></a></span><span>
</span><span id="line-173"></span><span>      </span><span class="annot"><a href="#local-6989586621679381679"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><span class="hs-identifier">_</span></span><span>                         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-174"></span><span>      </span><span id="local-6989586621679381676"><span class="annot"><span class="annottext">def :: ExprFrag -&gt; Maybe ExprFrag
</span><a href="#local-6989586621679381676"><span class="hs-identifier hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FDefer"><span class="hs-identifier hs-type">FDefer</span></a></span><span> </span><span id="local-6989586621679381675"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381675"><span class="hs-identifier hs-var">ind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381675"><span class="hs-identifier hs-var">ind</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381682"><span class="hs-identifier hs-var">fragMap</span></a></span><span>
</span><span id="line-175"></span><span>      </span><span class="annot"><a href="#local-6989586621679381676"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-176"></span><span>      </span><span id="local-6989586621679381674"><span class="annot"><span class="annottext">firstArg :: ExprFrag -&gt; Maybe ()
</span><a href="#local-6989586621679381674"><span class="hs-identifier hs-var hs-var">firstArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FLeft"><span class="hs-identifier hs-type">FLeft</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FEnv"><span class="hs-identifier hs-var">FEnv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>      </span><span class="annot"><a href="#local-6989586621679381674"><span class="hs-identifier hs-var">firstArg</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-178"></span><span>      </span><span id="local-6989586621679381673"><span class="annot"><span class="annottext">secondArg :: ExprFrag -&gt; Maybe ()
</span><a href="#local-6989586621679381673"><span class="hs-identifier hs-var hs-var">secondArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FLeft"><span class="hs-identifier hs-type">FLeft</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FRight"><span class="hs-identifier hs-type">FRight</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FEnv"><span class="hs-identifier hs-var">FEnv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>      </span><span class="annot"><a href="#local-6989586621679381673"><span class="hs-identifier hs-var">secondArg</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><span class="hs-identifier">_</span></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-180"></span><span>      </span><span id="local-6989586621679381672"><span class="annot"><span class="annottext">app :: ExprFrag -&gt; Maybe (ExprFrag, ExprFrag)
</span><a href="#local-6989586621679381672"><span class="hs-identifier hs-var hs-var">app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe (ExprFrag, ExprFrag)
</span><a href="Naturals.html#matchApp"><span class="hs-identifier hs-var">matchApp</span></a></span><span>
</span><span id="line-181"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe ExprFrag
</span><a href="#local-6989586621679381679"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381681"><span class="hs-identifier hs-var">frag</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe ExprFrag
</span><a href="#local-6989586621679381679"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe (ExprFrag, ExprFrag)
</span><a href="#local-6989586621679381672"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679381670"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381670"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381669"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381669"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe (ExprFrag, ExprFrag)
</span><a href="#local-6989586621679381672"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381670"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679381668"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381668"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381667"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381667"><span class="hs-identifier hs-var">sa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe ()
</span><a href="#local-6989586621679381673"><span class="hs-identifier hs-var">secondArg</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381667"><span class="hs-identifier hs-var">sa</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381668"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>                                              </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3C%2A%3E"><span class="hs-operator hs-var">&lt;*&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe (ExprFrag, ExprFrag)
</span><a href="#local-6989586621679381672"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381669"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679381666"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381666"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381665"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381665"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe ()
</span><a href="#local-6989586621679381674"><span class="hs-identifier hs-var">firstArg</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381665"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe (ExprFrag, ExprFrag)
</span><a href="#local-6989586621679381672"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381666"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-183"></span><span>                                                               </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679381664"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381664"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381663"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381663"><span class="hs-identifier hs-var">sa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe ()
</span><a href="#local-6989586621679381673"><span class="hs-identifier hs-var">secondArg</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381663"><span class="hs-identifier hs-var">sa</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381664"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-184"></span><span>                                  </span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="annot"><a href="Naturals.html#matchChurchMult"><span class="hs-identifier hs-type">matchChurchMult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-187"></span><span id="matchChurchMult"><span class="annot"><span class="annottext">matchChurchMult :: Map FragIndex ExprFrag -&gt; ExprFrag -&gt; Maybe (ExprFrag, ExprFrag)
</span><a href="Naturals.html#matchChurchMult"><span class="hs-identifier hs-var hs-var">matchChurchMult</span></a></span></span><span> </span><span id="local-6989586621679381661"><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381661"><span class="hs-identifier hs-var">fragMap</span></a></span></span><span> </span><span id="local-6989586621679381660"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381660"><span class="hs-identifier hs-var">frag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679381658"><span class="annot"><span class="annottext">lam :: ExprFrag -&gt; Maybe ExprFrag
</span><a href="#local-6989586621679381658"><span class="hs-identifier hs-var hs-var">lam</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FPair"><span class="hs-identifier hs-type">FPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FDefer"><span class="hs-identifier hs-type">FDefer</span></a></span><span> </span><span id="local-6989586621679381657"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381657"><span class="hs-identifier hs-var">ind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FEnv"><span class="hs-identifier hs-var">FEnv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381657"><span class="hs-identifier hs-var">ind</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381661"><span class="hs-identifier hs-var">fragMap</span></a></span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><a href="#local-6989586621679381658"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><span class="hs-identifier">_</span></span><span>                         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-190"></span><span>      </span><span id="local-6989586621679381655"><span class="annot"><span class="annottext">def :: ExprFrag -&gt; Maybe ExprFrag
</span><a href="#local-6989586621679381655"><span class="hs-identifier hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FDefer"><span class="hs-identifier hs-type">FDefer</span></a></span><span> </span><span id="local-6989586621679381654"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381654"><span class="hs-identifier hs-var">ind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#lookup"><span class="hs-identifier hs-var">Map.lookup</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381654"><span class="hs-identifier hs-var">ind</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381661"><span class="hs-identifier hs-var">fragMap</span></a></span><span>
</span><span id="line-191"></span><span>      </span><span class="annot"><a href="#local-6989586621679381655"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-192"></span><span>      </span><span id="local-6989586621679381653"><span class="annot"><span class="annottext">firstArg :: ExprFrag -&gt; Maybe ()
</span><a href="#local-6989586621679381653"><span class="hs-identifier hs-var hs-var">firstArg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FLeft"><span class="hs-identifier hs-type">FLeft</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FEnv"><span class="hs-identifier hs-var">FEnv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><a href="#local-6989586621679381653"><span class="hs-identifier hs-var">firstArg</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><span class="hs-identifier">_</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe ExprFrag
</span><a href="#local-6989586621679381658"><span class="hs-identifier hs-var">lam</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381660"><span class="hs-identifier hs-var">frag</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe (ExprFrag, ExprFrag)
</span><a href="Naturals.html#matchApp"><span class="hs-identifier hs-var">matchApp</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679381652"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381652"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381651"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381651"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381652"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/Data.Functor.html#%3C%24%3E"><span class="hs-operator hs-var">&lt;$&gt;</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe (ExprFrag, ExprFrag)
</span><a href="Naturals.html#matchApp"><span class="hs-identifier hs-var">matchApp</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381651"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E%3D"><span class="hs-operator hs-var">&gt;&gt;=</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679381650"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381650"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381649"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381649"><span class="hs-identifier hs-var">fa</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; Maybe ()
</span><a href="#local-6989586621679381653"><span class="hs-identifier hs-var">firstArg</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381649"><span class="hs-identifier hs-var">fa</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%3E%3E"><span class="hs-operator hs-var">&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#pure"><span class="hs-identifier hs-var">pure</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381650"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span class="annot"><a href="Naturals.html#matchApp"><span class="hs-identifier hs-type">matchApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Maybe"><span class="hs-identifier hs-type">Maybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span id="matchApp"><span class="annot"><span class="annottext">matchApp :: ExprFrag -&gt; Maybe (ExprFrag, ExprFrag)
</span><a href="Naturals.html#matchApp"><span class="hs-identifier hs-var hs-var">matchApp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FApp"><span class="hs-identifier hs-type">FApp</span></a></span><span> </span><span id="local-6989586621679381648"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381648"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679381647"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381647"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Just"><span class="hs-identifier hs-var">Just</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381648"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381647"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span class="annot"><a href="Naturals.html#matchApp"><span class="hs-identifier hs-var">matchApp</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><span class="hs-identifier">_</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Maybe.html#Nothing"><span class="hs-identifier hs-var">Nothing</span></a></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="annot"><a href="Naturals.html#fragmentExpr"><span class="hs-identifier hs-type">fragmentExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Telomare.html#IExpr"><span class="hs-identifier hs-type">IExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span>
</span><span id="line-201"></span><span id="fragmentExpr"><span class="annot"><span class="annottext">fragmentExpr :: IExpr -&gt; Map FragIndex ExprFrag
</span><a href="Naturals.html#fragmentExpr"><span class="hs-identifier hs-var hs-var">fragmentExpr</span></a></span></span><span> </span><span id="local-6989586621679381645"><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381645"><span class="hs-identifier hs-var">iexpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679381644"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381644"><span class="hs-identifier hs-var">expr</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679381643"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381643"><span class="hs-identifier hs-var">li</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679381642"><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381642"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a. State s a -&gt; s -&gt; (a, s)
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/transformers-0.5.6.2/src/Control.Monad.Trans.State.Lazy.html#runState"><span class="hs-identifier hs-var">State.runState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IExpr -&gt; FragState ExprFrag
</span><a href="Naturals.html#toFrag"><span class="hs-identifier hs-var">toFrag</span></a></span><span> </span><span class="annot"><span class="annottext">IExpr
</span><a href="#local-6989586621679381645"><span class="hs-identifier hs-var">iexpr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; FragIndex
</span><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-var">FragIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall k a. Map k a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#empty"><span class="hs-identifier hs-var">Map.empty</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span>                         </span><span id="local-6989586621679381638"><span class="annot"><span class="annottext">fragMap :: Map FragIndex ExprFrag
</span><a href="#local-6989586621679381638"><span class="hs-identifier hs-var hs-var">fragMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; a -&gt; Map k a -&gt; Map k a
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#insert"><span class="hs-identifier hs-var">Map.insert</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; FragIndex
</span><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-var">FragIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381644"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381642"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-203"></span><span>                         </span><span class="hs-comment">-- tt x = trace (show x) x</span><span>
</span><span id="line-204"></span><span>                     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381638"><span class="hs-identifier hs-var">fragMap</span></a></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="annot"><a href="Naturals.html#fragToNExpr"><span class="hs-identifier hs-type">fragToNExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Naturals.html#NExpr"><span class="hs-identifier hs-type">NExpr</span></a></span><span>
</span><span id="line-207"></span><span id="fragToNExpr"><span class="annot"><span class="annottext">fragToNExpr :: Map FragIndex ExprFrag -&gt; ExprFrag -&gt; NExpr
</span><a href="Naturals.html#fragToNExpr"><span class="hs-identifier hs-var hs-var">fragToNExpr</span></a></span></span><span> </span><span id="local-6989586621679381636"><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381636"><span class="hs-identifier hs-var">fragMap</span></a></span></span><span> </span><span id="local-6989586621679381635"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381635"><span class="hs-identifier hs-var">frag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-208"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679381634"><span class="annot"><span class="annottext">recur :: ExprFrag -&gt; NExpr
</span><a href="#local-6989586621679381634"><span class="hs-identifier hs-var hs-var">recur</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag -&gt; ExprFrag -&gt; NExpr
</span><a href="Naturals.html#fragToNExpr"><span class="hs-identifier hs-var">fragToNExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381636"><span class="hs-identifier hs-var">fragMap</span></a></span><span>
</span><span id="line-209"></span><span>        </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381635"><span class="hs-identifier hs-var">frag</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-210"></span><span>            </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FZero"><span class="hs-identifier hs-var">FZero</span></a></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="Naturals.html#NZero"><span class="hs-identifier hs-var">NZero</span></a></span><span>
</span><span id="line-211"></span><span>            </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FEnv"><span class="hs-identifier hs-var">FEnv</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a></span><span>
</span><span id="line-212"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FPair"><span class="hs-identifier hs-type">FPair</span></a></span><span> </span><span id="local-6989586621679381633"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381633"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679381632"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381632"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; NExpr -&gt; NExpr
</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; NExpr
</span><a href="#local-6989586621679381634"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381633"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; NExpr
</span><a href="#local-6989586621679381634"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381632"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-213"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FSetEnv"><span class="hs-identifier hs-type">FSetEnv</span></a></span><span> </span><span id="local-6989586621679381631"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381631"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; NExpr
</span><a href="Naturals.html#NSetEnv"><span class="hs-identifier hs-var">NSetEnv</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; NExpr
</span><a href="#local-6989586621679381634"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381631"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-214"></span><span>            </span><span class="annot"><a href="Naturals.html#FGate"><span class="hs-identifier hs-type">FGate</span></a></span><span> </span><span id="local-6989586621679381630"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381630"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621679381629"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381629"><span class="hs-identifier hs-var">r</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; NExpr -&gt; NExpr
</span><a href="Naturals.html#NGate"><span class="hs-identifier hs-var">NGate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; NExpr
</span><a href="#local-6989586621679381634"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381630"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; NExpr
</span><a href="#local-6989586621679381634"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381629"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FLeft"><span class="hs-identifier hs-type">FLeft</span></a></span><span> </span><span id="local-6989586621679381628"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381628"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; NExpr
</span><a href="Naturals.html#NLeft"><span class="hs-identifier hs-var">NLeft</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; NExpr
</span><a href="#local-6989586621679381634"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381628"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-216"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FRight"><span class="hs-identifier hs-type">FRight</span></a></span><span> </span><span id="local-6989586621679381627"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381627"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; NExpr
</span><a href="Naturals.html#NRight"><span class="hs-identifier hs-var">NRight</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/base-4.16.3.0/src/GHC.Base.html#%24"><span class="hs-operator hs-var">$</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag -&gt; NExpr
</span><a href="#local-6989586621679381634"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381627"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-217"></span><span>            </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FTrace"><span class="hs-identifier hs-var">FTrace</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="Naturals.html#NTrace"><span class="hs-identifier hs-var">NTrace</span></a></span><span>
</span><span id="line-218"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FDefer"><span class="hs-identifier hs-type">FDefer</span></a></span><span> </span><span id="local-6989586621679381626"><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381626"><span class="hs-identifier hs-var">ind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FragIndex -&gt; NExpr
</span><a href="Naturals.html#NDefer"><span class="hs-identifier hs-var">NDefer</span></a></span><span> </span><span class="annot"><span class="annottext">FragIndex
</span><a href="#local-6989586621679381626"><span class="hs-identifier hs-var">ind</span></a></span><span>
</span><span id="line-219"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FNum"><span class="hs-identifier hs-type">FNum</span></a></span><span> </span><span id="local-6989586621679381625"><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679381625"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; NExpr -&gt; NExpr
</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NExpr -&gt; NExpr
</span><a href="Naturals.html#NOldDefer"><span class="hs-identifier hs-var">NOldDefer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NExpr -&gt; NExpr -&gt; NExpr
</span><a href="Naturals.html#NPair"><span class="hs-identifier hs-var">NPair</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int64 -&gt; NExpr
</span><a href="Naturals.html#NNum"><span class="hs-identifier hs-var">NNum</span></a></span><span> </span><span class="annot"><span class="annottext">Int64
</span><a href="#local-6989586621679381625"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="Naturals.html#NEnv"><span class="hs-identifier hs-var">NEnv</span></a></span><span>
</span><span id="line-220"></span><span>            </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="Naturals.html#FToNum"><span class="hs-identifier hs-var">FToNum</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr
</span><a href="Naturals.html#NToNum"><span class="hs-identifier hs-var">NToNum</span></a></span><span>
</span><span id="line-221"></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Naturals.html#FApp"><span class="hs-identifier hs-type">FApp</span></a></span><span> </span><span id="local-6989586621679381624"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381624"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621679381623"><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381623"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NExpr -&gt; NExpr -&gt; NExpr
</span><a href="Naturals.html#NApp"><span class="hs-identifier hs-var">NApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; NExpr
</span><a href="#local-6989586621679381634"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381624"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExprFrag -&gt; NExpr
</span><a href="#local-6989586621679381634"><span class="hs-identifier hs-var">recur</span></a></span><span> </span><span class="annot"><span class="annottext">ExprFrag
</span><a href="#local-6989586621679381623"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="annot"><a href="Naturals.html#fragsToNExpr"><span class="hs-identifier hs-type">fragsToNExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span class="annot"><a href="Naturals.html#ExprFrag"><span class="hs-identifier hs-type">ExprFrag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#Map"><span class="hs-identifier hs-type">Map</span></a></span><span> </span><span class="annot"><a href="Telomare.html#FragIndex"><span class="hs-identifier hs-type">FragIndex</span></a></span><span> </span><span class="annot"><a href="Naturals.html#NResult"><span class="hs-identifier hs-type">NResult</span></a></span><span>
</span><span id="line-224"></span><span id="fragsToNExpr"><span class="annot"><span class="annottext">fragsToNExpr :: Map FragIndex ExprFrag -&gt; Map FragIndex NExpr
</span><a href="Naturals.html#fragsToNExpr"><span class="hs-identifier hs-var hs-var">fragsToNExpr</span></a></span></span><span> </span><span id="local-6989586621679381621"><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381621"><span class="hs-identifier hs-var">fragMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b k. (a -&gt; b) -&gt; Map k a -&gt; Map k b
</span><a href="file:///nix/store/vf2iy631xvajyjs6ylf26ibdr7f0qh6s-ghc-9.2.4-doc/share/doc/ghc/html/libraries/containers-0.6.5.1/src/Data.Map.Internal.html#map"><span class="hs-identifier hs-var">Map.map</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map FragIndex ExprFrag -&gt; ExprFrag -&gt; NExpr
</span><a href="Naturals.html#fragToNExpr"><span class="hs-identifier hs-var">fragToNExpr</span></a></span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381621"><span class="hs-identifier hs-var">fragMap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Map FragIndex ExprFrag
</span><a href="#local-6989586621679381621"><span class="hs-identifier hs-var">fragMap</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span id="debugShow"><span class="annot"><span class="annottext">debugShow :: p -&gt; p
</span><a href="Naturals.html#debugShow"><span class="hs-identifier hs-var hs-var">debugShow</span></a></span></span><span> </span><span id="local-6989586621679381618"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679381618"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679381618"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-comment">-- trace (&quot;toNExpr\n&quot; ++ show x) x</span><span>
</span><span id="line-227"></span></pre></body></html>